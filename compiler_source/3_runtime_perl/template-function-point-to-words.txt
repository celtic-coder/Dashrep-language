# no-space dashes-long-line  <new_line>
# function__point_to_words  <new_line>
#  <new_line>
#  Input is $global_source_text  <new_line>
#  Output is variable $global_number_of_words and array begin_position_for_word[ ] and array length_of_word[ ] where pointer into array is 1 for first word, etc.  <new_line>
#  Word counts start at one  <new_line>
#  Character pointer numbers start at zero  <new_line>
<new_line>

sub function__point_to_words( ) {  <new_line>

$global_number_of_words = 0 ;  <new_line>
$global_length_of_text = length( $global_source_text ) ;  <new_line>

# print "source_text = " . $global_source_text . " ; text length = " . $global_length_of_text . "\n" ;  <new_line>

if ( $global_length_of_text < 1 ) {  <new_line>

# print "found no text" . "\n" ;  <new_line>

return '' ;  <new_line>
}  <new_line>

$global_pointer_to_next_space = index( $global_source_text , ' ' ) ;  <new_line>

if ( $global_pointer_to_next_space < 0 ) {  <new_line>

# print "found no spaces, but text is not empty, so found just one word" . "\n" ;  <new_line>

$global_number_of_words = 1 ;  <new_line>
$global_begin_position_for_word[ 1 ] = 0 ;  <new_line>
$global_length_of_word[ 1 ] = $global_length_of_text ;  <new_line>
return '' ;  <new_line>
}  <new_line>

$global_pointer_to_previous_space = -1 ;  <new_line>

while ( $global_pointer_to_next_space >= 0 ) {  <new_line>
if ( $global_pointer_to_next_space > $global_pointer_to_previous_space + 1 ) {  <new_line>
$global_number_of_words ++ ;  <new_line>

# print "number_of_words = " . $global_number_of_words . "\n" ;  <new_line>

$global_begin_position_for_word[ $global_number_of_words ] = $global_pointer_to_previous_space + 1 ;  <new_line>
$global_length_of_word[ $global_number_of_words ] = $global_pointer_to_next_space - $global_pointer_to_previous_space - 1 ;  <new_line>
}  <new_line>

# print "word number " . $global_number_of_words . " is: " . substr( $global_source_text , $global_begin_position_for_word[ $global_number_of_words ] , $global_length_of_word[ $global_number_of_words ] ) . "\n" ;  <new_line>

$global_pointer_to_previous_space = $global_pointer_to_next_space ;  <new_line>
$global_pointer_to_next_space = index( $global_source_text , ' ' , $global_pointer_to_previous_space + 1 ) ;  <new_line>
}  <new_line>

$global_number_of_words ++ ;  <new_line>
$global_begin_position_for_word[ $global_number_of_words ] = $global_pointer_to_previous_space + 1 ;  <new_line>
$global_length_of_word[ $global_number_of_words ] = $global_length_of_text - $global_pointer_to_previous_space + 1 ;  <new_line>

# print "word number " . $global_number_of_words . " is: " . substr( $global_source_text , $global_begin_position_for_word[ $global_number_of_words ] , $global_length_of_word[ $global_number_of_words ] ) . "\n" ;  <new_line>

template-function-segment-ending
