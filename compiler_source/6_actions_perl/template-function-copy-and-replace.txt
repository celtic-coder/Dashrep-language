template-interpreter-function-begin

sub function__copy_and_replace( ) {  <new_line>

$global_action_result = '' ;  <new_line>
$global_source_phrase_name = $global_operand_one ;  <new_line>
$global_target_phrase_name = $global_operand_two ;  <new_line>

if ( not( exists( $global_dashrep_replacement{ $global_source_phrase_name } ) ) ) {  <new_line>
    $global_dashrep_replacement{ $global_source_phrase_name } = '' ;  <new_line>
}  <new_line>

$global_string_to_be_replaced = $global_dashrep_replacement{ $global_operand_three } ;  <new_line>

if ( exists( $global_dashrep_replacement{ $global_operand_four } ) ) {  <new_line>
    $global_text_to_insert = $global_dashrep_replacement{ $global_operand_four } ;  <new_line>
} else {  <new_line>
    $global_text_to_insert = '' ;  <new_line>
}  <new_line>

$global_source_text = $global_dashrep_replacement{ $global_source_phrase_name } ;  <new_line>
if ( ( length( $global_text_to_insert ) >= length( $global_string_to_be_replaced ) ) && ( index( $global_text_to_insert , $global_string_to_be_replaced ) >= 0 ) ) {  <new_line>
} elsif ( ( length( $global_string_to_be_replaced ) >= length( $global_text_to_insert ) ) && ( length( $global_text_to_insert ) > 0 ) && ( index( $global_string_to_be_replaced , $global_text_to_insert ) >= 0 ) ) {  <new_line>
} else {  <new_line>
    $global_length_of_string_to_be_replaced = length( $global_string_to_be_replaced ) ;  <new_line>
    $global_character_position = index( $global_source_text , $global_string_to_be_replaced ) ;  <new_line>
    while ( $global_character_position >= 0 ) {  <new_line>
        $global_source_text = substr( $global_source_text , 0 , $global_character_position ) . $global_text_to_insert . substr( $global_source_text , $global_character_position + $global_length_of_string_to_be_replaced ) ;  <new_line>
        $global_character_position = index( $global_source_text , $global_string_to_be_replaced ) ;  <new_line>
        $global_endless_loop_counter ++ ;  <new_line>
        $global_phrase_usage_count_for_phrase_number[ 1 ] ++ ;  <new_line>
        if ( $global_endless_loop_counter > $global_endless_loop_counter_limit - 100 ) {  <new_line>
            &function__open_trace_output_file_if_not_open( ) ;  <new_line>
            print TRACE_OUT '{{trace; Error: During the action ' . $global_action_name . ' the endless loop counter got within 100 counts of exceeding its limit, so no more replacements will be done by this action.}}' . "\n";  <new_line>
            last ;  <new_line>
        }  <new_line>
    }  <new_line>
    $global_dashrep_replacement{ $global_target_phrase_name } = $global_source_text ;  <new_line>
}  <new_line>

template-interpreter-function-end
