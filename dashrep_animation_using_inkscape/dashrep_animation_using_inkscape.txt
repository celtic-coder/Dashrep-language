source-code-copyright-notice:
Copyright 2021 by Richard Fobes at www.VoteFair.org ALL RIGHTS RESERVED
----
path-to-current-folder:
C:\whatever\AnimationVideoGeneration\
----
inkscape-reminder-notes:
* Change ID names, and avar types, using the XML editor within Inkscape!
* (Or some edits can be done using text editor on SVG file.)
* Can create transform matrix using XML editor, or by scaling the item.
* Transform matrix X and Y offsets are relative to X and Y positions of items in group,
  so use captured values as begin/end values.
----
reminder-notes:

search for "todo" for code not yet finished,
search backwards to find newest code at bottom

This code must be executed using a version of the Dashrep compiler that supplies a loop counter limit that is much higher than the default.
----
start-here:
ambee copy-text new-loop-counter-limit dashrep-endless-loop-counter-limit amenn
ambee initialize-constants amenn
ambee initialize-file-info amenn
ambee batch-convert-named-x-y-percent-to-x-y-pixels amenn
ambee delete-avar-info-files amenn

combee
ambee read-and-process-script amenn
comenn

ambee if-needed-convert-interval-seconds-into-frames amenn

combee
ambee initialize-lists-for-handle-all-keyframes amenn
ambee clear-list-of-avar-ids-for-one-avar-type amenn
ambee handle-all-keyframes amenn
ambee write-all-found-avar-id-type-values-to-file amenn
comenn

ambee put-into-phrase filename-svg-keyframe keyframe_rcipe_begin.svg amenn
ambee handle-find-get-all-avars-in-one-svg-file amenn
ambee log-list-of-avar-ids-in-captured-sequence amenn

ambee put-into-phrase last-frame-number 14 amenn

ambee custom-specify-animation-items-and-movements amenn
ambee generate-svg-files-and-render amenn
ambee show-all-phrase-names amenn
ambee write-generated-files amenn
----
initialize-constants:
ambee put-into-phrase text-double-underscore  __  amenn
ambee put-into-phrase
    distance-pixels-begin-plus-end-constant-speed
    ambee numeric-add
        ambee distance-pixels-at-begin-constant-speed amenn
        ambee distance-pixels-at-end-constant-speed amenn
    amenn
amenn
----
substrings-indicating-transition-type:
radialGradient
use
path
path161
----
transition-type-for-id-substring-radialGradient:
simple-linear
----
transition-type-for-id-substring-path161:
simple-linear
----
transition-type-for-id-substring-use:
move-normal
----
transition-type-for-id-substring-path:
move-normal
----
list-of-valid-transition-types:
move-start
move-stop
move-short
simple-linear
move-normal
----
list-of-transition-types-that-handle-x-and-y-together:
move-normal
----
transition-type-move-normal:
move-normal
----
interval-seconds-per-pixel-distance-at-constant-speed:
100
----
interval-seconds-maximum-duration-at-constant-speed:
2
----
interval-seconds-avar-end-limit:
5
----
distance-pixels-at-begin-constant-speed:
50
----
distance-pixels-at-end-constant-speed:
40
----
interval-seconds-for-move-start:
0.7
----
interval-seconds-for-move-stop:
0.8
----
percent-times-for-transition-type-move-start:
0 20 40 60 70 80 90 95 100
----
percent-values-for-transition-type-move-start:
0 -5 -2 8 18 32 52 69 100
combee determined using plot in spreadsheet comenn
----
percent-times-for-transition-type-move-stop:
0 20 40 60 70 80 90 95 100
----
percent-values-for-transition-type-move-stop:
0 31 48 68 82 92 102 105 100
combee calculated as 100 minus numbers in move-start transition comenn
----
percent-times-for-transition-type-move-short:
0 10 20 30 35 40 45 47 50 60 70 80 85 90 95 97 100
----
percent-values-for-transition-type-move-short:
0 -3 -1 4 9 16 26 35 50 65 74 84 92 96 101 103 100
combee can refine these numbers using spreadsheet scatter plot comenn
----
percent-times-for-transition-type-simple-linear:
0 100
----
percent-values-for-transition-type-simple-linear:
0 100
----
generate-svg-files-and-render:

combee
ambee clear-phrase frame-number-for-previous-keyframe amenn
comenn

ambee generate-counts-from-integer-to-integer 1 ambee last-frame-number amenn list-of-all-frame-numbers amenn

combee
ambee clear-phrase filename-svg-keyframe-previous amenn
comenn

ambee use-handler-with-each-word-in-phrase generate-one-svg-file-then-render list-of-all-frame-numbers amenn
----
generate-one-svg-file-then-render:
ambee copy-text word-to-use-in-handler frame-number-to-generate amenn
ambee copy-text frame-number-to-generate frame-number-for-avar-info-file amenn
ambee get-avars-from-avar-info-file-and-insert amenn

combee
ambee copy-text filename-svg-keyframe filename-svg-keyframe-previous amenn
comenn

ambee copy-zero-pad-left-to-length frame-number-to-generate frame-number-zero-padded 7 amenn
ambee expand-text template-filename-generated-svg filename-generated-svg amenn
ambee copy-text path-to-generated-svg-files dashrep-path-prefix-for-file-writing amenn
ambee delete-file ambee filename-generated-svg amenn amenn
ambee copy-from-phrase-append-to-file loaded-svg-file ambee filename-generated-svg amenn amenn
ambee copy-text frame-number-to-generate frame-number-to-render amenn
ambee request-render-frame amenn
----
get-avars-from-avar-info-file-and-insert:
ambee generate-filename-avar-info amenn

    ambee put-into-phrase output-line filename avar info to insert: amenn
    ambee append-text filename-avar-info output-line amenn
    ambee write-output-line-to-log-file amenn

combee
ambee clear-phrase filename-svg-keyframe amenn
ambee copy-text filename-svg-keyframe-for-keyframe-number-1 filename-svg-keyframe amenn
comenn

ambee copy-text path-to-avar-info-files dashrep-path-prefix-for-file-reading amenn

ambee if-yes-begin ambee yes-or-no-empty-phrase filename-svg-keyframe amenn amenn
    ambee copy-text filename-svg-keyframe-previous filename-svg-keyframe amenn
ambee if-end amenn

ambee if-no-begin ambee yes-or-no-same-two-phrase-definitions filename-svg-keyframe filename-svg-keyframe-previous amenn amenn
    ambee clear-phrase list-of-avar-ids-types-need-to-insert amenn
ambee if-end amenn

ambee load-svg-file amenn

ambee generate-positions-of-delimiter character-open-angle-bracket loaded-svg-file list-of-pointers-to-open-angle-brackets amenn
ambee copy-text path-to-avar-info-files dashrep-path-prefix-for-file-reading amenn

ambee if-yes-begin ambee yes-or-no-file-exists ambee filename-avar-info amenn amenn amenn
    ambee linewise-read-from-file-and-use-handler ambee filename-avar-info amenn get-avar-info-from-avar-info-line amenn
ambee if-end amenn

ambee append-text list-of-avar-ids-types-that-have-new-values list-of-avar-ids-types-need-to-insert amenn
ambee copy-words-unique-only list-of-avar-ids-types-need-to-insert list-of-avar-ids-types-need-to-insert amenn

    ambee put-into-phrase output-line keeping unchanged: amenn
    ambee append-text list-of-avar-ids-types-need-to-insert output-line amenn
    ambee write-output-line-to-log-file amenn

ambee use-handler-with-each-word-in-phrase insert-avar-value-new-into-loaded-svg-file list-of-avar-ids-types-need-to-insert amenn
----
unused-get-filename-svg-keyframe-from-avar-info-file:
ambee copy-text linewise-input-line-from-file avar-info-line amenn

ambee if-yes-begin ambee yes-or-no-same-two-words 1 ambee get-count-of-words avar-info-line amenn amenn amenn
    ambee copy-word-at-position avar-info-line filename-svg-keyframe 1 amenn
ambee if-end amenn
----
get-avar-info-from-avar-info-line:
ambee copy-text linewise-input-line-from-file avar-info-line amenn

ambee if-no-begin ambee yes-or-no-same-two-words 1 ambee get-count-of-words avar-info-line amenn amenn amenn
    ambee get-avar-id-type-value-new-from-avar-info-line amenn
ambee if-end amenn
----
get-avar-id-type-value-new-from-avar-info-line
ambee copy-word-at-position avar-info-line avar-id 1 amenn
ambee copy-word-at-position avar-info-line avar-type 2 amenn
ambee copy-words-from-position-to-position avar-info-line avar-value-new 3 9999 amenn
ambee copy-text avar-id avar-id-type amenn
ambee append-text-no-space text-double-underscore avar-id-type amenn
ambee append-text-no-space avar-type avar-id-type amenn
ambee copy-text avar-value-new value-for-avar-id-type fenambee avar-id-type amenn amenn
ambee append-text avar-id-type list-of-avar-ids-types-that-have-new-values amenn

    ambee put-into-phrase output-line got avar info: amenn
    ambee append-text avar-id-type output-line amenn
    ambee append-text value-for-avar-id-type fenambee avar-id-type amenn output-line amenn
    ambee write-output-line-to-log-file amenn
----
insert-avar-value-new-into-loaded-svg-file:
ambee copy-text word-to-use-in-handler avar-id-type amenn
ambee copy-and-replace avar-id-type avar-id-type-split text-double-underscore character-space amenn
ambee copy-word-at-position avar-id-type-split avar-id 1 amenn
ambee copy-word-at-position avar-id-type-split avar-type 2 amenn
ambee copy-text value-for-avar-id-type fenambee avar-id-type amenn avar-value-new amenn
ambee put-into-phrase id-equals-avar-id id=" amenn
ambee append-text-no-space avar-id id-equals-avar-id amenn
ambee append-text-no-space character-quotation id-equals-avar-id amenn
ambee generate-positions-of-delimiter id-equals-avar-id loaded-svg-file pointer-to-avar-id-possible-multiple amenn

ambee if-no-begin ambee yes-or-no-empty-phrase pointer-to-avar-id-possible-multiple amenn amenn
    ambee insert-avar-value-new-found-avar-id-pointer amenn
ambee if-else amenn
    ambee put-into-phrase output-line did not find avar id: amenn
    ambee append-text avar-id output-line amenn
    ambee append-text id-equals-avar-id output-line amenn
    ambee write-output-line-to-log-file amenn
ambee if-end amenn
----
insert-avar-value-new-found-avar-id-pointer:
ambee copy-word-at-position pointer-to-avar-id-possible-multiple pointer-to-avar-id 1 amenn
ambee generate-positions-of-delimiter character-open-angle-bracket loaded-svg-file list-of-pointers-to-open-angle-brackets amenn
ambee copy-text pointer-to-avar-id integer-threshold amenn
ambee copy-text list-of-pointers-to-open-angle-brackets list-of-integers amenn
ambee find-nearest-integers-in-list amenn
ambee copy-text nearest-smaller-integer pointer-to-prior-open-angle-bracket amenn
ambee generate-positions-of-first-matching-delimiter-after-listed-positions character-quotation loaded-svg-file pointer-to-prior-open-angle-bracket pointer-to-avar-id-closing-delimiter-possible-multiple amenn

ambee if-no-begin ambee yes-or-no-empty-phrase pointer-to-avar-id-closing-delimiter-possible-multiple amenn amenn
    ambee insert-avar-value-new-found-avar-id-closing-quote-mark amenn
ambee if-else amenn
    ambee put-into-phrase output-line did not find closing quote mark: amenn
    ambee append-text avar-id output-line amenn
    ambee append-text avar-type output-line amenn
    ambee write-output-line-to-log-file amenn
ambee if-end amenn
----
insert-avar-value-new-found-avar-id-closing-quote-mark:
ambee copy-word-at-position pointer-to-avar-id-closing-delimiter-possible-multiple pointer-to-avar-id-closing-delimiter 1 amenn

ambee if-yes-begin ambee yes-or-no-same-two-words greater ambee numeric-equal-greater-less-compare ambee pointer-to-avar-id-closing-delimiter amenn ambee pointer-to-prior-open-angle-bracket amenn amenn amenn amenn
    ambee insert-avar-value-new-found-avar-id-closing-delimiter amenn
ambee if-else amenn
    ambee put-into-phrase output-line did not find avar id closing delimiter: amenn
    ambee append-text avar-id output-line amenn
    ambee write-output-line-to-log-file amenn
ambee if-end amenn
----
insert-avar-value-new-found-avar-id-closing-delimiter:
ambee copy-text svg-location fenambee avar-type amenn svg-location amenn
ambee copy-word-at-position svg-location svg-location-word 1 amenn
ambee copy-and-replace svg-location-word svg-location-word character-at-sign character-space amenn
ambee generate-positions-of-first-matching-delimiter-after-listed-positions svg-location-word loaded-svg-file pointer-to-prior-open-angle-bracket pointer-to-begin-next-location-word-possible-multiple amenn

ambee if-no-begin ambee yes-or-no-empty-phrase pointer-to-begin-next-location-word-possible-multiple amenn amenn
    ambee insert-avar-value-new-possibly-found-first-location-word amenn
ambee if-else amenn
    ambee put-into-phrase output-line did not find first location word: amenn
    ambee append-text avar-id output-line amenn
    ambee append-text avar-type output-line amenn
    ambee append-text svg-location-word output-line amenn
    ambee append-text pointer-to-prior-open-angle-bracket output-line amenn
    ambee append-text pointer-to-begin-next-location-word-possible-multiple output-line amenn
    ambee write-output-line-to-log-file amenn
ambee if-end amenn
----
insert-avar-value-new-possibly-found-first-location-word:
ambee copy-word-at-position pointer-to-begin-next-location-word-possible-multiple pointer-to-begin-next-location-word 1 amenn

ambee if-yes-begin ambee yes-or-no-same-two-words greater ambee numeric-equal-greater-less-compare ambee pointer-to-begin-next-location-word amenn ambee pointer-to-prior-open-angle-bracket amenn amenn amenn amenn
    ambee insert-avar-value-new-found-first-location-word amenn
ambee if-else amenn
    ambee put-into-phrase output-line did not really find first location word: amenn
    ambee append-text avar-id output-line amenn
    ambee append-text svg-location-word output-line amenn
    ambee append-text pointer-to-prior-open-angle-bracket output-line amenn
    ambee append-text pointer-to-begin-next-location-word output-line amenn
    ambee write-output-line-to-log-file amenn
ambee if-end amenn
----
insert-avar-value-new-found-first-location-word:
ambee put-into-phrase
    pointer-to-begin-next-location-word
    ambee numeric-minus
        ambee numeric-add
            ambee pointer-to-begin-next-location-word amenn
            ambee get-count-of-characters svg-location-word amenn
        amenn
        1
    amenn
amenn
ambee copy-text pointer-to-begin-next-location-word pointer-to-previous-next-character-in-svg-avar-value amenn
ambee put-into-phrase word-count-for-svg-location ambee get-count-of-words svg-location amenn amenn
ambee generate-counts-from-integer-to-integer 2 ambee word-count-for-svg-location amenn list-of-pointers-to-svg-location-words amenn
ambee clear-phrase location-word-previous amenn
ambee use-handler-with-each-word-in-phrase point-to-one-svg-avar-value-using-next-svg-location-word list-of-pointers-to-svg-location-words amenn
ambee copy-text pointer-to-previous-next-character-in-svg-avar-value character-pointer-begin amenn
ambee copy-text pointer-to-next-next-character-in-svg-avar-value character-pointer-end amenn
ambee numeric-decrement character-pointer-end amenn
ambee clear-phrase avar-value-old amenn

ambee if-no-begin ambee yes-or-no-same-two-words greater ambee numeric-equal-greater-less-compare ambee character-pointer-begin amenn ambee character-pointer-end amenn amenn amenn amenn
    ambee copy-characters-from-position-to-position loaded-svg-file avar-value-old ambee character-pointer-begin amenn ambee character-pointer-end amenn amenn
ambee if-end amenn

ambee put-into-phrase
    character-pointer-begin-end-difference
    ambee numeric-minus
        ambee character-pointer-end amenn
        ambee character-pointer-begin amenn
    amenn
amenn

ambee if-yes-begin ambee yes-or-no-same-two-words greater ambee numeric-equal-greater-less-compare ambee character-pointer-begin-end-difference amenn 20 amenn amenn amenn
    ambee clear-phrase avar-value-old amenn
    ambee put-into-phrase output-line error in length of found avar value: amenn
    ambee append-text character-pointer-begin-end-difference output-line amenn
    ambee append-text avar-id output-line amenn
    ambee append-text avar-type output-line amenn
    ambee write-output-line-to-log-file amenn
ambee if-end amenn

ambee if-no-begin ambee yes-or-no-empty-phrase avar-value-old amenn amenn
    ambee got-avar-value-new-insert-into-loaded-svg-file amenn
ambee if-else amenn
    ambee put-into-phrase output-line avar value not inserted: amenn
    ambee append-text avar-id output-line amenn
    ambee append-text avar-type output-line amenn
    ambee write-output-line-to-log-file amenn
ambee if-end amenn
----
got-avar-value-new-insert-into-loaded-svg-file:
ambee copy-text avar-value-old possible-number amenn
ambee determine-yes-or-no-is-number-for-possible-number amenn
ambee numeric-decrement character-pointer-begin amenn
ambee numeric-increment character-pointer-end amenn

ambee if-yes-begin ambee yes-or-no-is-number amenn amenn
    ambee insert-new-avar-value-into-loaded-svg-file amenn
ambee if-else amenn

combee
   fix by searching starting farther back
todo: bug, pen and spotlight finds:
   inkscape:version="1.0.2-2 (e86c870879, 2021-01-15)"
comenn

    ambee put-into-phrase output-line avar value not number: amenn
    ambee append-text avar-id output-line amenn
    ambee append-text avar-type output-line amenn
    ambee append-text avar-value-old output-line amenn
    ambee append-text svg-location output-line amenn
    ambee write-output-line-to-log-file amenn

ambee if-end amenn
----
insert-new-avar-value-into-loaded-svg-file:
ambee copy-characters-from-position-to-position loaded-svg-file loaded-svg-file-modified 1 ambee character-pointer-begin amenn amenn
ambee append-text-no-space avar-value-new loaded-svg-file-modified amenn
ambee copy-characters-from-position-to-position loaded-svg-file loaded-svg-file-part-two ambee character-pointer-end amenn 9999999 amenn
ambee append-text-no-space loaded-svg-file-part-two loaded-svg-file-modified amenn
ambee copy-text loaded-svg-file-modified loaded-svg-file amenn

    ambee put-into-phrase output-line inserted avar: amenn
    ambee append-text avar-id output-line amenn
    ambee append-text avar-type output-line amenn
    ambee append-text avar-value-new output-line amenn
    ambee write-output-line-to-log-file amenn
----
initialize-lists-for-handle-all-keyframes:
ambee use-handler-with-each-word-in-phrase clear-list-of-avar-ids-for-one-avar-type list-of-avar-types-involving-x amenn
ambee use-handler-with-each-word-in-phrase clear-list-of-avar-ids-for-one-avar-type list-of-avar-types-involving-y amenn
----
clear-list-of-avar-ids-for-one-avar-type:
ambee clear-phrase list-of-avar-ids-for-avar-type fenambee avar-type amenn amenn
----
handle-all-keyframes:
ambee generate-counts-from-integer-to-integer 1 ambee script-keyframe-number amenn list-of-keyframe-numbers amenn
ambee use-handler-with-each-word-in-phrase handle-one-keyframe list-of-keyframe-numbers amenn
----
handle-one-keyframe:
ambee copy-text word-to-use-in-handler script-keyframe-number amenn
ambee copy-text frame-number-for-keyframe-number fenambee script-keyframe-number amenn script-frame-number amenn
ambee copy-text filename-svg-keyframe-for-keyframe-number fenambee script-keyframe-number amenn filename-svg-keyframe amenn

    ambee put-into-phrase output-line keyframe info: amenn
    ambee append-text script-frame-number output-line amenn
    ambee append-text filename-svg-keyframe output-line amenn
    ambee write-output-line-to-log-file amenn

ambee handle-find-get-all-avars-in-one-svg-file amenn
ambee copy-text script-frame-number script-frame-number-minus-one amenn
ambee numeric-decrement script-frame-number-minus-one amenn

ambee if-yes-begin ambee yes-or-no-same-two-phrase-definitions script-frame-number-previous script-frame-number-minus-one amenn amenn
    ambee clear-phrase script-frame-number-previous amenn
ambee if-end amenn

ambee if-no-begin ambee yes-or-no-empty-phrase script-frame-number-previous amenn amenn
    ambee copy-text filename-svg-keyframe-for-keyframe-number fenambee script-frame-number-previous amenn filename-svg-keyframe amenn
    ambee handle-two-keyframes-needing-avar-changes amenn
ambee if-end amenn

ambee copy-text script-frame-number script-frame-number-previous amenn
ambee copy-text script-keyframe-number script-keyframe-number-previous amenn

    ambee put-into-phrase output-line done handling one keyframe amenn
    ambee write-output-line-to-log-file amenn
----
handle-two-keyframes-needing-avar-changes:
ambee copy-text script-frame-number-previous frame-number-for-avar-id-type-begin amenn
ambee copy-text script-frame-number frame-number-for-avar-id-type-end amenn
ambee copy-text frame-number-for-avar-id-type-begin frame-number-for-avar-info-file amenn
ambee write-keyframe-filename-to-avar-info-file amenn

    ambee put-into-phrase output-line wrote keyframe filename to avar info file amenn
    ambee write-output-line-to-log-file amenn

ambee copy-text frame-number-for-avar-id-type-begin avar-frame-begin amenn
ambee copy-text frame-number-for-avar-id-type-end avar-frame-end amenn
ambee copy-words-found-only-in-first-list list-of-avar-id-location-type-value-items-at-keyframe-number fenambee script-keyframe-number-previous amenn list-of-avar-id-location-type-value-items-at-keyframe-number fenambee script-keyframe-number amenn list-of-avars-begin amenn
ambee copy-words-found-only-in-first-list list-of-avar-id-location-type-value-items-at-keyframe-number fenambee script-keyframe-number amenn list-of-avar-id-location-type-value-items-at-keyframe-number fenambee script-keyframe-number-previous amenn list-of-avars-end amenn

combee
ambee identify-avars-that-are-missing-x-or-y-component amenn
comenn

    ambee put-into-phrase output-line avars before change: amenn
    ambee append-text list-of-avars-begin output-line amenn
    ambee write-output-line-to-log-file amenn
    ambee put-into-phrase output-line avars after change: amenn
    ambee append-text list-of-avars-end output-line amenn
    ambee write-output-line-to-log-file amenn
    ambee put-into-phrase output-line keyframe frame numbers begin and end: amenn
    ambee append-text avar-frame-begin output-line amenn
    ambee append-text avar-frame-end output-line amenn
    ambee write-output-line-to-log-file amenn

ambee use-handler-with-each-word-in-phrase handle-one-avar-in-list-of-avars-begin list-of-avars-begin amenn
----
identify-avars-that-are-missing-x-or-y-component:
ambee clear-phrase list-of-avar-id-type-just-x-or-y-values amenn
ambee copy-words-that-contain-listed-words list-of-avars-begin  list-of-avars-just-x-or-just-y-values text-indicating-x-values amenn
ambee use-handler-with-each-word-in-phrase add-to-list-one-avar-id-type list-of-avars-just-x-or-just-y-values amenn
ambee copy-text list-of-avar-id-type-just-x-or-y-values list-of-avar-id-type-just-x-values amenn
ambee clear-phrase list-of-avar-id-type-just-x-or-y-values amenn
ambee copy-words-that-contain-listed-words list-of-avars-begin  list-of-avars-just-x-or-just-y-values text-indicating-y-values amenn
ambee use-handler-with-each-word-in-phrase add-to-list-one-avar-id-type list-of-avars-just-x-or-just-y-values amenn
ambee copy-text list-of-avar-id-type-just-x-or-y-values list-of-avar-id-type-just-y-values amenn
ambee copy-and-replace list-of-avar-id-type-just-x-values list-with-x-replaced-by-y hyphen-x hyphen-y amenn
ambee copy-and-replace list-of-avar-id-type-just-y-values list-with-y-replaced-by-x hyphen-y hyphen-x amenn
combee reminder: code here assumes that object id does not include "-x" or "-y" comenn
ambee copy-words-found-only-in-first-list list-with-y-replaced-by-x list-of-avar-id-type-just-x-values list-of-avar-id-type-have-x-but-y-missing amenn
ambee copy-words-found-only-in-first-list list-with-x-replaced-by-y list-of-avar-id-type-just-y-values list-of-avar-id-type-have-y-but-x-missing amenn
ambee copy-and-replace list-of-avar-id-type-have-x-but-y-missing list-with-x-replaced-by-y hyphen-y hyphen-x amenn
ambee copy-and-replace list-of-avar-id-type-just-y-values list-with-y-replaced-by-x hyphen-x hyphen-y amenn
ambee copy-text list-with-x-replaced-by-y list-of-avar-id-type-items-need-to-add amenn
ambee append-text list-with-y-replaced-by-x list-of-avar-id-type-items-need-to-add amenn
ambee append-text list-of-avar-id-type-have-y-but-x-missing list-of-avar-id-type-items-need-to-add amenn
ambee append-text list-of-avar-id-type-have-x-but-y-missing list-of-avar-id-type-items-need-to-add amenn
ambee copy-words-that-contain-listed-words list-of-avar-id-location-type-value-items-at-keyframe-number fenambee script-keyframe-number-previous amenn list-of-avar-id-type-value-items-need-to-add list-of-avar-id-type-items-need-to-add amenn
ambee append-text list-of-avar-id-type-value-items-need-to-add list-of-avars-begin amenn
ambee copy-words-that-contain-listed-words list-of-avar-id-location-type-value-items-at-keyframe-number fenambee script-keyframe-number amenn list-of-avar-id-type-value-items-need-to-add list-of-avar-id-type-items-need-to-add amenn
ambee append-text list-of-avar-id-type-value-items-need-to-add list-of-avars-end amenn
ambee copy-words-unique-only list-of-avars-begin list-of-avars-begin amenn
ambee copy-words-unique-only list-of-avars-end list-of-avars-end amenn
ambee copy-words-sort-alphabetic list-of-avars-begin list-of-avars-begin amenn
ambee copy-words-sort-alphabetic list-of-avars-end list-of-avars-end amenn

    ambee put-into-phrase output-line involve x missing: amenn
    ambee append-text list-of-avar-id-type-have-x-but-y-missing output-line amenn
    ambee write-output-line-to-log-file amenn
    ambee put-into-phrase output-line involve y missing: amenn
    ambee append-text list-of-avar-id-type-have-y-but-x-missing output-line amenn
    ambee write-output-line-to-log-file amenn
----
add-to-list-one-avar-id-type:
ambee copy-text word-to-use-in-handler avar-id-type-value amenn
ambee copy-and-replace avar-id-type-value avar-id-type-value-modified text-double-underscore character-space amenn
ambee copy-word-at-position avar-id-type-value-modified avar-id-type 1 amenn
ambee append-text-no-space text-double-underscore avar-id-type amenn
ambee copy-word-at-position avar-id-type-value-modified avar-type 2 amenn
ambee append-text-no-space avar-type avar-id-type amenn
ambee append-text avar-id-type list-of-avar-id-type-just-x-or-y-values amenn
----
write-keyframe-filename-to-avar-info-file:
ambee generate-filename-avar-info amenn
ambee copy-text path-to-avar-info-files dashrep-path-prefix-for-file-writing amenn
ambee delete-file ambee filename-avar-info amenn amenn
ambee copy-text filename-svg-keyframe avar-info-lines-to-write amenn
ambee write-avar-info-lines-to-write amenn
----
generate-filename-avar-info:
ambee copy-zero-pad-left-to-length frame-number-for-avar-info-file frame-number-zero-padded 7 amenn
ambee expand-text template-filename-avar-info filename-avar-info amenn
----
template-filename-avar-info:
frame_ no-space frame-number-zero-padded no-space _avar_info.txt no-space
----
write-avar-id-type-value-current-to-avar-info-file:
ambee copy-text avar-frame-current frame-number-for-avar-info-file amenn
ambee copy-text avar-id avar-info-lines-to-write amenn
ambee append-text avar-type avar-info-lines-to-write amenn
ambee append-text avar-value-current avar-info-lines-to-write amenn
ambee write-avar-info-lines-to-write amenn
----
write-avar-info-lines-to-write:
ambee generate-filename-avar-info amenn
ambee copy-text path-to-avar-info-files dashrep-path-prefix-for-file-writing amenn
ambee copy-from-phrase-append-to-file avar-info-lines-to-write ambee filename-avar-info amenn amenn

    ambee put-into-phrase output-line writing: amenn
    ambee copy-text filename-avar-info output-line amenn
    ambee append-text avar-info-lines-to-write output-line amenn
    ambee write-output-line-to-log-file amenn

combee reminder: info line is deleted here, so logging must be done above comenn
ambee clear-phrase avar-info-lines-to-write amenn
----
handle-one-avar-in-list-of-avars-begin:
ambee copy-text word-to-use-in-handler avar-id-type-value-begin amenn
ambee copy-and-replace avar-id-type-value-begin avar-id-type-value text-double-underscore character-space amenn
ambee copy-word-at-position avar-id-type-value avar-id 1 amenn
ambee copy-word-at-position avar-id-type-value avar-type 2 amenn
ambee copy-word-at-position avar-id-type-value avar-value-begin 3 amenn
ambee copy-text avar-id avar-id-type amenn
ambee append-text-no-space text-double-underscore avar-id-type amenn
ambee append-text-no-space avar-type avar-id-type amenn
ambee copy-words-that-begin-with-text list-of-avars-end avar-id-type-value-end avar-id-type amenn

ambee if-no-begin ambee yes-or-no-empty-phrase avar-id-type-value-end amenn amenn
    ambee handle-one-avar-have-end-value amenn
ambee if-else amenn
    ambee put-into-phrase output-line avar end value not found in list: amenn
    ambee append-text avar-id output-line amenn
    ambee append-text avar-type output-line amenn
    ambee write-output-line-to-log-file amenn
ambee if-end amenn
----
handle-one-avar-have-end-value:
ambee copy-and-replace avar-id-type-value-end avar-value-is-third-word text-double-underscore character-space amenn
ambee copy-word-at-position avar-value-is-third-word avar-value-end 3 amenn
ambee get-transition-type-based-on-avar-id amenn
ambee ensure-transition-type-is-valid amenn

ambee if-yes-begin ambee yes-or-no-empty-phrase avar-id-type-value-end amenn amenn
    ambee handle-one-avar-have-values-begin-and-end amenn
ambee if-end amenn

    ambee put-into-phrase output-line avar begin and end info: amenn
    ambee append-text avar-id output-line amenn
    ambee append-text avar-type output-line amenn
    ambee append-text avar-value-begin output-line amenn
    ambee append-text avar-value-end output-line amenn
    ambee write-output-line-to-log-file amenn
combee
    ambee put-into-phrase output-line conditions: amenn
    ambee append-text empty-if-not-involves-x-value output-line amenn
    ambee append-text character-asterisk output-line amenn
    ambee append-text empty-if-need-to-handle-x-and-y-together output-line amenn
    ambee append-text character-asterisk output-line amenn
    ambee append-text yes-or-no-can-handle-this-case output-line amenn
    ambee write-output-line-to-log-file amenn
comenn

ambee if-yes-begin ambee yes-or-no-can-handle-this-case amenn amenn
    ambee handle-one-avar-have-avar-id-type-value-end amenn
ambee if-end amenn

ambee copy-text avar-value-begin possible-saved-x-avar-value-begin amenn
ambee copy-text avar-value-end possible-saved-x-avar-value-end amenn
ambee copy-text avar-id avar-id-for-saved-avar-values-begin-end amenn
----
unused-handle-one-avar-x-and-y-differently:
ambee copy-words-that-contain-listed-words avar-id-type-value-end empty-if-not-involves-x-value text-indicating-x-values amenn

ambee copy-words-found-in-both-lists transition-type list-of-transition-types-that-handle-x-and-y-together empty-if-need-to-handle-x-and-y-together amenn
ambee put-into-phrase yes-or-no-can-handle-this-case no amenn

ambee if-yes-begin ambee yes-or-no-empty-phrase empty-if-not-involves-x-value amenn amenn
    ambee put-into-phrase yes-or-no-can-handle-this-case yes amenn
ambee if-end amenn

ambee if-no-begin ambee yes-or-no-empty-phrase empty-if-need-to-handle-x-and-y-together amenn amenn
    ambee put-into-phrase yes-or-no-can-handle-this-case yes amenn
ambee if-end amenn

ambee put-into-phrase yes-or-no-can-handle-this-case yes amenn
----
handle-one-avar-have-avar-id-type-value-end:
ambee copy-and-replace avar-id-type-value-end avar-id-type-value text-double-underscore character-space amenn
ambee copy-word-at-position avar-id-type-value avar-id 1 amenn
ambee copy-word-at-position avar-id-type-value avar-type 2 amenn
ambee copy-word-at-position avar-id-type-value avar-value-end 3 amenn

    ambee put-into-phrase output-line begin end values: amenn
    ambee append-text avar-value-begin output-line amenn
    ambee append-text avar-value-end output-line amenn
    ambee write-output-line-to-log-file amenn

ambee handle-one-avar-have-values-begin-and-end amenn
----
handle-one-avar-have-values-begin-and-end:
ambee if-no-begin ambee yes-or-no-same-two-phrase-definitions avar-value-begin avar-value-end amenn amenn
    ambee handle-one-avar-have-values-begin-and-end-value-changes amenn
ambee if-end amenn
----
handle-one-avar-have-values-begin-and-end-value-changes:
ambee copy-text avar-frame-begin avar-frame-at-value-begin amenn
ambee copy-text avar-frame-end avar-frame-at-value-end amenn
ambee write-one-avar-begin-end-to-avar-summary-file amenn

    ambee put-into-phrase output-line only writing to summary file, now need to use custom-specify-animation-items-and-movements to do moves amenn
    ambee write-output-line-to-log-file amenn
----
get-percent-times-and-percent-values-then-write-avar-values:
ambee get-percent-times-and-percent-values-for-transition-type amenn
ambee put-into-phrase
    avar-frame-end
    ambee numeric-minimum
        ambee avar-frame-end amenn
        ambee interval-frames-maximum-duration-at-constant-speed amenn
    amenn
amenn
ambee copy-text avar-frame-end avar-frame-at-value-end amenn
ambee put-into-phrase
    avar-frame-begin
    ambee numeric-minimum
        ambee avar-frame-begin amenn
        ambee avar-frame-end amenn
    amenn
amenn
ambee copy-text avar-frame-begin avar-frame-at-value-begin amenn
ambee generate-counts-from-integer-to-integer ambee avar-frame-begin amenn ambee avar-frame-end amenn list-of-frame-numbers amenn

combee
    ambee put-into-phrase output-line frame numbers, percents: amenn
    ambee append-text list-of-frame-numbers output-line amenn
    ambee write-output-line-to-log-file amenn
comenn

ambee use-handler-with-each-word-in-phrase generate-write-one-avar-info-line-for-one-avar-using-percent-times-frames list-of-frame-numbers amenn
----
generate-write-one-avar-info-line-for-one-avar-using-percent-times-frames:
ambee copy-text word-to-use-in-handler avar-frame-current amenn
ambee clear-phrase avar-value-current amenn

ambee if-yes-begin ambee yes-or-no-same-two-phrase-definitions avar-value-begin avar-value-end amenn amenn
    ambee copy-text avar-value-begin avar-value-current amenn
ambee if-end amenn

ambee if-no-begin ambee yes-or-no-same-two-words greater ambee numeric-equal-greater-less-compare ambee avar-frame-current amenn ambee avar-frame-begin amenn amenn amenn amenn
    ambee copy-text avar-value-begin avar-value-current amenn
ambee if-end amenn

ambee if-no-begin ambee yes-or-no-same-two-words less ambee numeric-equal-greater-less-compare ambee avar-frame-current amenn ambee avar-frame-end amenn amenn amenn amenn
    ambee copy-text avar-value-end avar-value-current amenn
ambee if-end amenn

ambee if-yes-begin ambee yes-or-no-empty-phrase avar-value-current amenn amenn
    ambee calculate-one-avar-value-using-percent-times-and-percent-values amenn
ambee if-end amenn

ambee write-avar-id-type-value-current-to-avar-info-file amenn
----
get-transition-type-based-on-avar-id:
ambee generate-positions-of-listed-words substrings-indicating-transition-type avar-id pointers-to-matching-substring amenn

ambee if-no-begin ambee yes-or-no-empty-phrase pointers-to-matching-substring amenn amenn
    ambee copy-characters-from-position-to-position avar-id matching-substring ambee get-word-at-position pointers-to-matching-substring 1 amenn ambee get-word-at-position pointers-to-matching-substring 2 amenn amenn
    ambee copy-text transition-type-for-id-substring fenambee matching-substring amenn transition-type amenn
ambee if-end amenn

ambee if-yes-begin ambee yes-or-no-empty-phrase transition-type amenn amenn
    ambee put-into-phrase transition-type simple-linear amenn
ambee if-end amenn
----
ensure-transition-type-is-valid:
ambee copy-words-found-in-both-lists transition-type list-of-valid-transition-types valid-transition-type amenn

ambee if-yes-begin ambee yes-or-no-empty-phrase valid-transition-type amenn amenn
        ambee put-into-phrase output-line invalid transition type: amenn
        ambee append-text transition-type output-line amenn
        ambee write-output-line-to-log-file amenn
    ambee put-into-phrase valid-transition-type simple-linear amenn
ambee if-end amenn

ambee copy-text valid-transition-type transition-type amenn
----
get-percent-times-and-percent-values-for-transition-type:
ambee clear-phrase percent-times amenn
ambee clear-phrase percent-values amenn
ambee copy-text percent-times-for-transition-type fenambee valid-transition-type amenn percent-times amenn
ambee copy-text percent-values-for-transition-type fenambee valid-transition-type amenn percent-values amenn

ambee if-yes-begin ambee yes-or-no-empty-phrase percent-times amenn amenn
    ambee put-into-phrase percent-times 0 100 amenn
    ambee put-into-phrase percent-values 0 100 amenn
ambee if-end amenn

ambee if-yes-begin ambee yes-or-no-empty-phrase percent-values amenn amenn
    ambee put-into-phrase percent-times 0 100 amenn
    ambee put-into-phrase percent-values 0 100 amenn
ambee if-end amenn

combee
    ambee put-into-phrase output-line percent-times and values: amenn
    ambee append-text percent-times output-line amenn
    ambee append-text percent-values output-line amenn
    ambee write-output-line-to-log-file amenn
comenn
----
calculate-one-avar-value-using-percent-times-and-percent-values:
ambee clear-phrase matching-substring amenn
ambee copy-text avar-frame-begin frame-begin amenn
ambee copy-text avar-frame-end frame-end amenn
ambee copy-text avar-frame-current frame-current amenn
ambee calculate-percent-integer-from-frame-begin-end-current amenn
ambee copy-text percent-integer avar-frame-percent-current amenn
ambee copy-words-found-in-both-lists avar-frame-percent-current percent-times percent-time-at-transition-interval-edge amenn

combee
    ambee put-into-phrase output-line avar-frame-current: amenn
    ambee append-text avar-frame-current output-line amenn
    ambee write-output-line-to-log-file amenn
comenn

ambee if-yes-begin ambee yes-or-no-empty-phrase percent-time-at-transition-interval-edge amenn amenn
    ambee copy-text avar-frame-percent-current integer-threshold amenn
    ambee copy-text percent-times list-of-integers amenn
    ambee find-nearest-integers-in-list amenn
    ambee copy-text nearest-smaller-integer transition-interval-frame-percent-begin amenn
    ambee copy-text nearest-larger-integer transition-interval-frame-percent-end amenn
ambee if-else amenn
    ambee copy-text percent-time-at-transition-interval-edge transition-interval-frame-percent-begin amenn
    ambee put-into-phrase pointer-to-nearby-integer ambee get-position-of-word percent-time-at-transition-interval-edge percent-times amenn amenn
    ambee numeric-increment pointer-to-nearby-integer amenn
    ambee copy-word-at-position percent-times transition-interval-frame-percent-end ambee pointer-to-nearby-integer amenn amenn
ambee if-end amenn

ambee put-into-phrase pointer-to-nearby-integer
    ambee get-position-of-word transition-interval-frame-percent-begin percent-times amenn amenn
ambee copy-word-at-position percent-values transition-interval-value-percent-begin ambee pointer-to-nearby-integer amenn amenn
ambee numeric-increment pointer-to-nearby-integer amenn
ambee copy-word-at-position percent-values transition-interval-value-percent-end ambee pointer-to-nearby-integer amenn amenn

ambee if-yes-begin ambee yes-or-no-same-two-words equal ambee numeric-equal-greater-less-compare ambee transition-interval-frame-percent-end amenn ambee transition-interval-frame-percent-begin amenn amenn amenn amenn
    ambee numeric-increment transition-interval-frame-percent-end amenn
ambee if-end amenn

ambee put-into-phrase
    transition-interval-value-decimal-current
    ambee numeric-divide-by
        ambee numeric-minus
            ambee avar-frame-percent-current amenn
            ambee transition-interval-frame-percent-begin amenn
        amenn
        ambee numeric-minus
            ambee transition-interval-frame-percent-end amenn
            ambee transition-interval-frame-percent-begin amenn
        amenn
    amenn
amenn
ambee put-into-phrase
    avar-value-range
    ambee numeric-minus
        ambee avar-value-end amenn
        ambee avar-value-begin amenn
    amenn
amenn
ambee put-into-phrase
    transition-interval-value-begin
    ambee numeric-add
        ambee avar-value-begin amenn
        ambee numeric-divide-by
            ambee numeric-multiply
                ambee transition-interval-value-percent-begin amenn
                ambee avar-value-range amenn
            amenn
            100
        amenn
    amenn
amenn

ambee if-yes-begin ambee yes-or-no-same-two-words equal ambee numeric-equal-greater-less-compare ambee transition-interval-value-percent-end amenn ambee avar-value-range amenn amenn amenn amenn
    ambee numeric-decrement transition-interval-value-percent-end amenn
ambee if-end amenn

ambee put-into-phrase
    transition-interval-value-end
    ambee numeric-add
        ambee avar-value-begin amenn
        ambee numeric-divide-by
            ambee numeric-multiply
                ambee transition-interval-value-percent-end amenn
                ambee avar-value-range amenn
            amenn
            100
        amenn
    amenn
amenn
ambee put-into-phrase
    transition-interval-value-range
    ambee numeric-minus
        ambee transition-interval-value-end amenn
        ambee transition-interval-value-begin amenn
    amenn
amenn
ambee put-into-phrase
    decimal-value
    ambee numeric-add
        ambee transition-interval-value-begin amenn
        ambee numeric-multiply
            ambee transition-interval-value-decimal-current amenn
            ambee transition-interval-value-range amenn
        amenn
    amenn
amenn
ambee round-decimal-value-to-four-digits amenn
ambee copy-text decimal-value avar-value-current amenn

combee
    ambee put-into-phrase output-line fjskdlfjsdlk: amenn
    ambee append-text avar-value-current output-line amenn
    ambee write-output-line-to-log-file amenn
comenn
----
calculate-percent-integer-from-frame-begin-end-current:
ambee if-yes-begin ambee yes-or-no-same-two-words equal ambee numeric-equal-greater-less-compare ambee frame-begin amenn ambee frame-end amenn amenn amenn amenn
    ambee numeric-increment frame-end amenn
ambee if-end amenn

ambee put-into-phrase
    percent-integer
    ambee numeric-integer
        ambee numeric-divide-by
            ambee numeric-multiply
                100
                ambee numeric-minus
                    ambee frame-current amenn
                    ambee frame-begin amenn
                amenn
            amenn
            ambee numeric-minus
                ambee frame-end amenn
                ambee frame-begin amenn
            amenn
        amenn
    amenn
amenn

combee
    ambee put-into-phrase output-line percent-integer: amenn
    ambee append-text percent-integer output-line amenn
    ambee write-output-line-to-log-file amenn
comenn
----
write-avar-values-for-dynamic-transition-type-move-normal:
ambee copy-text avar-frame-begin frame-number-for-avar-id-type-begin amenn
ambee copy-text avar-frame-end frame-number-for-avar-id-type-end amenn
ambee copy-text avar-value-begin avar-value-y-begin amenn
ambee copy-text avar-value-end avar-value-y-end amenn
ambee copy-text possible-saved-x-avar-value-begin avar-value-x-begin amenn
ambee copy-text possible-saved-x-avar-value-end avar-value-x-end amenn

    ambee put-into-phrase output-line saved info: amenn
    ambee append-text avar-id output-line amenn
    ambee append-text avar-id-for-saved-avar-values-begin-end output-line amenn
    ambee append-text avar-frame-begin output-line amenn
    ambee append-text avar-frame-end output-line amenn
    ambee append-text avar-value-begin output-line amenn
    ambee append-text avar-value-end output-line amenn
    ambee write-output-line-to-log-file amenn

combee todo: debug in here for move normal comenn

ambee if-no-begin ambee yes-or-no-same-two-phrase-definitions avar-id avar-id-for-saved-avar-values-begin-end amenn amenn
    ambee copy-text avar-value-begin avar-value-end amenn
    ambee numeric-increment avar-value-end amenn
        ambee put-into-phrase output-line error! x and y values are for different avars, so incorrect movement for avar ids: amenn
        ambee append-text avar-id output-line amenn
        ambee append-text avar-id-for-saved-avar-values-begin-end output-line amenn
        ambee write-output-line-to-log-file amenn
ambee if-end amenn

ambee copy-text avar-value-x-begin avar-value-x-move-full-begin amenn
ambee copy-text avar-value-y-begin avar-value-y-move-full-begin amenn
ambee copy-text avar-value-x-end avar-value-x-move-full-end amenn
ambee copy-text avar-value-y-end avar-value-y-move-full-end amenn

    ambee put-into-phrase output-line todo, debug this move normal code amenn
    ambee write-output-line-to-log-file amenn

----
continuation-of-code-need-to-debug:

combee
todo: fix starting here, can request generation of thousands of frames!
comenn

    ambee put-into-phrase output-line move normal frame begin and end: amenn
    ambee append-text avar-frame-begin output-line amenn
    ambee append-text avar-frame-end output-line amenn
    ambee write-output-line-to-log-file amenn

ambee calculate-x-y-distance-for-move-normal amenn
ambee put-into-phrase
    distance-pixels-at-constant-speed
    ambee numeric-absolute
        ambee numeric-minus
            ambee numeric-integer
                ambee x-y-distance-for-move-normal amenn
            amenn
            ambee numeric-integer
                ambee distance-pixels-begin-plus-end-constant-speed amenn
            amenn
        amenn
    amenn
amenn

combee
    ambee put-into-phrase output-line distance-pixels-at-constant-speed: amenn
    ambee append-text x-y-distance-for-move-normal output-line amenn
    ambee append-text distance-pixels-at-constant-speed output-line amenn
    ambee append-text distance-pixels-begin-plus-end-constant-speed output-line amenn
    ambee write-output-line-to-log-file amenn
comenn

ambee if-yes-begin ambee yes-or-no-same-two-words greater ambee numeric-equal-greater-less-compare ambee distance-pixels-at-constant-speed amenn 0 amenn amenn amenn
    ambee write-avar-values-for-before-during-after-constant-speed amenn
ambee if-else amenn
    ambee write-avar-values-for-transition-type-move-short amenn
ambee if-end amenn
----
write-avar-values-for-before-during-after-constant-speed:
ambee calculate-frame-numbers-for-before-during-after-constant-speed amenn

ambee if-yes-begin ambee yes-or-no-same-two-words equal ambee numeric-equal-greater-less-compare 0 ambee x-y-distance-for-move-normal amenn amenn amenn amenn
    ambee put-into-phrase x-y-distance-for-move-normal 0.0001 amenn
ambee if-end amenn

ambee put-into-phrase
    proportion-distance-start-per-full
    ambee numeric-divide-by
        ambee distance-pixels-at-begin-constant-speed amenn
        ambee x-y-distance-for-move-normal amenn
    amenn
amenn
ambee put-into-phrase
    proportion-distance-stop-per-full
    ambee numeric-divide-by
        ambee distance-pixels-at-end-constant-speed amenn
        ambee x-y-distance-for-move-normal amenn
    amenn
amenn
ambee put-into-phrase
    avar-value-x-move-full-begin-to-end
    ambee numeric-minus
        ambee avar-value-x-move-full-end amenn
        ambee avar-value-x-move-full-begin amenn
    amenn
amenn
ambee put-into-phrase
    avar-value-y-move-full-begin-to-end
    ambee numeric-minus
        ambee avar-value-y-move-end amenn
        ambee avar-value-y-move-begin amenn
    amenn
amenn
ambee put-into-phrase
    avar-value-x-move-start-distance
    ambee numeric-multiply
        ambee avar-value-x-move-full-begin-to-end amenn
        ambee proportion-distance-start-per-full amenn
    amenn
amenn
ambee put-into-phrase
    avar-value-y-move-start-distance
    ambee numeric-multiply
        ambee avar-value-y-move-full-begin-to-end amenn
        ambee proportion-distance-start-per-full amenn
    amenn
amenn
ambee put-into-phrase
    avar-value-x-move-stop-distance
    ambee numeric-multiply
        ambee avar-value-x-move-full-begin-to-end amenn
        ambee proportion-distance-start-per-full amenn
    amenn
amenn
ambee put-into-phrase
    avar-value-y-move-stop-distance
    ambee numeric-multiply
        ambee avar-value-y-move-full-begin-to-end amenn
        ambee proportion-distance-stop-per-full amenn
    amenn
amenn
ambee put-into-phrase
    avar-value-x-move-start-end
    ambee numeric-add
        ambee avar-value-x-move-full-begin amenn
        ambee avar-value-x-move-start-distance amenn
    amenn
amenn
ambee put-into-phrase
    avar-value-x-move-stop-begin
    ambee numeric-minus
        ambee avar-value-x-move-full-end amenn
        ambee avar-value-x-move-stop-distance amenn
    amenn
amenn
ambee put-into-phrase
    avar-value-y-move-start-end
    ambee numeric-add
        ambee avar-value-y-move-full-begin amenn
        ambee avar-value-y-move-start-distance amenn
    amenn
amenn
ambee put-into-phrase
    avar-value-y-move-stop-begin
    ambee numeric-minus
        ambee avar-value-y-move-full-end amenn
        ambee avar-value-y-move-stop-distance amenn
    amenn
amenn
ambee copy-text frame-number-for-avar-id-type-begin avar-frame-move-start-begin amenn
ambee copy-text frame-number-for-avar-id-type-end avar-frame-move-start-end amenn
ambee copy-text avar-value-x-move-full-begin avar-value-x-move-start-begin amenn
ambee copy-text avar-value-x-move-start-end avar-value-x-move-middle-begin amenn
ambee copy-text avar-value-x-move-stop-begin avar-value-x-move-middle-end amenn
ambee copy-text avar-value-x-move-full-end avar-value-x-move-stop-end amenn
ambee copy-text avar-value-y-move-full-begin avar-value-y-move-start-begin amenn
ambee copy-text avar-value-y-move-start-end avar-value-y-move-middle-begin amenn
ambee copy-text avar-value-y-move-stop-begin avar-value-y-move-middle-end amenn
ambee copy-text avar-value-y-move-full-end avar-value-y-move-stop-end amenn

    ambee put-into-phrase output-line values x: amenn
    ambee append-text avar-value-x-move-start-begin output-line amenn
    ambee append-text avar-value-x-move-start-end output-line amenn
    ambee append-text avar-value-x-move-middle-begin output-line amenn
    ambee append-text avar-value-x-move-middle-end output-line amenn
    ambee append-text avar-value-x-move-stop-begin output-line amenn
    ambee append-text avar-value-x-move-stop-end output-line amenn
    ambee write-output-line-to-log-file amenn

    ambee put-into-phrase output-line values y: amenn
    ambee append-text avar-value-y-move-start-begin output-line amenn
    ambee append-text avar-value-y-move-start-end output-line amenn
    ambee append-text avar-value-y-move-middle-begin output-line amenn
    ambee append-text avar-value-y-move-middle-end output-line amenn
    ambee append-text avar-value-y-move-stop-begin output-line amenn
    ambee append-text avar-value-y-move-stop-end output-line amenn
    ambee write-output-line-to-log-file amenn

ambee copy-text avar-frame-move-start-begin avar-frame-begin amenn
ambee copy-text avar-frame-move-start-begin avar-frame-at-value-begin amenn
ambee copy-text avar-frame-move-start-end avar-frame-end amenn
ambee copy-text avar-frame-move-start-end avar-frame-at-value-end amenn
ambee copy-text avar-value-x-move-start-begin avar-value-begin amenn
ambee copy-text avar-value-x-move-start-end avar-value-end amenn
ambee put-into-phrase transition-type move-start amenn
ambee get-percent-times-and-percent-values-then-write-avar-values amenn
ambee copy-text avar-value-y-move-start-begin avar-value-begin amenn
ambee copy-text avar-value-y-move-start-end avar-value-end amenn
ambee get-percent-times-and-percent-values-then-write-avar-values amenn

ambee copy-text avar-frame-move-middle-begin avar-frame-begin amenn
ambee numeric-increment avar-frame-begin amenn
ambee copy-text avar-frame-move-middle-begin avar-frame-at-value-begin amenn
ambee copy-text avar-frame-move-middle-end avar-frame-end amenn
ambee numeric-decrement avar-frame-end amenn
ambee copy-text avar-frame-move-middle-end avar-frame-at-value-end amenn
ambee copy-text avar-value-x-move-middle-begin avar-value-begin amenn
ambee copy-text avar-value-x-move-middle-end avar-value-end amenn
ambee put-into-phrase transition-type simple-linear amenn
ambee write-avar-values-for-dynamic-transition-type-simple-linear amenn
ambee copy-text avar-value-y-move-middle-begin avar-value-begin amenn
ambee copy-text avar-value-y-move-middle-end avar-value-end amenn
ambee write-avar-values-for-dynamic-transition-type-simple-linear amenn

ambee copy-text avar-frame-move-stop-begin avar-frame-begin amenn
ambee copy-text avar-frame-move-stop-begin avar-frame-at-value-begin amenn
ambee copy-text avar-frame-move-stop-end avar-frame-end amenn
ambee copy-text avar-frame-move-stop-end avar-frame-at-value-end amenn
ambee copy-text avar-value-x-move-stop-begin avar-value-begin amenn
ambee copy-text avar-value-x-move-stop-end avar-value-end amenn
ambee put-into-phrase transition-type move-stop amenn
ambee get-percent-times-and-percent-values-then-write-avar-values amenn
ambee copy-text avar-value-y-move-stop-begin avar-value-begin amenn
ambee copy-text avar-value-y-move-stop-end avar-value-end amenn
ambee get-percent-times-and-percent-values-then-write-avar-values amenn
----
calculate-frame-numbers-for-before-during-after-constant-speed:
ambee copy-text avar-frame-begin frame-number-for-avar-id-type-begin amenn
ambee copy-text avar-frame-end frame-number-for-avar-id-type-end amenn
ambee copy-text frame-number-for-avar-id-type-begin avar-frame-move-start-begin amenn
ambee put-into-phrase
    avar-frame-move-start-end
    ambee numeric-add
        ambee avar-frame-move-start-begin amenn
        ambee interval-frames-for-move-start amenn
    amenn
amenn
ambee copy-text avar-frame-move-start-end avar-frame-move-middle-begin amenn
ambee put-into-phrase
    avar-frame-move-middle-end
    ambee numeric-integer
        ambee numeric-add
            ambee avar-frame-move-middle-begin amenn
            ambee numeric-multiply
                ambee distance-pixels-at-constant-speed amenn
                ambee interval-frames-per-pixel-distance-at-constant-speed amenn
            amenn
        amenn
    amenn
amenn
ambee put-into-phrase
    avar-frame-move-middle-end
    ambee numeric-minimum
        ambee avar-frame-move-middle-end amenn
        ambee interval-frames-maximum-duration-at-constant-speed amenn
    amenn
amenn
ambee copy-text avar-frame-move-middle-end avar-frame-move-stop-begin amenn
ambee put-into-phrase
    avar-frame-move-stop-end
    ambee numeric-integer
        ambee numeric-add
            ambee avar-frame-move-stop-begin amenn
            ambee interval-frames-for-move-stop amenn
        amenn
    amenn
amenn
ambee copy-text avar-frame-move-stop-end avar-frame-end amenn

combee
ambee copy-text avar-frame-end last-frame-number amenn
comenn

combee
    ambee put-into-phrase output-line interval start stop frames: amenn
    ambee append-text interval-frames-for-move-start output-line amenn
    ambee append-text interval-frames-for-move-stop output-line amenn
    ambee append-text interval-frames-per-pixel-distance-at-constant-speed output-line amenn
    ambee write-output-line-to-log-file amenn
comenn

    ambee put-into-phrase output-line frames move full: amenn
    ambee append-text avar-frame-move-start-begin output-line amenn
    ambee append-text avar-frame-move-start-end output-line amenn
    ambee append-text avar-frame-move-middle-begin output-line amenn
    ambee append-text avar-frame-move-middle-end output-line amenn
    ambee append-text avar-frame-move-stop-begin output-line amenn
    ambee append-text avar-frame-move-stop-end output-line amenn
    ambee write-output-line-to-log-file amenn
----
write-avar-values-for-transition-type-move-short:
ambee put-into-phrase transition-type move-short amenn
ambee copy-text avar-value-x-move-full-begin avar-value-begin amenn
ambee copy-text avar-value-x-move-full-end avar-value-end amenn
ambee copy-text frame-number-for-avar-id-type-begin avar-frame-begin amenn
ambee copy-text frame-number-for-avar-id-type-end avar-frame-end amenn
ambee get-percent-times-and-percent-values-then-write-avar-values amenn
----
calculate-x-y-distance-for-move-normal:
ambee put-into-phrase
    x-distance-integer
    ambee numeric-integer
        ambee numeric-multiply
            10000
            ambee numeric-minus
                ambee avar-value-x-move-full-end amenn
                ambee avar-value-x-move-full-begin amenn
            amenn
        amenn
    amenn
amenn
ambee put-into-phrase
    y-distance-integer
    ambee numeric-integer
        ambee numeric-multiply
            10000
            ambee numeric-minus
                ambee avar-value-y-move-end amenn
                ambee avar-value-y-move-begin amenn
            amenn
        amenn
    amenn
amenn
ambee numeric-vectors-from-delta-values-calculate-distances x-distance-integer y-distance-integer distance-integer amenn
ambee put-into-phrase
    x-y-distance-for-move-normal
    ambee numeric-divide-by
        ambee distance-integer amenn
        ambee 10000 amenn
    amenn
amenn
----
handle-find-get-all-avars-in-one-svg-file:
ambee load-svg-file amenn

ambee if-yes-begin ambee yes-or-no-svg-file-found amenn amenn
    ambee point-to-all-svg-ids-avar-values-and-more amenn
ambee if-end amenn
----
point-to-all-svg-ids-avar-values-and-more:
ambee point-to-all-svg-ids amenn
ambee point-to-all-svg-avar-values amenn
ambee use-handler-with-each-word-in-phrase delete-one-combined-svg-info-phrase list-of-pointers-to-brackets-before-avar-ids amenn
----
delete-one-combined-svg-info-phrase:
ambee copy-text word-to-use-in-handler character-pointer amenn
ambee put-into-phrase phrase-name-to-delete svg-id-name-for-object-starting-at-svg-character-position amenn
ambee append-text-no-space character-hyphen phrase-name-to-delete amenn
ambee append-text-no-space character-pointer phrase-name-to-delete amenn
ambee delete-listed-phrases phrase-name-to-delete amenn
----
point-to-all-svg-ids:
ambee generate-positions-of-delimiter character-open-angle-bracket loaded-svg-file list-of-pointers-to-open-angle-brackets amenn
ambee clear-phrase list-of-pointers-to-first-character-of-all-svg-ids amenn
ambee use-handler-with-each-word-in-phrase point-to-svg-avar-ids-of-one-id-type list-of-svg-location-id-types amenn
ambee copy-words-unique-only list-of-pointers-to-first-character-of-all-svg-ids list-of-pointers-to-first-character-of-all-svg-ids amenn
ambee copy-words-sort-numeric list-of-pointers-to-first-character-of-all-svg-ids list-of-pointers-to-first-character-of-all-svg-ids amenn
ambee generate-positions-of-first-matching-delimiter-after-listed-positions character-quotation loaded-svg-file list-of-pointers-to-first-character-of-all-svg-ids list-of-pointers-to-closing-delimiter amenn
ambee numeric-vector-add-number list-of-pointers-to-closing-delimiter -1 list-of-pointers-to-last-character-of-all-svg-ids amenn
ambee copy-words-unique-only list-of-pointers-to-first-character-of-all-svg-ids list-of-pointers-to-first-character-of-all-svg-ids amenn
ambee copy-words-sort-numeric list-of-pointers-to-first-character-of-all-svg-ids list-of-pointers-to-first-character-of-all-svg-ids amenn
ambee copy-words-unique-only list-of-pointers-to-last-character-of-all-svg-ids list-of-pointers-to-last-character-of-all-svg-ids amenn
ambee copy-words-sort-numeric list-of-pointers-to-last-character-of-all-svg-ids list-of-pointers-to-last-character-of-all-svg-ids amenn
ambee generate-counts-from-integer-to-integer 1 ambee get-count-of-words list-of-pointers-to-first-character-of-all-svg-ids amenn list-of-pointers-to-begin-avar-value-pointers amenn
ambee use-handler-with-each-word-in-phrase handle-get-one-svg-id-name list-of-pointers-to-begin-avar-value-pointers amenn
ambee generate-list-of-avar-ids amenn
----
generate-list-of-avar-ids:
ambee clear-phrase list-of-avar-ids amenn
ambee use-handler-with-each-word-in-phrase add-one-avar-id-to-list list-of-pointers-to-brackets-before-avar-ids amenn
ambee copy-words-unique-only list-of-avar-ids list-of-avar-ids amenn
ambee copy-words-sort-alphabetic list-of-avar-ids list-of-avar-ids amenn

    ambee put-into-phrase output-line avar ids found: amenn
    ambee append-text list-of-avar-ids output-line amenn
    ambee write-output-line-to-log-file amenn
----
add-one-avar-id-to-list:
ambee copy-text word-to-use-in-handler pointer-to-prior-open-angle-bracket amenn
ambee copy-text svg-id-name-for-object-starting-at-svg-character-position fenambee pointer-to-prior-open-angle-bracket amenn avar-id amenn
ambee append-text avar-id list-of-avar-ids amenn
----
point-to-svg-avar-ids-of-one-id-type:
ambee copy-text word-to-use-in-handler id-type amenn
ambee copy-text svg-location-id-type fenambee id-type amenn svg-location-id amenn
ambee generate-positions-of-delimiter svg-location-id loaded-svg-file list-of-pointers-to-id-type-begin amenn
ambee clear-phrase list-of-pointers-to-id-type-begin-modified amenn
ambee use-handler-with-each-word-in-phrase check-for-non-alpha-before-id-type list-of-pointers-to-id-type-begin amenn
ambee copy-text list-of-pointers-to-id-type-begin-modified list-of-pointers-to-id-type-begin amenn
ambee put-into-phrase offset-distance ambee numeric-add 1 ambee get-count-of-characters svg-location-id amenn amenn amenn
ambee clear-phrase list-of-pointers-to-avar-ids-of-one-type amenn

ambee if-no-begin ambee yes-or-no-empty-phrase list-of-pointers-to-id-type-begin amenn amenn
    ambee numeric-vector-add-number list-of-pointers-to-id-type-begin ambee offset-distance amenn list-of-pointers-to-avar-ids-of-one-type amenn
    ambee append-text list-of-pointers-to-avar-ids-of-one-type list-of-pointers-to-first-character-of-all-svg-ids amenn
ambee if-end amenn
----
check-for-non-alpha-before-id-type:
ambee copy-text word-to-use-in-handler pointer-to-id-type amenn
ambee copy-text pointer-to-id-type pointer-to-character-before-id-type amenn
ambee numeric-decrement pointer-to-character-before-id-type amenn
ambee copy-characters-from-position-to-position loaded-svg-file possible-alpha ambee pointer-to-character-before-id-type amenn ambee pointer-to-character-before-id-type amenn amenn
ambee copy-words-found-in-both-lists possible-alpha letters-of-alphabet empty-if-not-alpha amenn

ambee if-yes-begin ambee yes-or-no-empty-phrase empty-if-not-alpha amenn amenn
    ambee append-text pointer-to-id-type list-of-pointers-to-id-type-begin-modified amenn
ambee if-end amenn
----
letters-of-alphabet:
a b c d e f g h i j k l m n o p q r s t u v w x y z
----
handle-get-one-svg-id-name:
ambee copy-text word-to-use-in-handler pointer-to-pointer amenn
ambee copy-word-at-position list-of-pointers-to-first-character-of-all-svg-ids character-pointer-begin ambee pointer-to-pointer amenn amenn
ambee copy-text character-pointer-begin integer-threshold amenn
ambee copy-text list-of-pointers-to-last-character-of-all-svg-ids list-of-integers amenn
ambee find-nearest-integers-in-list amenn
ambee copy-text nearest-larger-integer character-pointer-end amenn
ambee copy-characters-from-position-to-position loaded-svg-file svg-id-name ambee character-pointer-begin amenn ambee character-pointer-end amenn amenn
ambee copy-and-replace svg-id-name svg-id-name-with-replacements character-space character-at-sign amenn
ambee copy-text character-pointer-begin integer-threshold amenn
ambee copy-text list-of-pointers-to-open-angle-brackets list-of-integers amenn
ambee find-nearest-integers-in-list amenn
ambee copy-text nearest-smaller-integer pointer-to-prior-open-angle-bracket amenn
ambee copy-text svg-id-name-with-replacements svg-id-name-for-object-starting-at-svg-character-position fenambee pointer-to-prior-open-angle-bracket amenn amenn
ambee append-text pointer-to-prior-open-angle-bracket list-of-pointers-to-brackets-before-avar-ids amenn
----
point-to-all-svg-avar-values:

combee todo: fails to find x= , only finds first, which is y= comenn

ambee use-handler-with-each-word-in-phrase point-to-svg-avar-values-of-one-svg-location-type list-of-svg-location-types amenn
ambee generate-counts-from-integer-to-integer 1 ambee get-count-of-words list-of-pointers-to-begin-svg-avar-values amenn list-of-pointers-to-begin-avar-value-pointers amenn
----
point-to-svg-avar-values-of-one-svg-location-type:
ambee copy-text word-to-use-in-handler svg-location-type amenn
ambee copy-text svg-location fenambee svg-location-type amenn svg-location amenn

ambee if-no-begin ambee yes-or-no-empty-phrase svg-location amenn amenn
    ambee point-to-svg-avar-values-based-on-svg-location-words amenn
ambee if-else amenn
    ambee put-into-phrase output-line svg location type invalid: amenn
    ambee append-text svg-location-type output-line amenn
    ambee write-output-line-to-log-file amenn
ambee if-end amenn
----
point-to-svg-avar-values-based-on-svg-location-words:
ambee copy-word-at-position svg-location svg-location-word 1 amenn
ambee copy-and-replace svg-location-word svg-location-word character-at-sign character-space amenn

ambee if-no-begin ambee yes-or-no-empty-phrase svg-location-word amenn amenn
    ambee point-to-svg-avar-values-have-svg-location-word amenn
ambee if-else amenn
    ambee put-into-phrase output-line svg location word missing for svg location type amenn
    ambee append-text svg-location-type output-line amenn
    ambee write-output-line-to-log-file amenn
ambee if-end amenn
----
point-to-svg-avar-values-have-svg-location-word:
ambee generate-positions-of-delimiter svg-location-word loaded-svg-file list-of-pointers-to-found-text amenn

combee
    ambee put-into-phrase output-line svg location word: amenn
    ambee append-text svg-location-word output-line amenn
    ambee write-output-line-to-log-file amenn
comenn

ambee if-no-begin ambee yes-or-no-empty-phrase list-of-pointers-to-found-text amenn amenn
    ambee point-to-svg-avar-values-based-on-pointers-found amenn
ambee if-else amenn
    ambee put-into-phrase output-line location word not found for type amenn
    ambee append-text svg-location-type output-line amenn
    ambee write-output-line-to-log-file amenn
ambee if-end amenn
----
point-to-svg-avar-values-based-on-pointers-found:
ambee numeric-vector-add-number list-of-pointers-to-found-text ambee get-count-of-characters svg-location-word amenn list-of-pointers-to-next-character-in-svg-avar-value amenn
ambee put-into-phrase word-count-for-svg-location ambee get-count-of-words svg-location amenn amenn
ambee generate-counts-from-integer-to-integer 2 ambee word-count-for-svg-location amenn list-of-pointers-to-svg-location-words amenn
ambee use-handler-with-each-word-in-phrase point-to-one-svg-avar-value-for-case-found-first-word list-of-pointers-to-next-character-in-svg-avar-value amenn
----
point-to-one-svg-avar-value-for-case-found-first-word:
ambee copy-text word-to-use-in-handler pointer-to-previous-next-character-in-svg-avar-value amenn
ambee clear-phrase location-word-previous amenn
ambee use-handler-with-each-word-in-phrase point-to-one-svg-avar-value-using-next-svg-location-word list-of-pointers-to-svg-location-words amenn
ambee handle-one-found-svg-avar-value amenn
----
point-to-one-svg-avar-value-using-next-svg-location-word:
ambee copy-text word-to-use-in-handler pointer-to-svg-location-word amenn
ambee copy-word-at-position svg-location svg-location-word ambee pointer-to-svg-location-word amenn amenn
ambee put-into-phrase length-of-svg-location-word ambee get-count-of-characters svg-location-word amenn amenn

ambee if-yes-begin ambee yes-or-no-same-two-phrase-definitions location-word location-word-previous amenn amenn
    ambee put-into-phrase
        character-pointer-minus-one
        ambee numeric-minus
            ambee pointer-to-previous-next-character-in-svg-avar-value amenn
            1
        amenn
    amenn
ambee if-end amenn

ambee generate-positions-of-first-matching-delimiter-after-listed-positions svg-location-word loaded-svg-file character-pointer-minus-one pointer-to-next-next-character-in-svg-avar-value amenn

combee
    ambee put-into-phrase output-line pointer next char: amenn
    ambee append-text pointer-to-next-next-character-in-svg-avar-value output-line amenn
    ambee write-output-line-to-log-file amenn
    ambee put-into-phrase output-line string: amenn
    ambee append-text svg-location-word output-line amenn
    ambee copy-characters-from-position-to-position loaded-svg-file text-string ambee pointer-to-previous-next-character-in-svg-avar-value amenn ambee pointer-to-next-next-character-in-svg-avar-value amenn amenn
    ambee copy-and-replace text-string text-string character-newline character-at-sign amenn
    ambee append-text text-string output-line amenn
    ambee write-output-line-to-log-file amenn
comenn

ambee if-no-begin ambee yes-or-no-same-two-words ambee pointer-to-svg-location-word amenn ambee word-count-for-svg-location amenn amenn amenn
    ambee put-into-phrase
        pointer-to-previous-next-character-in-svg-avar-value
        ambee numeric-add
            ambee pointer-to-next-next-character-in-svg-avar-value amenn
            ambee length-of-svg-location-word amenn
        amenn
    amenn
    ambee copy-text location-word location-word-previous amenn
ambee if-end amenn
----
handle-one-found-svg-avar-value:
ambee copy-text pointer-to-previous-next-character-in-svg-avar-value character-pointer-begin amenn
ambee copy-text pointer-to-next-next-character-in-svg-avar-value character-pointer-end amenn
ambee numeric-decrement character-pointer-end amenn

ambee if-yes-begin ambee yes-or-no-same-two-words less ambee numeric-equal-greater-less-compare ambee character-pointer-begin amenn 1 amenn amenn amenn
    ambee put-into-phrase character-pointer-begin 1 amenn
ambee if-end amenn

ambee if-yes-begin ambee yes-or-no-same-two-words less ambee numeric-equal-greater-less-compare ambee character-pointer-end amenn ambee character-pointer-begin amenn amenn amenn amenn
    ambee copy-text character-pointer-begin character-pointer-end amenn
    ambee numeric-increment character-pointer-end amenn
ambee if-end amenn

ambee copy-characters-from-position-to-position loaded-svg-file svg-avar-value ambee character-pointer-begin amenn ambee character-pointer-end amenn amenn
ambee copy-characters-from-position-to-position svg-avar-value svg-avar-value 1 50 amenn
ambee copy-and-replace svg-avar-value svg-avar-value character-newline character-space amenn
ambee copy-without-extra-spaces svg-avar-value svg-avar-value amenn
ambee copy-text svg-avar-value possible-number amenn
ambee determine-yes-or-no-is-number-for-possible-number amenn

ambee if-yes-begin ambee yes-or-no-is-number amenn amenn
    ambee put-combined-svg-avar-id-name-type-value amenn
ambee if-else amenn
    combee
    ambee log-svg-code-context-that-is-not-number amenn
    comenn
ambee if-end amenn
----
log-svg-code-context-that-is-not-number:
ambee put-into-phrase output-line not an avar because not a number: amenn
ambee append-text svg-avar-value output-line amenn
ambee write-output-line-to-log-file amenn

ambee put-into-phrase output-line svg location: amenn
ambee append-text svg-location output-line amenn
ambee write-output-line-to-log-file amenn

ambee clear-phrase svg-code-context amenn
ambee put-into-phrase
    svg-code-context-pointer-begin
    ambee numeric-maximum
        1
        ambee numeric-minus
            ambee character-pointer-begin amenn
            15
        amenn
    amenn
amenn
ambee put-into-phrase
    svg-code-context-pointer-end
    ambee numeric-minimum
        ambee numeric-add
            ambee character-pointer-end amenn
            15
        amenn
        ambee numeric-add
            ambee character-pointer-begin amenn
            30
        amenn
    amenn
amenn
ambee copy-characters-from-position-to-position loaded-svg-file svg-code-context ambee svg-code-context-pointer-begin amenn ambee svg-code-context-pointer-end amenn amenn

    ambee put-into-phrase output-line ******* begin context ****** amenn
    ambee write-output-line-to-log-file amenn
    ambee copy-text svg-code-context output-line amenn
    ambee write-output-line-to-log-file amenn
    ambee put-into-phrase output-line ******* end context ****** amenn
    ambee write-output-line-to-log-file amenn
----
put-combined-svg-avar-id-name-type-value:
ambee copy-text pointer-to-previous-next-character-in-svg-avar-value integer-threshold amenn
ambee copy-text list-of-pointers-to-open-angle-brackets list-of-integers amenn
ambee find-nearest-integers-in-list amenn
ambee copy-text svg-id-name-for-object-starting-at-svg-character-position fenambee nearest-smaller-integer amenn svg-id-name amenn

ambee if-no-begin ambee yes-or-no-empty-phrase svg-id-name amenn amenn
    ambee generate-and-append-combined-svg-id-name-location-type-avar-value amenn
ambee if-else amenn
    combee
    ambee put-into-phrase output-line failed to find svg-id-name-for-object-starting-at-svg-character-position at pointer: amenn
    ambee append-text nearest-smaller-integer output-line amenn
    ambee write-output-line-to-log-file amenn
    comenn
ambee if-end amenn
----
generate-and-append-combined-svg-id-name-location-type-avar-value:
ambee copy-and-replace svg-avar-value svg-avar-value-without-spaces character-space character-at-sign amenn
ambee copy-text svg-id-name combined-svg-id-name-location-type-avar-value amenn
ambee append-text-no-space character-underscore combined-svg-id-name-location-type-avar-value amenn
ambee append-text-no-space character-underscore combined-svg-id-name-location-type-avar-value amenn
ambee append-text-no-space svg-location-type combined-svg-id-name-location-type-avar-value amenn
ambee append-text-no-space character-underscore combined-svg-id-name-location-type-avar-value amenn
ambee append-text-no-space character-underscore combined-svg-id-name-location-type-avar-value amenn
ambee append-text-no-space svg-avar-value-without-spaces combined-svg-id-name-location-type-avar-value amenn
ambee append-text combined-svg-id-name-location-type-avar-value list-of-avar-id-location-type-value-items-at-keyframe-number fenambee script-keyframe-number amenn amenn
ambee capture-values amenn

combee
    ambee put-into-phrase output-line combined text: amenn
    ambee append-text combined-svg-id-name-location-type-avar-value output-line amenn
    ambee write-output-line-to-log-file amenn
comenn
----
capture-values:
ambee copy-text svg-id-name possible-avar-id-to-capture amenn

ambee if-no-begin ambee yes-or-no-empty-phrase first-captured-value-avar-id fenambee svg-id-name amennfen type fenambee svg-location-type amenn amenn amenn
    ambee clear-phrase possible-avar-id-to-capture amenn
ambee if-end amenn

ambee copy-text svg-avar-value-without-spaces last-captured-value-avar-id fenambee svg-id-name amennfen type fenambee svg-location-type amenn amenn

ambee if-no-begin ambee yes-or-no-empty-phrase possible-avar-id-to-capture amenn amenn
    ambee append-text svg-avar-value-without-spaces first-captured-value-avar-id fenambee svg-id-name amennfen type fenambee svg-location-type amenn amenn
ambee if-end amenn

ambee append-text svg-id-name list-of-avar-ids-in-captured-sequence amenn
----
unused-copy-from-loaded-svg-file-to-avar-value:
ambee if-yes-begin ambee yes-or-no-empty-phrase starting-pointer amenn amenn
    ambee put-into-phrase starting-pointer 1 amenn
ambee if-end amenn

ambee clear-phrase avar-value-current amenn
ambee clear-phrase list-of-starting-pointers amenn
ambee use-handler-with-each-word-in-phrase handle-one-svg-location-word svg-location amenn
ambee copy-words-order-reversed list-of-starting-pointers list-of-starting-pointers-reversed amenn
ambee copy-word-at-position list-of-starting-pointers-reversed pointer-end-value 1 amenn
ambee copy-word-at-position list-of-starting-pointers-reversed pointer-start-value 2 amenn
ambee put-into-phrase text-length ambee get-count-of-characters location-word-previous amenn amenn
ambee put-into-phrase
    pointer-start-value
    ambee numeric-add
        ambee pointer-start-value amenn
        ambee text-length amenn
    amenn
amenn
ambee numeric-decrement pointer-end-value amenn
ambee copy-characters-from-position-to-position loaded-svg-file avar-value-current ambee pointer-start-value amenn ambee pointer-end-value amenn amenn
----
log-list-of-avar-ids-in-captured-sequence:
ambee copy-words-unique-only list-of-avar-ids-in-captured-sequence list-of-avar-ids-in-captured-sequence amenn

    ambee put-into-phrase output-line avar ids in capture sequence: amenn
    ambee append-text list-of-avar-ids-in-captured-sequence output-line amenn
    ambee write-output-line-to-log-file amenn
----
handle-one-svg-location-word:
ambee copy-text location-word location-word-previous amenn
ambee copy-text word-to-use-in-handler location-word amenn
ambee generate-positions-of-first-matching-delimiter-after-listed-positions location-word loaded-svg-file starting-pointer next-starting-pointer amenn
ambee append-text next-starting-pointer list-of-starting-pointers amenn
ambee copy-text next-starting-pointer starting-pointer amenn

    ambee put-into-phrase output-line getting avar value: amenn
    ambee append-text location-word output-line amenn
    ambee append-text list-of-starting-pointers output-line amenn
    ambee write-output-line-to-log-file amenn
----
write-all-found-avar-id-type-values-to-file:
ambee put-into-phrase output-filename-all-avar-info-file  output_all_avar_info.txt  amenn
ambee use-handler-with-each-word-in-phrase gather-avar-id-type-values-from-one-keyframe list-of-keyframe-numbers amenn
ambee copy-words-unique-only list-of-all-avar-id-info list-of-all-avar-id-info amenn
ambee copy-words-sort-alphabetic list-of-all-avar-id-info list-of-all-avar-id-info amenn
ambee copy-text path-to-avar-info-files dashrep-path-prefix-for-file-writing amenn
ambee delete-file ambee output-filename-all-avar-info-file amenn amenn
ambee copy-from-phrase-append-to-file list-of-all-avar-id-info ambee output-filename-all-avar-info-file amenn amenn
----
gather-avar-id-type-values-from-one-keyframe:
ambee append-text list-of-avar-id-location-type-value-items-at-keyframe-number fenambee script-keyframe-number amenn list-of-all-avar-id-info amenn
----
if-needed-convert-interval-seconds-into-frames:
ambee if-yes-begin ambee yes-or-no-empty-phrase yes-if-already-converted-seconds-into-frames amenn amenn
    ambee multiple-convert-interval-seconds-to-frames amenn
    ambee put-into-phrase yes-if-already-converted-seconds-into-frames yes amenn
ambee if-end amenn
----
read-and-process-script:
ambee load-script-file amenn
ambee parse-animation-script amenn

    ambee put-into-phrase output-line script processed amenn
    ambee write-output-line-to-log-file amenn
----
load-script-file:
ambee linewise-read-from-standard-input handle-read-one-line-of-script-file amenn
ambee copy-and-replace loaded-script-file loaded-script-file character-newline character-space amenn
ambee copy-without-extra-spaces loaded-script-file loaded-script-file amenn
----
handle-read-one-line-of-script-file:
ambee append-text linewise-input-line-from-file loaded-script-file amenn
----
parse-animation-script:
ambee use-handler-with-each-word-in-phrase parse-next-word-in-script loaded-script-file amenn
----
parse-next-word-in-script:
ambee copy-text word-to-use-in-handler word-in-script amenn
ambee copy-words-found-in-both-lists word-in-script list-of-valid-script-leading-word-single-value valid-script-leading-word-single-value amenn
ambee copy-words-found-in-both-lists word-in-script list-of-valid-script-leading-word-multiple-values valid-script-leading-word-multiple-values amenn
ambee copy-words-that-begin-with-listed-words word-in-script valid-allowed-phrase-name list-of-allowed-phrase-name-beginnings-for-multiple-values amenn
ambee copy-text valid-script-leading-word-single-value leading-word-any-type amenn
ambee append-text valid-script-leading-word-multiple-values leading-word-any-type amenn
ambee append-text valid-allowed-phrase-name leading-word-any-type amenn

ambee if-no-begin ambee yes-or-no-empty-phrase leading-word-any-type amenn amenn
    ambee copy-text word-in-script preceding-leading-word-in-script amenn
ambee if-else amenn
    ambee handle-script-word-not-leading-word amenn
ambee if-end amenn
----
list-of-allowed-phrase-name-beginnings-for-multiple-values:
interpolation-numbers-for-transition
----
handle-script-word-not-leading-word:
ambee copy-characters-from-position-to-position word-in-script word-prefix 1 8 amenn
ambee if-yes-begin ambee yes-or-no-same-two-phrase-definitions word-prefix word-keyframe amenn amenn
    ambee clear-phrase preceding-leading-word-in-script amenn
    ambee copy-text word-keyframe category-of-word-in-script amenn
    ambee handle-script-word-by-category amenn
ambee if-else amenn
    ambee handle-script-word-not-keyframe amenn
ambee if-end amenn
----
handle-script-word-not-keyframe:
ambee if-yes-begin ambee yes-or-no-empty-phrase preceding-leading-word-in-script amenn amenn
    ambee clear-phrase preceding-leading-word-in-script amenn
    ambee clear-phrase category-of-word-in-script amenn
    ambee handle-script-word-by-category amenn
ambee if-else amenn
    ambee handle-script-word-follows-leading-word amenn
ambee if-end amenn
----
handle-script-word-follows-leading-word:
ambee copy-words-found-in-both-lists preceding-leading-word-in-script list-of-valid-script-leading-word-single-value valid-script-leading-word-single-value amenn

ambee if-no-begin ambee yes-or-no-empty-phrase valid-script-leading-word-single-value amenn amenn
    ambee copy-text word-in-script ambee get-phrase-name-from-phrase valid-script-leading-word-single-value amenn amenn
    ambee clear-phrase preceding-leading-word-in-script amenn

    ambee put-into-phrase output-line single case: amenn
    ambee append-text valid-script-leading-word-single-value output-line amenn
    ambee write-output-line-to-log-file amenn

ambee if-end amenn

ambee copy-words-found-in-both-lists preceding-leading-word-in-script list-of-valid-script-leading-word-multiple-values valid-script-leading-word-multiple-values amenn

ambee if-no-begin ambee yes-or-no-empty-phrase valid-script-leading-word-multiple-values amenn amenn
    ambee append-text word-in-script ambee get-phrase-name-from-phrase valid-script-leading-word-multiple-values amenn amenn

    ambee put-into-phrase output-line multiple case: amenn
    ambee append-text valid-script-leading-word-multiple-values output-line amenn
    ambee write-output-line-to-log-file amenn

ambee if-end amenn

ambee copy-words-that-begin-with-listed-words preceding-leading-word-in-script valid-allowed-phrase-name list-of-allowed-phrase-name-beginnings-for-multiple-values amenn

ambee if-no-begin ambee yes-or-no-empty-phrase valid-allowed-phrase-name amenn amenn
    ambee append-text word-in-script ambee get-phrase-name-from-phrase valid-allowed-phrase-name amenn amenn

    ambee put-into-phrase output-line begins with allowed: amenn
    ambee append-text valid-allowed-phrase-name output-line amenn
    ambee write-output-line-to-log-file amenn

ambee if-end amenn
----
handle-script-word-by-category:
ambee if-yes-begin ambee yes-or-no-same-two-phrase-definitions word-in-script character-open-square-bracket amenn amenn
    ambee put-into-phrase category-of-word-in-script caption-begin amenn
ambee if-end amenn

ambee if-yes-begin ambee yes-or-no-same-two-phrase-definitions word-in-script character-close-square-bracket amenn amenn
    ambee put-into-phrase category-of-word-in-script caption-end amenn
ambee if-end amenn

ambee copy-text word-in-script possible-number amenn
ambee determine-yes-or-no-is-number-for-possible-number amenn
ambee if-yes-begin ambee yes-or-no-is-number amenn amenn
    ambee put-into-phrase category-of-word-in-script is-number amenn
ambee if-end amenn

ambee copy-characters-from-position-to-position word-in-script word-prefix 1 8 amenn
ambee if-yes-begin ambee yes-or-no-same-two-phrase-definitions word-prefix word-keyframe amenn amenn
    ambee copy-text word-keyframe category-of-word-in-script amenn
    ambee if-needed-convert-interval-seconds-into-frames amenn
ambee if-end amenn

ambee copy-words-found-in-both-lists category-of-word-in-script list-of-valid-cases-for-word-in-script valid-category-of-word-in-script amenn

ambee if-no-begin ambee yes-or-no-empty-phrase valid-category-of-word-in-script amenn amenn
    ambee handle-script-word-case fenambee valid-category-of-word-in-script amenn amenn
ambee if-end amenn
----
list-of-valid-script-leading-word-multiple-values:
avars-skip
avars-only
----
list-of-valid-script-leading-word-single-value:
frames-per-second
path-to-current-folder
----
list-of-valid-cases-for-word-in-script:
keyframe
is-number
caption-begin
caption-text
caption-end
----
word-keyframe:
keyframe
----
handle-script-word-case-keyframe:
ambee numeric-increment script-keyframe-number amenn
ambee numeric-increment script-frame-number amenn
ambee copy-text script-frame-number frame-number-for-keyframe-number fenambee script-keyframe-number amenn amenn
ambee copy-text word-in-script filename-svg-keyframe-for-keyframe-number fenambee script-keyframe-number amenn amenn
ambee clear-phrase leading-word-in-script amenn
ambee copy-text script-frame-number last-frame-number amenn

    ambee put-into-phrase output-line last frame number: amenn
    ambee append-text last-frame-number output-line amenn
    ambee write-output-line-to-log-file amenn

    ambee put-into-phrase output-line frame script and number: amenn
    ambee copy-text script-frame-number output-line amenn
    ambee append-text word-in-script output-line amenn
    ambee append-text script-keyframe-number output-line amenn
    ambee write-output-line-to-log-file amenn
----
handle-script-word-case-caption-text:
ambee append-text word-in-script caption-text-number fenambee caption-number amenn amenn
----
handle-script-word-case-caption-begin:
ambee numeric-increment caption-number amenn
ambee clear-phrase leading-word-in-script amenn
----
handle-script-word-case-caption-end:
ambee expand-text caption-text-number fenambee caption-number amenn expanded-text amenn
ambee copy-zero-pad-left-to-length script-frame-number script-frame-number-zero-padded 7 amenn
ambee copy-text expanded-text at-frame fenambee script-frame-number-zero-padded amennfen new-caption amenn
ambee clear-phrase leading-word-in-script amenn

    ambee put-into-phrase output-line script frame number expanded text: amenn
    ambee copy-text script-frame-number output-line amenn
    ambee append-text expanded-text output-line amenn
    ambee write-output-line-to-log-file amenn

ambee put-into-phrase
    script-frame-number
    ambee numeric-add
        ambee script-frame-number amenn
        ambee interval-frames-duration-for-caption-default amenn
    amenn
amenn
----
italics-begin:
<ib> no-space
----
italics-end:
no-space <ie>
----
handle-script-word-case-is-number:
ambee copy-text word-in-script interval-seconds amenn
ambee convert-interval-seconds-to-frames amenn
ambee put-into-phrase
    script-frame-number
    ambee numeric-add
        ambee interval-frames amenn
        ambee script-frame-number amenn
    amenn
amenn
ambee clear-phrase leading-word-in-script amenn

    ambee put-into-phrase output-line script frame number: amenn
    ambee copy-text script-frame-number output-line amenn
    ambee write-output-line-to-log-file amenn
----
frames-per-second:
30
----
inkscape-height-pixels:
1080
----
inkscape-width-pixels:
1920
----
video-width-pixels:
640
----
video-height-pixels:
360
----
frame-number-end-scene:
0
----
folder-keyframe-files:
keyframe_files
----
folder-avar-info-files:
avar_info_files
----
folder-generated-images:
images
----
folder-generated-svg-files:
generated_svg_files
----
folder-generated-png-images:
generated_png_images
----
filename-generated-batch-commands-do-render:
generated_batch_file_do_render.bat
----
filename-batch-file-do-render-begin:
template_batch_file_begin.txt
----
filename-batch-file-do-render-end:
template_batch_file_end.txt
----
template-command-do-render:
%InkscapePath%inkscape character-hyphen no-space character-hyphen no-space export-type=png character-hyphen no-space character-hyphen no-space export-filename= no-space path-to-generated-png-images no-space template-filename-image-png path-to-generated-svg-files no-space template-filename-generated-svg >> output_from_inkscape.txt new-line
----
template-filename-generated-svg:
output_svg_generated_image_ no-space frame-number-zero-padded no-space .svg
----
template-filename-image-png:
generated_image_png_ no-space frame-number-zero-padded no-space .png
----
filename-list-of-image-png-filenames:
generated_list_of_png_files_for_video_converter.txt
----
character-at-sign:
@
----
character-quotation:
"
----
character-open-angle-bracket:
<
----
list-of-svg-location-id-types:
label
id
----
svg-location-id-type-label:
label=
----
svg-location-id-type-id:
id=
combee
other code checks for space, so that xyzid= does not match
comenn
----
list-of-svg-location-types:
position-x
position-y
center-x
center-y
radius-x
radius-y
translate-x
translate-y
height
width
height-percent
width-percent
transform-matrix-value-a
transform-matrix-value-b
transform-matrix-value-c
transform-matrix-value-d
transform-matrix-value-e
transform-matrix-value-f
opacity-equal-quotation
opacity-semicolon
opacity-fill-semicolon
opacity-stroke-semicolon
opacity-stop-semicolon
opacity-fill-quotation
opacity-stroke-quotation
opacity-stop-quotation
big-text
big-text-opacity
----
svg-location-width:
width= " "
----
svg-location-height:
height= " "
----
svg-location-width-percent:
width= " %"
----
svg-location-height-percent:
height= " %"
----
svg-location-radius-x:
rx= " "
----
svg-location-radius-y:
ry= " "
----
svg-location-center-x:
cx= " "
----
svg-location-center-y:
cy= " "
----
svg-location-position-x:
@x= " "
----
svg-location-position-y:
@y= " "
----
svg-location-rotate-angle:
transform="rotate ( ,
----
svg-location-rotate-x-offset:
transform="rotate ( , ,
----
svg-location-rotate-y-offset:
transform="rotate ( , , )
----
svg-location-translate-x:
transform="translate ( ,
----
svg-location-translate-y:
transform="translate ( , )
----
svg-location-transform-matrix-value-a:
transform="matrix ( ,
----
svg-location-transform-matrix-value-b:
transform="matrix ( , ,
----
svg-location-transform-matrix-value-c:
transform="matrix ( , , ,
----
svg-location-transform-matrix-value-d:
transform="matrix ( , , , ,
----
svg-location-transform-matrix-value-e:
transform="matrix ( , , , , ,
----
svg-location-transform-matrix-value-f:
transform="matrix ( , , , , , )
----
svg-location-opacity-equal-quotation:
="opacity : ;
----
svg-location-opacity-semicolon:
;opacity : ;
----
svg-location-opacity-quotation:
;opacity : "
----
svg-location-opacity-fill-semicolon:
fill-opacity : ;
----
svg-location-opacity-fill-quotation:
fill-opacity : "
----
svg-location-opacity-stroke-semicolon:
stroke-opacity : ;
----
svg-location-opacity-stroke-quotation:
stroke-opacity : "
----
svg-location-opacity-stop-semicolon:
stop-opacity : ;
----
svg-location-opacity-stop-quotation:
stop-opacity : "
----
svg-location-caption-text:
caption text " "
----
svg-location-caption-opacity:
caption opacity " %"
----
svg-location-big-text:
big_text text " "
----
svg-location-big-text-opacity:
big_text opacity " %"
----
text-indicating-x-values:
__center-x__
__translate-x__
----
text-indicating-y-values:
__center-y__
__translate-y__
----
hyphen-x:
-x
----
hyphen-y:
-y
----
list-of-avar-types-involving-x:
position-x
translate-x
----
list-of-avar-types-involving-y:
position-y
translate-y
----
initialize-file-info:
ambee clear-phrase dashrep-path-prefix-for-file-reading amenn
ambee clear-phrase dashrep-path-prefix-for-file-writing amenn
ambee put-into-phrase output-filename-log-file  output_animation_log.txt  amenn
ambee delete-file ambee output-filename-log-file amenn amenn
ambee copy-text folder-generated-svg-files folder-name amenn
ambee generate-full-path-using-folder-name amenn
ambee copy-text full-path path-to-generated-svg-files amenn
ambee copy-text folder-avar-info-files folder-name amenn
ambee generate-full-path-using-folder-name amenn
ambee copy-text full-path path-to-avar-info-files amenn
ambee copy-text folder-keyframe-files folder-name amenn
ambee generate-full-path-using-folder-name amenn
ambee copy-text full-path path-to-keyframe-files amenn
ambee copy-text folder-generated-images folder-name amenn
ambee generate-full-path-using-folder-name amenn
ambee copy-text full-path path-to-generated-images amenn
ambee copy-text folder-generated-png-images folder-name amenn
ambee generate-full-path-using-folder-name amenn
ambee copy-text full-path path-to-generated-png-images amenn
ambee clear-phrase dashrep-path-prefix-for-file-reading amenn
ambee clear-phrase dashrep-path-prefix-for-file-writing amenn
ambee delete-file ambee filename-list-of-image-png-filenames amenn amenn
ambee delete-file ambee filename-generated-batch-commands-do-render amenn amenn
ambee expand-text template-filename-avar-summary filename-avar-summary amenn
ambee copy-text path-to-avar-info-files dashrep-path-prefix-for-file-writing amenn
ambee delete-file ambee filename-avar-summary amenn amenn

    ambee put-into-phrase output-line file initialization done amenn
    ambee write-output-line-to-log-file amenn
----
delete-avar-info-files:
ambee copy-text path-to-avar-info-files dashrep-path-prefix-for-file-reading amenn
ambee generate-list-of-files-in-current-read-directory list-of-avar-info-files amenn
ambee use-handler-with-each-word-in-phrase delete-one-avar-info-file list-of-avar-info-files amenn

    ambee put-into-phrase output-line deleted avar info files amenn
    ambee write-output-line-to-log-file amenn
----
delete-one-avar-info-file:
ambee copy-text word-to-use-in-handler filename-avar-info amenn
ambee copy-characters-from-position-to-position filename-avar-info filename-prefix 1 6 amenn

ambee if-yes-begin ambee yes-or-no-same-two-phrase-definitions filename-prefix text-frame-underscore amenn amenn
    ambee copy-text path-to-avar-info-files dashrep-path-prefix-for-file-writing amenn
    ambee delete-file ambee filename-avar-info amenn amenn
ambee if-end amenn
----
text-frame-underscore:
frame_
----
generate-full-path-using-folder-name:
ambee copy-text path-to-current-folder full-path amenn
ambee append-text-no-space folder-name full-path amenn
ambee copy-characters-from-position-to-position full-path last-character ambee get-count-of-characters full-path amenn 9999 amenn

ambee if-yes-begin ambee yes-or-no-empty-phrase full-path amenn amenn
    ambee copy-text operating-system-slash-or-backslash last-character amenn
ambee if-end amenn

ambee if-no-begin ambee yes-or-no-same-two-phrase-definitions last-character operating-system-slash-or-backslash amenn amenn
    ambee append-text-no-space operating-system-slash-or-backslash full-path amenn
ambee if-end amenn
----
write-generated-files:
ambee clear-phrase dashrep-path-prefix-for-file-reading amenn
ambee clear-phrase dashrep-path-prefix-for-file-writing amenn
ambee copy-from-phrase-append-to-file list-of-files-for-png-to-video-converter ambee filename-list-of-image-png-filenames amenn amenn
ambee copy-from-file-to-phrase ambee filename-batch-file-do-render-begin amenn batch-commands-do-render-begin amenn
ambee copy-from-file-to-phrase ambee filename-batch-file-do-render-end amenn batch-commands-do-render-end amenn
ambee copy-text batch-commands-do-render-begin batch-commands-do-render-all amenn
ambee append-new-line batch-commands-do-render-all amenn
ambee append-text-no-space generated-batch-commands-do-render batch-commands-do-render-all amenn
ambee append-text-no-space batch-commands-do-render-end batch-commands-do-render-all amenn
ambee clear-phrase dashrep-path-prefix-for-file-writing amenn
ambee copy-from-phrase-append-to-file batch-commands-do-render-all ambee filename-generated-batch-commands-do-render amenn amenn

    ambee put-into-phrase output-line output files written amenn
    ambee write-output-line-to-log-file amenn
----
load-svg-file:
ambee clear-phrase loaded-svg-file amenn
ambee copy-text path-to-keyframe-files dashrep-path-prefix-for-file-reading amenn

ambee if-no-begin ambee yes-or-no-empty-phrase filename-svg-keyframe amenn amenn
ambee copy-from-file-to-phrase ambee filename-svg-keyframe amenn loaded-svg-file amenn
ambee if-end amenn

ambee put-into-phrase length-of-loaded-svg-file ambee get-count-of-characters loaded-svg-file amenn amenn

ambee if-yes-begin ambee yes-or-no-same-two-words greater ambee numeric-equal-greater-less-compare ambee length-of-loaded-svg-file amenn 100 amenn amenn amenn
    ambee put-into-phrase yes-or-no-svg-file-found yes amenn
    ambee put-into-phrase output-line svg file found: amenn
ambee if-else amenn
    ambee put-into-phrase yes-or-no-svg-file-found no amenn
    ambee put-into-phrase output-line warning, file not found: amenn
ambee if-end amenn

    ambee put-into-phrase output-line file svg keyframe: amenn
    ambee append-text dashrep-path-prefix-for-file-reading output-line amenn
    ambee append-text filename-svg-keyframe output-line amenn
    ambee write-output-line-to-log-file amenn
----
get-phrase-names-that-begin-with-phrase-name-prefix:
ambee copy-and-replace phrase-name-prefix phrase-name-prefix character-space character-hyphen amenn
ambee append-text-no-space character-hyphen phrase-name-prefix amenn
ambee generate-list-of-all-dashrep-phrases list-of-all-phrase-names amenn
ambee copy-words-that-begin-with-text list-of-all-phrase-names list-of-phrase-names-beginning-with-prefix phrase-name-prefix amenn
ambee copy-and-replace list-of-phrase-names-beginning-with-prefix list-of-phrase-names-suffix phrase-name-prefix empty-text amenn
----
interval-seconds-for-seconds-one:
1
----
interval-seconds-for-seconds-two:
2
----
multiple-convert-interval-seconds-to-frames:
ambee put-into-phrase phrase-name-prefix interval seconds amenn
ambee get-phrase-names-that-begin-with-phrase-name-prefix amenn
ambee use-handler-with-each-word-in-phrase handle-one-convert-interval-seconds-to-frames list-of-phrase-names-suffix amenn

    ambee put-into-phrase output-line generated interval seconds phrases amenn
    ambee write-output-line-to-log-file amenn
----
handle-one-convert-interval-seconds-to-frames:
ambee copy-text word-to-use-in-handler phrase-name-suffix amenn
ambee copy-text interval-seconds-for fenambee phrase-name-suffix amenn interval-seconds amenn
ambee convert-interval-seconds-to-frames amenn
ambee copy-text interval-frames interval-frames fenambee phrase-name-suffix amenn amenn
----
convert-interval-seconds-to-frames:
ambee put-into-phrase
    interval-frames
    ambee numeric-integer
        ambee numeric-multiply
            ambee frames-per-second amenn
            ambee interval-seconds amenn
        amenn
    amenn
amenn
----
determine-yes-or-no-is-number-for-possible-number:
ambee copy-characters-from-position-to-position possible-number possible-minus-sign 1 1 amenn

ambee if-yes-begin ambee yes-or-no-same-two-phrase-definitions possible-minus-sign character-hyphen amenn amenn
    ambee copy-characters-from-position-to-position possible-number possible-number-positive 2 9999 amenn
ambee if-else amenn
    ambee copy-text possible-number possible-number-positive amenn
ambee if-end amenn

ambee if-yes-begin ambee yes-or-no-empty-phrase possible-number-positive amenn amenn
    ambee copy-text character-underscore possible-number-positive amenn
ambee if-end amenn

ambee copy-and-replace possible-number-positive is-number-if-only-asterisks character-asterisk character-underscore amenn
ambee copy-and-replace-using-paired-listed-words is-number-if-only-asterisks is-number-if-only-asterisks replacement-pairs-valid-numeric-characters-to-asterisk amenn
ambee copy-and-replace is-number-if-only-asterisks is-number-if-empty character-asterisk character-space amenn

ambee if-yes-begin ambee yes-or-no-empty-phrase is-number-if-empty amenn amenn
    ambee put-into-phrase yes-or-no-is-number yes amenn
ambee if-else amenn
    ambee put-into-phrase yes-or-no-is-number no amenn
ambee if-end amenn
----
replacement-pairs-valid-numeric-characters-to-asterisk:
0 * 1 * 2 * 3 * 4 * 5 * 6 * 7 * 8 * 9 * . *
----
character-nine:
9
----
character-asterisk:
*
----
test-find-nearest-integers-in-list:
ambee put-into-phrase integer-threshold 50 amenn
ambee put-into-phrase list-of-integers -3 7 24 52 61 85 99 100 amenn
ambee find-nearest-integers-in-list amenn

    ambee put-into-phrase output-line largest smallest etc: amenn
    ambee append-text nearest-smaller-integer output-line amenn
    ambee append-text nearest-larger-integer output-line amenn
    ambee write-output-line-to-log-file amenn
----
find-nearest-integers-in-list:
ambee copy-word-at-position list-of-integers nearest-smaller-integer 1 amenn
ambee copy-word-at-position list-of-integers nearest-larger-integer 9999999 amenn
ambee use-handler-with-each-word-in-phrase handle-check-for-nearest-integer-in-list list-of-integers amenn
----
handle-check-for-nearest-integer-in-list:
ambee copy-text word-to-use-in-handler next-integer amenn
ambee put-into-phrase yes-or-no-greater-than-threshold no amenn
ambee put-into-phrase yes-or-no-less-than-threshold no amenn
ambee put-into-phrase yes-or-no-greater-than-nearest-smaller no amenn
ambee put-into-phrase yes-or-no-less-than-nearest-larger no amenn

ambee if-yes-begin ambee yes-or-no-same-two-words greater ambee numeric-equal-greater-less-compare ambee next-integer amenn ambee integer-threshold amenn amenn amenn amenn
    ambee put-into-phrase yes-or-no-greater-than-threshold yes amenn
ambee if-end amenn

ambee if-yes-begin ambee yes-or-no-same-two-words less ambee numeric-equal-greater-less-compare ambee next-integer amenn ambee integer-threshold amenn amenn amenn amenn
    ambee put-into-phrase yes-or-no-less-than-threshold yes amenn
ambee if-end amenn

ambee if-yes-begin ambee yes-or-no-same-two-words greater ambee numeric-equal-greater-less-compare ambee next-integer amenn ambee nearest-smaller-integer amenn amenn amenn amenn
    ambee put-into-phrase yes-or-no-greater-than-nearest-smaller yes amenn
ambee if-end amenn

ambee if-yes-begin ambee yes-or-no-same-two-words less ambee numeric-equal-greater-less-compare ambee next-integer amenn ambee nearest-larger-integer amenn amenn amenn amenn
    ambee put-into-phrase yes-or-no-less-than-nearest-larger yes amenn
ambee if-end amenn

ambee if-yes-begin ambee yes-if-all-yes ambee yes-or-no-less-than-threshold amenn ambee yes-or-no-greater-than-nearest-smaller amenn amenn amenn
    ambee copy-text next-integer nearest-smaller-integer amenn
ambee if-end amenn

ambee if-yes-begin ambee yes-if-all-yes ambee yes-or-no-greater-than-threshold amenn ambee yes-or-no-less-than-nearest-larger amenn amenn amenn
    ambee copy-text next-integer nearest-larger-integer amenn
ambee if-end amenn

combee
    ambee put-into-phrase output-line info: amenn
    ambee append-text next-integer output-line amenn
    ambee append-text nearest-smaller-integer output-line amenn
    ambee append-text nearest-larger-integer output-line amenn
    ambee append-text yes-or-no-greater-than-threshold output-line amenn
    ambee append-text yes-or-no-less-than-threshold output-line amenn
    ambee append-text yes-or-no-greater-than-nearest-smaller output-line amenn
    ambee append-text yes-or-no-less-than-nearest-larger output-line amenn
    ambee write-output-line-to-log-file amenn
comenn
----
round-decimal-value-to-four-digits:
ambee put-into-phrase
    decimal-value
    ambee numeric-divide-by
        ambee numeric-integer
            ambee numeric-multiply
                ambee decimal-value amenn
                1000
            amenn
        amenn
        1000
    amenn
amenn
----

interval-seconds-default-caption-duration:
2
----
interval-seconds-duration-for-caption-default:
2
----
interval-seconds-caption-fade-in:
0.3
----
interval-seconds-caption-fade-out:
0.4
----
avar-id-caption-text:
caption_text
----
avar-id-caption-background:
caption_background
----
list-of-avar-ids-exclude-from-interpolation:
avar-caption-text
----
handle-all-captions:
combee todo: not yet finished comenn

ambee calculate-frame-numbers-for-captions amenn
ambee generate-caption-directives amenn

    ambee put-into-phrase output-line success, handled all captions amenn
    ambee write-output-line-to-log-file amenn
----
calculate-frame-numbers-for-captions:

combee
todo: integrate this older code with new script approach and new transition approach.
ambee copy-words-found-in-both-lists list-of-source-code-words list-of-phrase-names-beginning-with-prefix list-of-phrase-names-beginning-with-prefix amenn
comenn

ambee put-into-phrase phrase-name-prefix text for caption amenn
ambee copy-and-replace phrase-name-prefix phrase-name-prefix character-space character-hyphen amenn
ambee append-text-no-space character-hyphen phrase-name-prefix amenn
ambee generate-list-of-all-dashrep-phrases list-of-all-phrase-names amenn
ambee copy-words-that-begin-with-text list-of-all-phrase-names list-of-phrase-names-beginning-with-prefix phrase-name-prefix amenn

ambee copy-and-replace list-of-phrase-names-beginning-with-prefix list-of-caption-names phrase-name-prefix empty-text amenn

ambee use-handler-with-each-word-in-phrase handle-calculate-frame-numbers-for-one-caption list-of-caption-names amenn
----
handle-calculate-frame-numbers-for-one-caption:
ambee copy-text word-to-use-in-handler caption-name amenn

ambee if-no-begin ambee yes-or-no-empty-phrase interval-frames-duration-for-caption fenambee caption-name amenn amenn amenn
    ambee copy-text interval-frames-duration-for-caption fenambee caption-name amenn frame-count-for-current-caption amenn
ambee if-else amenn
    ambee copy-text interval-frames-duration-for-caption-default frame-count-for-current-caption amenn
ambee if-end amenn

ambee if-yes-begin ambee yes-or-no-empty-phrase interval-frames-at-begin-caption fenambee caption-name amenn amenn amenn
    ambee copy-text interval-frames-at-end-caption fenambee previous-caption-name amenn interval-frames-at-begin-caption fenambee caption-name amenn amenn
    ambee numeric-increment interval-frames-at-begin-caption fenambee caption-name amenn amenn
ambee if-end amenn

ambee put-into-phrase
    interval-frames-at-end-caption fenambee caption-name amenn
    ambee numeric-add
        ambee interval-frames-at-begin-caption fenambee caption-name amenn amenn
        ambee frame-count-for-current-caption amenn
    amenn
amenn
ambee numeric-increment interval-frames-at-end-caption fenambee caption-name amenn amenn
ambee copy-text caption-name previous-caption-name amenn
----
generate-caption-directives:
ambee put-into-phrase frame-number-zero-padded 0000 amenn
ambee put-into-phrase value-at-frame fenambee frame-number-zero-padded amennfen for-avar-caption-opacity 0.0 amenn
ambee clear-phrase value-at-frame fenambee frame-number-zero-padded amennfen for-avar-caption-text amenn
ambee use-handler-with-each-word-in-phrase generate-directives-for-one-caption list-of-caption-names amenn
----
generate-directives-for-one-caption:
ambee copy-text word-to-use-in-handler caption-name amenn

ambee if-yes-begin ambee yes-or-no-empty-phrase interval-frames-at-begin-caption fenambee caption-name amenn amenn amenn
    ambee numeric-increment frame-caption-end amenn
    ambee copy-text frame-caption-end interval-frames-at-begin-caption fenambee caption-name amenn amenn
ambee if-end amenn

ambee copy-text interval-frames-at-begin-caption fenambee caption-name amenn frame-caption-begin amenn
ambee copy-text interval-frames-at-end-caption fenambee caption-name amenn frame-caption-end amenn
ambee copy-zero-pad-left-to-length frame-caption-begin frame-number-zero-padded 7 amenn
ambee copy-text text-for-caption fenambee caption-name amenn value-at-frame fenambee frame-number-zero-padded amennfen for-avar-caption-text amenn
ambee put-into-phrase value-at-frame fenambee frame-number-zero-padded amennfen for-avar-caption-opacity 0.0 amenn
ambee copy-zero-pad-left-to-length frame-caption-end frame-number-zero-padded 7 amenn
ambee put-into-phrase value-at-frame fenambee frame-number-zero-padded amennfen for-avar-caption-opacity 0.0 amenn
ambee put-into-phrase
    frame-caption-end-fade-in
    ambee numeric-add
        ambee frame-caption-begin amenn
        ambee interval-frames-caption-fade-in amenn
    amenn
amenn
ambee copy-zero-pad-left-to-length frame-caption-end-fade-in frame-number-zero-padded 7 amenn
ambee put-into-phrase value-at-frame fenambee frame-number-zero-padded amennfen for-avar-caption-opacity 1.0 amenn
ambee put-into-phrase
    frame-caption-begin-fade-out
    ambee numeric-minus
        ambee frame-caption-end amenn
        ambee interval-frames-caption-fade-in amenn
    amenn
amenn
ambee copy-zero-pad-left-to-length frame-caption-begin-fade-out frame-number-zero-padded 7 amenn
ambee put-into-phrase value-at-frame fenambee frame-number-zero-padded amennfen for-avar-caption-opacity 1.0 amenn

combee
    ambee put-into-phrase output-line fade out: amenn
    ambee append-text frame-number-zero-padded output-line amenn
    ambee write-output-line-to-log-file amenn
comenn
----
request-render-frame:
ambee copy-zero-pad-left-to-length frame-number-to-render frame-number-zero-padded 7 amenn
ambee expand-text template-filename-generated-svg filename-generated-svg amenn
ambee add-png-filename-to-list-of-files-for-png-to-video-converter amenn
ambee expand-text template-command-do-render command-do-render amenn
ambee append-text-no-space command-do-render generated-batch-commands-do-render amenn
----
add-png-filename-to-list-of-files-for-png-to-video-converter:
ambee expand-text template-filename-image-png filename-png-rendered amenn
ambee put-into-phrase file-line-for-video-converter file amenn
ambee append-text path-to-generated-images file-line-for-video-converter amenn
ambee append-text-no-space filename-png-rendered file-line-for-video-converter amenn
ambee append-new-line file-line-for-video-converter amenn
ambee append-text-no-space file-line-for-video-converter list-of-files-for-png-to-video-converter amenn
----
write-one-avar-begin-end-to-avar-summary-file:
ambee copy-text avar-id avar-summary-line amenn
ambee append-text avar-type avar-summary-line amenn
ambee append-text transition-type avar-summary-line amenn
ambee append-text avar-value-begin avar-summary-line amenn
ambee append-text avar-value-end avar-summary-line amenn
ambee append-text avar-frame-begin avar-summary-line amenn
ambee append-text avar-frame-at-value-begin avar-summary-line amenn
ambee append-text avar-frame-at-value-end avar-summary-line amenn
ambee append-text avar-frame-end avar-summary-line amenn
ambee expand-text template-filename-avar-summary filename-avar-summary amenn
ambee copy-text path-to-avar-info-files dashrep-path-prefix-for-file-writing amenn
ambee copy-from-phrase-append-to-file avar-summary-line ambee filename-avar-summary amenn amenn

    ambee put-into-phrase output-line ******* amenn
    ambee append-text avar-summary-line output-line amenn
    ambee write-output-line-to-log-file amenn
----
template-filename-avar-summary:
avar_summary_info.txt no-space
----
write-output-line-to-log-file:
ambee clear-phrase dashrep-path-prefix-for-file-writing amenn
ambee copy-from-phrase-append-to-file output-line ambee output-filename-log-file amenn amenn
----
write-svg-characters-sampled-to-log-file:

combee usage:
    ambee copy-text pointer-to-whatever pointer-to-characters-sampled-begin amenn
    ambee write-svg-characters-sampled-to-log-file amenn
comenn

    ambee numeric-decrement pointer-to-characters-sampled-begin amenn
    ambee put-into-phrase
        pointer-to-characters-sampled-end
        ambee numeric-add
            12
            ambee pointer-to-characters-sampled-begin amenn
        amenn
    amenn
    ambee copy-characters-from-position-to-position loaded-svg-file characters-sampled ambee pointer-to-characters-sampled-begin amenn ambee pointer-to-characters-sampled-end amenn amenn

    ambee put-into-phrase output-line characters sampled: amenn
    ambee append-text characters-sampled output-line amenn
    ambee write-output-line-to-log-file amenn
----
got-here:
    ambee put-into-phrase output-line got here: amenn
    ambee append-text got-here-value output-line amenn
    ambee write-output-line-to-log-file amenn
----
get-all-phrase-names:
ambee generate-list-of-all-dashrep-phrases list-of-all-phrase-names amenn
----
show-all-phrase-names:
ambee get-all-phrase-names amenn
    ambee put-into-phrase output-line all phrases: amenn
    ambee append-text list-of-all-phrase-names output-line amenn
    ambee write-output-line-to-log-file amenn
----
handle-write-avar-info-files-for-avar-transition:

    ambee put-into-phrase output-line avar frame begin and end: amenn
    ambee append-text avar-id output-line amenn
    ambee append-text avar-type output-line amenn
    ambee append-text avar-frame-begin output-line amenn
    ambee append-text avar-frame-end output-line amenn
    ambee write-output-line-to-log-file amenn

combee todo: remove this code when ready to debug move-normal code 
    ambee put-into-phrase transition-type simple-linear amenn
    ambee put-into-phrase output-line using only transition simple linear for now amenn
    ambee write-output-line-to-log-file amenn
comenn

ambee put-into-phrase list-of-valid-dynamic-transition-types simple-linear move-normal amenn
ambee copy-words-found-in-both-lists transition-type list-of-valid-dynamic-transition-types possible-valid-dynamic-transition-type amenn

ambee if-yes-begin ambee yes-or-no-empty-phrase possible-valid-dynamic-transition-type amenn amenn
    ambee get-percent-times-and-percent-values-then-write-avar-values amenn
ambee if-else amenn
    ambee write-avar-values-for-dynamic-transition-type fenambee possible-valid-dynamic-transition-type amenn amenn
ambee if-end amenn
----
calculate-avar-frame-range:
ambee put-into-phrase
    avar-frame-begin
    ambee numeric-minimum
        ambee avar-frame-begin amenn
        ambee avar-frame-end amenn
    amenn
amenn
ambee put-into-phrase
    avar-frame-end
    ambee numeric-minimum
        ambee avar-frame-end amenn
        ambee interval-frames-avar-end-limit amenn
    amenn
amenn
ambee put-into-phrase
    avar-frame-at-value-begin
    ambee numeric-minimum
        ambee avar-frame-at-value-begin amenn
        ambee avar-frame-at-value-end amenn
    amenn
amenn
ambee put-into-phrase
    avar-frame-at-value-end
    ambee numeric-minimum
        ambee avar-frame-at-value-end amenn
        ambee interval-frames-avar-end-limit amenn
    amenn
amenn
ambee put-into-phrase
    avar-frame-range
    ambee numeric-maximum
        1
        ambee numeric-minus
            ambee avar-frame-at-value-end amenn
            ambee avar-frame-at-value-begin amenn
        amenn
    amenn
amenn
----
calculate-avar-value-range:
ambee put-into-phrase
    avar-value-range
    ambee numeric-minus
        ambee avar-value-end amenn
        ambee avar-value-begin amenn
    amenn
amenn
----
write-avar-values-for-dynamic-transition-type-simple-linear:
ambee calculate-avar-frame-range amenn
ambee calculate-avar-value-range amenn
ambee generate-counts-from-integer-to-integer ambee avar-frame-at-value-begin amenn ambee avar-frame-at-value-end amenn list-of-frame-numbers amenn

    ambee put-into-phrase output-line frame numbers, linear: amenn
    ambee append-text list-of-frame-numbers output-line amenn
    ambee write-output-line-to-log-file amenn

ambee use-handler-with-each-word-in-phrase write-one-avar-value-for-transition-type-linear list-of-frame-numbers amenn
----
write-one-avar-value-for-transition-type-linear:
ambee copy-text word-to-use-in-handler avar-frame-current amenn
ambee calculate-one-avar-value-for-linear-transition amenn
ambee write-avar-id-type-value-current-to-avar-info-file amenn
----
calculate-one-avar-value-for-linear-transition:
ambee put-into-phrase
    avar-value-current
    ambee numeric-add
        ambee avar-value-begin amenn
        ambee numeric-multiply
            ambee avar-value-range amenn
            ambee numeric-divide-by
                ambee numeric-minus
                    ambee avar-frame-current amenn
                    ambee avar-frame-at-value-begin amenn
                amenn
                ambee avar-frame-range amenn
            amenn
        amenn
    amenn
amenn
----
animate-hide:
ambee copy-text avar-frame-begin avar-frame-current amenn
ambee put-into-phrase avar-value-current 0 amenn
ambee write-avar-id-type-value-current-to-avar-info-file amenn
----
animate-unhide:
ambee copy-text avar-frame-begin avar-frame-current amenn
ambee put-into-phrase avar-value-current 1 amenn
ambee write-avar-id-type-value-current-to-avar-info-file amenn
----
animate-fade-in:
ambee put-into-phrase avar-value-begin 0 amenn
ambee put-into-phrase avar-value-end 1 amenn
ambee animate-fade-in-or-out amenn
----
animate-fade-out:
ambee put-into-phrase avar-value-begin 1 amenn
ambee put-into-phrase avar-value-end 0 amenn
ambee animate-fade-in-or-out amenn
----
animate-fade-in-or-out:
ambee copy-text avar-frame-begin avar-frame-at-value-begin amenn
ambee copy-text avar-frame-end avar-frame-at-value-end amenn

ambee if-yes-begin ambee yes-or-no-same-two-phrase-definitions avar-frame-begin avar-frame-end amenn amenn
    ambee copy-text avar-value-end avar-value-begin amenn
ambee if-end amenn

ambee if-yes-begin ambee yes-or-no-frame-overlap-at-begin amenn amenn
    ambee numeric-increment avar-frame-begin amenn
ambee if-end amenn

ambee put-into-phrase transition-type simple-linear amenn
ambee handle-write-avar-info-files-for-avar-transition amenn
----
animate-move-x-y:

combee until move-normal is debugged ... comenn
ambee put-into-phrase item-transition-type simple-linear amenn

ambee copy-text avar-frame-begin saved-avar-frame-begin amenn
ambee copy-text avar-frame-end saved-avar-frame-end amenn
ambee copy-text avar-frame-begin avar-frame-at-value-begin amenn
ambee copy-text avar-frame-end avar-frame-at-value-end amenn

ambee if-yes-begin ambee yes-or-no-frame-overlap-at-begin amenn amenn
    ambee numeric-increment avar-frame-begin amenn
ambee if-end amenn

ambee copy-text item-transition-type transition-type amenn
ambee copy-text avar-x-position-begin avar-value-begin amenn
ambee copy-text avar-x-position-end avar-value-end amenn
ambee copy-text avar-type-x avar-type amenn
ambee handle-write-avar-info-files-for-avar-transition amenn
ambee copy-text  avar-value-end saved-x-position-of-avar-id fenambee avar-id amenn amenn
ambee copy-text avar-type-y avar-type amenn
ambee copy-text saved-avar-frame-begin avar-frame-begin amenn
ambee copy-text saved-avar-frame-end avar-frame-end amenn
ambee copy-text avar-frame-begin avar-frame-at-value-begin amenn
ambee copy-text avar-frame-end avar-frame-at-value-end amenn

ambee if-yes-begin ambee yes-or-no-frame-overlap-at-begin amenn amenn
    ambee numeric-increment avar-frame-begin amenn
ambee if-end amenn

ambee copy-text item-transition-type transition-type amenn
ambee copy-text avar-y-position-begin avar-value-begin amenn
ambee copy-text avar-y-position-end avar-value-end amenn
ambee copy-text avar-type-y avar-type amenn
ambee handle-write-avar-info-files-for-avar-transition amenn
ambee copy-text  avar-value-end saved-y-position-of-avar-id fenambee avar-id amenn amenn
----
animate-rotate-scale-move:
ambee copy-text avar-frame-begin avar-frame-at-value-begin amenn
ambee copy-text avar-frame-end avar-frame-at-value-end amenn
ambee put-into-phrase avar-type simple-linear amenn
ambee calculate-avar-frame-range amenn

ambee if-yes-begin ambee yes-or-no-frame-overlap-at-begin amenn amenn
    ambee numeric-increment avar-frame-begin amenn
ambee if-end amenn

ambee if-yes-begin ambee yes-or-no-same-two-phrase-definitions avar-frame-begin avar-frame-end amenn amenn
    ambee copy-text avar-value-end avar-value-begin amenn
ambee if-end amenn

ambee generate-counts-from-integer-to-integer ambee avar-frame-begin amenn ambee avar-frame-end amenn list-of-frame-numbers amenn
ambee use-handler-with-each-word-in-phrase write-one-avar-value-for-matrix-transform list-of-frame-numbers amenn
----
write-one-avar-value-for-matrix-transform:
ambee copy-text word-to-use-in-handler avar-frame-current amenn
ambee copy-text avar-frame-current frame-number-for-avar-info-file amenn
ambee copy-text avar-scale-size-begin avar-value-begin amenn
ambee copy-text avar-scale-size-end avar-value-end amenn
ambee calculate-avar-value-range amenn
ambee calculate-one-avar-value-for-linear-transition amenn
ambee copy-text avar-value-current avar-scale-size-current amenn
ambee copy-text avar-rotation-angle-degrees-begin avar-value-begin amenn
ambee copy-text avar-rotation-angle-degrees-end avar-value-end amenn
ambee calculate-avar-value-range amenn
ambee calculate-one-avar-value-for-linear-transition amenn
ambee copy-text avar-value-current avar-rotation-angle-degrees-current amenn
ambee copy-text avar-x-position-begin avar-value-begin amenn
ambee copy-text avar-x-position-end avar-value-end amenn
ambee calculate-avar-value-range amenn
ambee calculate-one-avar-value-for-linear-transition amenn
ambee copy-text avar-value-current avar-x-position-current amenn
ambee copy-text avar-y-position-begin avar-value-begin amenn
ambee copy-text avar-y-position-end avar-value-end amenn
ambee calculate-avar-value-range amenn
ambee calculate-one-avar-value-for-linear-transition amenn
ambee copy-text avar-value-current avar-y-position-current amenn
ambee convert-rotation-size-move-into-transform-coefficients amenn
ambee copy-text transform-coefficient-a avar-value-current amenn
ambee put-into-phrase avar-type transform-matrix-value-a amenn
ambee write-avar-id-type-value-current-to-avar-info-file amenn
ambee copy-text transform-coefficient-b avar-value-current amenn
ambee put-into-phrase avar-type transform-matrix-value-b amenn
ambee write-avar-id-type-value-current-to-avar-info-file amenn
ambee copy-text transform-coefficient-c avar-value-current amenn
ambee put-into-phrase avar-type transform-matrix-value-c amenn
ambee write-avar-id-type-value-current-to-avar-info-file amenn
ambee copy-text transform-coefficient-d avar-value-current amenn
ambee put-into-phrase avar-type transform-matrix-value-d amenn
ambee write-avar-id-type-value-current-to-avar-info-file amenn
ambee copy-text transform-coefficient-e avar-value-current amenn
ambee put-into-phrase avar-type transform-matrix-value-e amenn
ambee write-avar-id-type-value-current-to-avar-info-file amenn
ambee copy-text transform-coefficient-f avar-value-current amenn
ambee put-into-phrase avar-type transform-matrix-value-f amenn
ambee write-avar-id-type-value-current-to-avar-info-file amenn
----
convert-rotation-size-move-into-transform-coefficients:
ambee copy-text avar-rotation-angle-degrees-current angle-degrees amenn
ambee convert-degrees-into-radians amenn
ambee put-into-phrase transform-coefficient-a ambee numeric-multiply ambee avar-scale-size-current amenn ambee numeric-cosine ambee angle-radians amenn amenn amenn amenn
ambee put-into-phrase transform-coefficient-b ambee numeric-multiply ambee avar-scale-size-current amenn ambee numeric-sine ambee angle-radians amenn amenn amenn amenn
ambee put-into-phrase transform-coefficient-c ambee numeric-minus 0 ambee numeric-multiply ambee avar-scale-size-current amenn ambee numeric-sine ambee angle-radians amenn amenn amenn amenn amenn
ambee put-into-phrase transform-coefficient-d ambee numeric-multiply ambee avar-scale-size-current amenn ambee numeric-cosine ambee angle-radians amenn amenn amenn amenn
ambee copy-text avar-x-position-current transform-coefficient-e amenn
ambee copy-text avar-y-position-current transform-coefficient-f amenn

combee
x = Ax + Cy + E
y = Bx + Dy + F
A = D = sin(theta)
B = -C = cos(theta)
transform="matrix(1.0,0.0,0.0,1.0,0.2,0.2)"
transform="matrix(0.22274221,-0.04554339,0.11351611,0.0893656,299.46521,747.88773)"
comenn

combee
    ambee put-into-phrase output-line transform: amenn
    ambee append-text angle-radians output-line amenn
    ambee append-text transform-coefficient-a output-line amenn
    ambee append-text transform-coefficient-b output-line amenn
    ambee append-text transform-coefficient-c output-line amenn
    ambee append-text transform-coefficient-d output-line amenn
    ambee append-text transform-coefficient-e output-line amenn
    ambee append-text transform-coefficient-f output-line amenn
    ambee write-output-line-to-log-file amenn
comenn
----
convert-degrees-into-radians:
ambee put-into-phrase angle-radians ambee numeric-multiply ambee angle-degrees amenn ambee numeric-divide-by ambee numeric-pi amenn 180 amenn amenn amenn

    ambee put-into-phrase output-line angle: amenn
    ambee append-text angle-degrees output-line amenn
    ambee append-text angle-radians output-line amenn
    ambee write-output-line-to-log-file amenn
----
numeric-pi:
3.14159
----
convert-x-percent-to-x-pixels:
ambee put-into-phrase
    x-pixels 
    ambee numeric-integer
        ambee numeric-divide-by
            ambee numeric-multiply
                ambee x-percent amenn
                ambee inkscape-width-pixels amenn
            amenn
            100
        amenn
    amenn
amenn
----
convert-y-percent-to-y-pixels:
ambee put-into-phrase
    y-pixels 
    ambee numeric-integer
        ambee numeric-divide-by
            ambee numeric-multiply
                ambee y-percent amenn
                ambee inkscape-height-pixels amenn
            amenn
            100
        amenn
    amenn
amenn
----
batch-convert-named-x-y-percent-to-x-y-pixels:
ambee use-handler-with-each-word-in-phrase convert-one-named-x-percent-to-x-pixels list-of-names-convert-x-percent-to-x-pixels amenn
ambee use-handler-with-each-word-in-phrase convert-one-named-y-percent-to-y-pixels list-of-names-convert-y-percent-to-y-pixels amenn
----
word-percent:
percent
----
word-pixels:
pixels
----
convert-one-named-x-percent-to-x-pixels:
ambee copy-text word-to-use-in-handler named-x-percent amenn
ambee copy-text ambee get-phrase-name-from-phrase named-x-percent amenn x-percent amenn
ambee convert-x-percent-to-x-pixels amenn
ambee copy-and-replace named-x-percent named-x-pixels word-percent word-pixels amenn
ambee copy-text x-pixels ambee get-phrase-name-from-phrase named-x-pixels amenn amenn
----
convert-one-named-y-percent-to-y-pixels:
ambee copy-text word-to-use-in-handler named-y-percent amenn
ambee copy-text ambee get-phrase-name-from-phrase named-y-percent amenn y-percent amenn
ambee convert-y-percent-to-y-pixels amenn
ambee copy-and-replace named-y-percent named-y-pixels word-percent word-pixels amenn
ambee copy-text y-pixels ambee get-phrase-name-from-phrase named-y-pixels amenn amenn
----
adjust-x-y-position-by-step-interval-and-step-count:
    ambee put-into-phrase output-line un-adjusted item positions: amenn
    ambee append-text avar-x-position output-line amenn
    ambee append-text avar-y-position output-line amenn
    ambee write-output-line-to-log-file amenn

ambee put-into-phrase
    avar-x-position
    ambee numeric-add
        ambee avar-x-position amenn
        ambee numeric-multiply
            ambee item-x-step-interval amenn
            ambee avar-x-step-count amenn
        amenn
    amenn
amenn
ambee put-into-phrase
    avar-y-position
    ambee numeric-add
        ambee avar-y-position amenn
        ambee numeric-multiply
            ambee item-y-step-interval amenn
            ambee avar-y-step-count amenn
        amenn
    amenn
amenn

    ambee put-into-phrase output-line adjusted item positions: amenn
    ambee append-text avar-x-position output-line amenn
    ambee append-text avar-y-position output-line amenn
    ambee write-output-line-to-log-file amenn
----
update-avar-frame-end-using-elapsed-frames:
ambee put-into-phrase
    avar-frame-end
    ambee numeric-add
        ambee avar-frame-begin amenn
        ambee elapsed-frames amenn
    amenn
amenn

combee
ambee put-into-phrase
    last-frame-number
    ambee numeric-maximum
        ambee avar-frame-end amenn
        ambee last-frame-number amenn
    amenn
amenn
comenn

----


item-x-position-ballot-ovals-left-column:
-2
----
item-x-position-ballot-ovals-right-column:
382
----
item-y-position-ballot-ovals-top-row:
20
----
item-y-position-ballot-ovals-bottom-row:
316
----
item-arrow-double-x-position-candidate-top:
166
----
item-arrow-double-y-position-candidate-top:
-502
----
item-arrow-double-x-position-candidate-bottom:
176
----
item-arrow-double-y-position-candidate-bottom:
264
----
item-spotlight-green-avar-id:
xyz
----
item-spotlight-red-avar-id:
xyz
----
item-candidate-1-avar-id:
candidate_1
----
item-candidate-2-avar-id:
candidate_2
----
item-candidate-3-avar-id:
candidate_3
----
item-candidate-4-avar-id:
candidate_4
----
item-candidate-big-size-scale:
1.0
----
item-candidate-small-size-scale:
0.4
----
item-candidate-small-size-x-position-percent:
90
----
item-candidate-small-size-y-top-percent:
22
----
item-candidate-small-size-y-distance-percent:
23.5
----
item-candidate-1-big-size-x-position-percent:
30
----
item-candidate-2-big-size-x-position-percent:
56
----
item-candidate-3-big-size-x-position-percent:
43
----
item-candidate-4-big-size-x-position-percent:
69
----
item-candidate-1-big-size-y-position-percent:
50
----
item-candidate-2-big-size-y-position-percent:
50
----
item-candidate-3-big-size-y-position-percent:
90
----
item-candidate-4-big-size-y-position-percent:
90
----
list-of-names-convert-x-percent-to-x-pixels:
item-candidate-small-size-x-position-percent
item-candidate-1-big-size-x-position-percent
item-candidate-2-big-size-x-position-percent
item-candidate-3-big-size-x-position-percent
item-candidate-4-big-size-x-position-percent
----
list-of-names-convert-y-percent-to-y-pixels:
item-candidate-small-size-y-top-percent
item-candidate-small-size-y-distance-percent
item-candidate-1-big-size-y-position-percent
item-candidate-2-big-size-y-position-percent
item-candidate-3-big-size-y-position-percent
item-candidate-4-big-size-y-position-percent
----
item-ballot-id:
ballot_full
----
avar-id-pen-in-hand:
pen_in_hand
----
avar-id-spotlight-white:
spotlight_1
----
avar-id-arrow-pairwise-win-loss:
arrow_cand_2_over_3
----
custom-specify-animation-items-and-movements:
ambee calculate-x-and-y-step-interval-for-ballot-oval-spacing amenn
ambee calculate-x-and-y-step-interval-for-candidate-spacing amenn

combee
ambee put-into-phrase frame-number-introduce-candidates 1 amenn
ambee animate-move-candidates-from-big-to-small amenn
ambee put-into-phrase frame-number-handle-one-ballot-begin 1 amenn
ambee use-handler-with-each-word-in-phrase specify-animation-items-and-movements-for-one-ballot list-of-ballot-patterns amenn

ambee put-into-phrase avar-frame-begin 1 amenn
ambee put-into-phrase avar-frame-end 8 amenn
ambee animate-ballot-rotate amenn

ambee animate-arrow-pairwise-win-loss amenn
comenn

ambee animate-pen-in-hand amenn
ambee animate-spotlight-white amenn
----
calculate-x-and-y-step-interval-for-ballot-oval-spacing:
ambee put-into-phrase
    item-x-step-interval-for-ballot-oval-spacing
    ambee numeric-divide-by
        ambee numeric-minus
            ambee item-x-position-ballot-ovals-right-column amenn
            ambee item-x-position-ballot-ovals-left-column amenn
        amenn
        3
    amenn
amenn
ambee put-into-phrase
    item-y-step-interval-for-ballot-oval-spacing
    ambee numeric-divide-by
        ambee numeric-minus
            ambee item-y-position-ballot-ovals-bottom-row amenn
            ambee item-y-position-ballot-ovals-top-row amenn
        amenn
        3
    amenn
amenn

combee
ambee put-into-phrase output-line intervals for ballot oval spacing: amenn
ambee append-text item-x-step-interval-for-ballot-oval-spacing output-line amenn
ambee append-text item-y-step-interval-for-ballot-oval-spacing output-line amenn
ambee write-output-line-to-log-file amenn
comenn
----
calculate-x-and-y-step-interval-for-candidate-spacing:
ambee put-into-phrase
    item-x-step-interval-for-candidate-spacing
    ambee numeric-divide-by
        ambee numeric-minus
            ambee item-arrow-double-x-position-candidate-top amenn
            ambee item-arrow-double-x-position-candidate-bottom amenn
        amenn
        3
    amenn
amenn
ambee put-into-phrase
    item-y-step-interval-for-candidate-spacing
    ambee numeric-divide-by
        ambee numeric-minus
            ambee item-arrow-double-y-position-candidate-top amenn
            ambee item-arrow-double-y-position-candidate-bottom amenn
        amenn
        3
    amenn
amenn
----
yes-or-no-frame-overlap-at-begin:
no
----
list-of-ballot-patterns:
2143
combee
2341
comenn
----
list-of-candidate-rank-sequence-for-ballot-pattern-2143:
2 1 4 3
----
ranking-levels-of-candidates-for-ballot-pattern-2143:
2 1 4 3
----
list-of-candidate-rank-sequence-for-ballot-pattern-2341:
2 3 4 1
----
ranking-levels-of-candidates-for-ballot-pattern-2341:
4 1 2 3
----
interval-frames-for-move-candidates-from-big-to-small:
7
----
animate-move-candidates-from-big-to-small:
ambee copy-text frame-number-introduce-candidates avar-frame-begin amenn
ambee put-into-phrase yes-or-no-frame-overlap-at-begin no amenn
ambee copy-text interval-frames-for-move-candidates-from-big-to-small elapsed-frames amenn
ambee update-avar-frame-end-using-elapsed-frames amenn
ambee copy-text avar-frame-begin avar-frame-at-value-begin amenn
ambee copy-text avar-frame-end avar-frame-at-value-end amenn
ambee calculate-avar-frame-range amenn
ambee put-into-phrase transition-type simple-linear amenn
ambee put-into-phrase
    item-candidate-big-size-scale-half
    ambee numeric-divide-by
        ambee item-candidate-big-size-scale amenn
        2
    amenn
amenn
ambee put-into-phrase
    item-candidate-small-size-scale-half
    ambee numeric-divide-by
        ambee item-candidate-small-size-scale amenn
        2
    amenn
amenn
ambee put-into-phrase list-of-candidate-numbers 1 2 3 4 amenn
ambee use-handler-with-each-word-in-phrase animate-move-one-candidate list-of-candidate-numbers amenn
----
animate-move-one-candidate:
ambee copy-text word-to-use-in-handler candidate-number amenn
ambee copy-text item-candidate fenambee candidate-number amennfen avar-id avar-id amenn

ambee copy-text item-candidate-big-size-scale avar-value-begin amenn
ambee copy-text item-candidate-small-size-scale avar-value-end amenn
ambee put-into-phrase avar-type transform-matrix-value-a amenn
ambee handle-write-avar-info-files-for-avar-transition amenn

ambee put-into-phrase avar-value-begin 0 amenn
ambee put-into-phrase avar-value-end 0 amenn
ambee put-into-phrase avar-type transform-matrix-value-b amenn
ambee handle-write-avar-info-files-for-avar-transition amenn

ambee put-into-phrase avar-value-begin 0 amenn
ambee put-into-phrase avar-value-end 0 amenn
ambee put-into-phrase avar-type transform-matrix-value-c amenn
ambee handle-write-avar-info-files-for-avar-transition amenn

ambee copy-text item-candidate-big-size-scale avar-value-begin amenn
ambee copy-text item-candidate-small-size-scale avar-value-end amenn
ambee put-into-phrase avar-type transform-matrix-value-d amenn
ambee handle-write-avar-info-files-for-avar-transition amenn

ambee put-into-phrase image-candidate-underscore-number image_candidate_ amenn
ambee append-text-no-space candidate-number image-candidate-underscore-number amenn
ambee copy-text first-captured-value-avar-id fenambee image-candidate-underscore-number amennfen type-position-x candidate fenambee candidate-number amennfen position-x amenn
ambee copy-text first-captured-value-avar-id fenambee image-candidate-underscore-number amennfen type-position-y candidate fenambee candidate-number amennfen position-y amenn
ambee copy-text first-captured-value-avar-id fenambee image-candidate-underscore-number amennfen type-width candidate fenambee candidate-number amennfen width amenn
ambee copy-text first-captured-value-avar-id fenambee image-candidate-underscore-number amennfen type-height candidate fenambee candidate-number amennfen height amenn
ambee put-into-phrase
    avar-value-begin
    ambee numeric-minus
        ambee item-candidate fenambee candidate-number amennfen big-size-x-position-pixels amenn
        ambee numeric-multiply
            ambee item-candidate-big-size-scale amenn
            ambee numeric-add
                ambee candidate fenambee candidate-number amennfen position-x amenn
                ambee numeric-divide-by
                    ambee candidate fenambee candidate-number amennfen width amenn
                    2
                amenn
            amenn
        amenn
    amenn
amenn
ambee put-into-phrase
    avar-value-end
    ambee numeric-minus
        ambee item-candidate-small-size-x-position-pixels amenn
        ambee numeric-multiply
            ambee item-candidate-small-size-scale amenn
            ambee numeric-add
                ambee candidate fenambee candidate-number amennfen position-x amenn
                ambee numeric-divide-by
                    ambee candidate fenambee candidate-number amennfen width amenn
                    2
                amenn
            amenn
        amenn
    amenn
amenn
ambee put-into-phrase avar-type transform-matrix-value-e amenn
ambee handle-write-avar-info-files-for-avar-transition amenn
ambee put-into-phrase
    avar-value-begin
    ambee numeric-minus
        ambee item-candidate fenambee candidate-number amennfen big-size-y-position-pixels amenn
        ambee numeric-multiply
            ambee item-candidate-big-size-scale amenn
            ambee numeric-add
                ambee candidate fenambee candidate-number amennfen position-y amenn
                ambee candidate fenambee candidate-number amennfen height amenn
            amenn
        amenn
    amenn
amenn
ambee put-into-phrase
    avar-value-end
    ambee numeric-add
        ambee numeric-minus
            ambee item-candidate-small-size-y-top-pixels amenn
            ambee numeric-multiply
                ambee item-candidate-small-size-scale amenn
                ambee numeric-add
                    ambee candidate fenambee candidate-number amennfen position-y amenn
                    ambee candidate fenambee candidate-number amennfen height amenn
                amenn
            amenn
        amenn
        ambee numeric-multiply
            ambee item-candidate-small-size-y-distance-pixels amenn
            ambee numeric-minus
                ambee candidate-number amenn
                1
            amenn
        amenn
    amenn
amenn
ambee put-into-phrase avar-type transform-matrix-value-f amenn
ambee handle-write-avar-info-files-for-avar-transition amenn
----
specify-animation-items-and-movements-for-one-ballot:
ambee copy-text word-to-use-in-handler ballot-pattern amenn
ambee use-handler-with-each-word-in-phrase specify-animation-for-one-block list-of-candidate-rank-sequence-for-ballot-pattern fenambee ballot-pattern amenn amenn
----
list-of-block-avar-ids-in-candidate-number-sequence:
block_cand_1
block_cand_2
block_cand_3
block_cand_4
----
x-percent-item-block-array-left:
80
----
y-percent-item-block-array-top:
10
----
specify-animation-for-one-block:
ambee copy-text word-to-use-in-handler candidate-number-for-block-move amenn
ambee copy-word-at-position ranking-levels-of-candidates-for-ballot-pattern fenambee ballot-pattern amenn ranking-level ambee candidate-number-for-block-move amenn amenn
ambee copy-text candidate-number-for-block-move oval-x-step-count amenn
ambee numeric-decrement oval-x-step-count amenn
ambee copy-text ranking-level oval-y-step-count amenn
ambee numeric-decrement oval-y-step-count amenn
ambee copy-word-at-position list-of-block-avar-ids-in-candidate-number-sequence item-block-avar-id ambee candidate-number-for-block-move amenn amenn
ambee copy-text item-block-avar-id avar-id amenn

ambee copy-text frame-number-handle-one-ballot-begin avar-frame-begin amenn
ambee put-into-phrase avar-type opacity-fill-semicolon amenn
combee
ambee animate-hide amenn
comenn

ambee put-into-phrase avar-rotation-angle-degrees-begin 0 amenn
ambee put-into-phrase avar-rotation-angle-degrees-end 0 amenn
ambee put-into-phrase avar-scale-size-begin 1.0 amenn
ambee put-into-phrase avar-scale-size-end 1.0 amenn
ambee put-into-phrase yes-or-no-frame-overlap-at-begin no amenn

combee todo: debug code here comenn

ambee copy-text item-x-position-ballot-ovals-left-column avar-x-position amenn
ambee copy-text item-y-position-ballot-ovals-top-row avar-y-position amenn
ambee copy-text oval-x-step-count avar-x-step-count amenn
ambee copy-text oval-y-step-count avar-y-step-count amenn
ambee copy-text item-x-step-interval-for-ballot-oval-spacing item-x-step-interval amenn
ambee copy-text item-y-step-interval-for-ballot-oval-spacing item-y-step-interval amenn
ambee adjust-x-y-position-by-step-interval-and-step-count amenn
ambee copy-text avar-x-position avar-x-position-begin amenn
ambee copy-text avar-y-position avar-y-position-begin amenn
ambee copy-text x-percent-item-block-array-left x-percent amenn
ambee convert-x-percent-to-x-pixels amenn
ambee copy-text x-pixels avar-x-position-end amenn
ambee copy-text y-percent-item-block-array-left y-percent amenn
ambee convert-x-percent-to-x-pixels amenn
ambee copy-text y-pixels avar-y-position-end amenn

combee todo: space blocks in array comenn

ambee copy-text avar-x-position-begin avar-x-position-begin-saved-block-candidate amenn
ambee copy-text avar-y-position-begin avar-y-position-begin-saved-block-candidate amenn

    ambee put-into-phrase output-line block info: amenn
    ambee append-text avar-x-position-begin output-line amenn
    ambee append-text avar-x-position-end output-line amenn
    ambee append-text avar-y-position-begin output-line amenn
    ambee append-text avar-y-position-end output-line amenn
    ambee write-output-line-to-log-file amenn

ambee animate-rotate-scale-move amenn

ambee put-into-phrase yes-or-no-frame-overlap-at-begin yes amenn

combee todo: finish writing code comenn

----
animate-ballot-rotate:
ambee copy-text item-ballot-id avar-id amenn
ambee put-into-phrase avar-rotation-angle-degrees-begin 0 amenn
ambee put-into-phrase avar-rotation-angle-degrees-end 90 amenn
ambee copy-text first-captured-value-avar-id-ballot_full-type-transform-matrix-value-a avar-scale-size-begin amenn
ambee copy-text avar-scale-size-begin avar-scale-size-end amenn
ambee copy-text first-captured-value-avar-id-ballot_full-type-transform-matrix-value-e avar-x-position-begin amenn
ambee copy-text avar-x-position-begin avar-x-position-end amenn
ambee copy-text first-captured-value-avar-id-ballot_full-type-transform-matrix-value-f avar-y-position-begin amenn
ambee copy-text avar-y-position-begin avar-y-position-end amenn

ambee animate-rotate-scale-move amenn
----
animate-pen-in-hand:
ambee copy-text avar-id-pen-in-hand avar-id amenn

combee todo, bug, undefined: frame-number-handle-one-ballot-begin comenn

ambee put-into-phrase avar-frame-begin 1 amenn
ambee put-into-phrase candidate-number-for-pen 2 amenn
ambee copy-text first-captured-value-avar-id-pen_in_hand-type-position-x avar-x-position-begin amenn
ambee copy-text first-captured-value-avar-id-pen_in_hand-type-position-y avar-y-position-begin amenn
ambee animate-pen-in-hand-to-oval amenn

----
continuation-of-pen-code:

ambee copy-text avar-frame-end avar-frame-begin amenn
ambee copy-text interval-frames-for-move-candidates-from-big-to-small elapsed-frames amenn
ambee update-avar-frame-end-using-elapsed-frames amenn

ambee put-into-phrase yes-or-no-frame-overlap-at-begin yes amenn
ambee put-into-phrase candidate-number-for-pen 4 amenn
ambee copy-text saved-x-position-for-pen-in-hand avar-x-position-begin amenn
ambee copy-text saved-y-position-for-pen-in-hand avar-y-position-begin amenn
ambee animate-pen-in-hand-to-oval amenn
----
interval-seconds-for-pen-to-oval:
0.1
----
animate-pen-in-hand-to-oval:
combee
x="512"
y="278.32437"
comenn

ambee put-into-phrase candidate-number-for-pen 3 amenn
ambee copy-word-at-position ranking-levels-of-candidates-for-ballot-pattern fenambee ballot-pattern amenn ranking-level ambee candidate-number-for-pen amenn amenn
ambee copy-text candidate-number-for-pen oval-x-step-count amenn
ambee numeric-decrement oval-x-step-count amenn
ambee copy-text ranking-level oval-y-step-count amenn
ambee numeric-decrement oval-y-step-count amenn
ambee put-into-phrase
    avar-frame-end
    ambee numeric-add
        ambee avar-frame-begin amenn
        ambee interval-frames-for-pen-to-oval amenn
    amenn
amenn
ambee calculate-avar-frame-range amenn

    ambee put-into-phrase output-line step intervals: amenn
    ambee append-text oval-x-step-count output-line amenn
    ambee append-text oval-y-step-count output-line amenn
    ambee append-text item-x-step-interval-for-ballot-oval-spacing output-line amenn
    ambee append-text item-y-step-interval-for-ballot-oval-spacing output-line amenn
    ambee write-output-line-to-log-file amenn

ambee put-into-phrase
    avar-x-position-end
    ambee numeric-add
        ambee avar-x-position-begin amenn
        ambee numeric-multiply
            ambee item-x-step-interval-for-ballot-oval-spacing amenn
            ambee oval-x-step-count amenn
        amenn
    amenn
amenn
ambee put-into-phrase
    avar-y-position-end
    ambee numeric-add
        ambee avar-y-position-begin amenn
        ambee numeric-multiply
            ambee item-y-step-interval-for-ballot-oval-spacing amenn
            ambee oval-y-step-count amenn
        amenn
    amenn
amenn
ambee put-into-phrase avar-type-x position-x amenn
ambee put-into-phrase avar-type-y position-y amenn
ambee animate-move-x-y amenn
----
animate-spotlight-white:
combee
style="opacity:0.752;fill:url(#radialGradient994);fill-opacity:1;stroke-width:3;stroke-linecap:round;stroke-linejoin:round"
cx="515.14557"
cy="592.59546"
rx="102"
ry="54"
comenn

ambee put-into-phrase avar-frame-begin 1 amenn

ambee copy-text avar-id-spotlight-white avar-id amenn
ambee put-into-phrase
    avar-frame-end
    ambee numeric-add
        ambee avar-frame-begin amenn
        ambee interval-frames-for-pen-to-oval amenn
    amenn
amenn
ambee calculate-avar-frame-range amenn
ambee copy-text first-captured-value-avar-id-spotlight_1-type-center-x avar-x-position-begin amenn
ambee put-into-phrase
    avar-x-position-end
    ambee numeric-add
        ambee avar-x-position-begin amenn
        100
    amenn
amenn
ambee copy-text first-captured-value-avar-id-spotlight_1-type-center-y avar-y-position-begin amenn
ambee put-into-phrase
    avar-y-position-end
    ambee numeric-add
        ambee avar-y-position-begin amenn
        100
    amenn
amenn
ambee put-into-phrase avar-type-x center-x amenn
ambee put-into-phrase avar-type-y center-y amenn
ambee animate-move-x-y amenn
----
animate-arrow-pairwise-win-loss:
combee
transform="matrix(1.01,0,0,1.01,311.74,276.4)">
comenn
ambee copy-text avar-id-arrow-pairwise-win-loss avar-id amenn
ambee copy-text frame-number-handle-one-ballot-begin avar-frame-begin amenn
ambee put-into-phrase
    avar-frame-end
    ambee numeric-add
        ambee avar-frame-begin amenn
        6
    amenn
amenn
ambee calculate-avar-frame-range amenn
ambee put-into-phrase avar-rotation-angle-degrees-begin 0 amenn
ambee put-into-phrase avar-rotation-angle-degrees-end 0 amenn
ambee copy-text first-captured-value-avar-id-arrow_cand_2_over_3-type-transform-matrix-value-a avar-scale-size-begin amenn
ambee copy-text avar-scale-size-begin avar-scale-size-end amenn
ambee copy-text first-captured-value-avar-id-arrow_cand_2_over_3-type-transform-matrix-value-e avar-x-position-begin amenn
ambee put-into-phrase
    avar-x-position-end
    ambee numeric-add
        ambee avar-x-position-begin amenn
        -100
    amenn
amenn
ambee copy-text first-captured-value-avar-id-arrow_cand_2_over_3-type-transform-matrix-value-f avar-y-position-begin amenn
ambee put-into-phrase
    avar-y-position-end
    ambee numeric-add
        ambee avar-y-position-begin amenn
        -100
    amenn
amenn
ambee animate-rotate-scale-move amenn
----
