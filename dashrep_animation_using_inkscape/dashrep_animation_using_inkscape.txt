source-code-copyright-notice:
Copyright 2021 by Richard Fobes at www.VoteFair.org ALL RIGHTS RESERVED
----
path-to-current-folder:
C:\whatever\AnimationVideoGeneration\
----
reminder-notes:

code not yet finished:
convert-rotation-size-move-into-transform-coefficients
handle-all-captions

This code must be executed using a version of the Dashrep compiler that supplies a loop counter limit that is much higher than the default.
----
start-here:
ambee copy-text new-loop-counter-limit dashrep-endless-loop-counter-limit amenn
ambee initialize-constants amenn
ambee initialize-file-info amenn
ambee read-and-process-script amenn
ambee if-needed-convert-interval-seconds-into-frames amenn
ambee handle-all-keyframes amenn

combee
ambee generate-svg-files-and-render amenn
comenn

combee
ambee show-all-phrase-names amenn
comenn

ambee write-generated-files amenn
----
initialize-constants:
ambee put-into-phrase text-double-underscore  __  amenn
ambee put-into-phrase
    distance-pixels-begin-plus-end-constant-speed
    ambee numeric-add
        ambee distance-pixels-at-begin-constant-speed amenn
        ambee distance-pixels-at-end-constant-speed amenn
    amenn
amenn
----
substrings-indicating-transition-type:
radialGradient
use
path
----
transition-type-for-id-substring-radialGradient:
simple-linear
----
transition-type-for-id-substring-use:
move-normal
----
transition-type-for-id-substring-path:
move-normal
----
list-of-valid-transition-types:
move-start
move-stop
move-short
simple-linear
move-normal
----
list-of-transition-types-that-handle-x-and-y-together:
move-normal
----
transition-type-move-normal:
move-normal
----
interval-seconds-per-pixel-distance-at-constant-speed:
100
----
interval-seconds-maximum-duration-at-constant-speed:
2
----
distance-pixels-at-begin-constant-speed:
50
----
distance-pixels-at-end-constant-speed:
40
----
interval-seconds-for-move-start:
0.7
----
interval-seconds-for-move-stop:
0.8
----
percent-times-for-transition-type-move-start:
0 20 40 60 70 80 90 95 100
----
percent-values-for-transition-type-move-start:
0 -5 -2 8 18 32 52 69 100
combee determined using plot in spreadsheet comenn
----
percent-times-for-transition-type-move-stop:
0 20 40 60 70 80 90 95 100
----
percent-values-for-transition-type-move-stop:
0 31 48 68 82 92 102 105 100
combee calculated as 100 minus numbers in move-start transition comenn
----
percent-times-for-transition-type-move-short:
0 10 20 30 35 40 45 47 50 60 70 80 85 90 95 97 100
----
percent-values-for-transition-type-move-short:
0 -3 -1 4 9 16 26 35 50 65 74 84 92 96 101 103 100
combee can refine these numbers using spreadsheet scatter plot comenn
----
percent-times-for-transition-type-simple-linear:
0 100
----
percent-values-for-transition-type-simple-linear:
0 100
----
generate-svg-files-and-render:
ambee clear-phrase frame-number-for-previous-keyframe amenn
ambee generate-counts-from-integer-to-integer 1 ambee last-frame-number amenn list-of-all-frame-numbers amenn
ambee clear-phrase svg-filename-previous amenn
ambee use-handler-with-each-word-in-phrase generate-one-svg-file-then-render list-of-all-frame-numbers amenn
----
generate-one-svg-file-then-render:
ambee copy-text word-to-use-in-handler frame-number-to-generate amenn
ambee copy-text frame-number-to-generate frame-number-for-avar-info-file amenn
ambee get-avars-from-avar-info-file-and-insert amenn
ambee copy-text svg-filename svg-filename-previous amenn
ambee copy-zero-pad-left-to-length frame-number-to-generate frame-number-zero-padded 7 amenn
ambee expand-text template-filename-generated-svg filename-generated-svg amenn
ambee copy-text path-to-generated-svg-files dashrep-path-prefix-for-file-writing amenn
ambee delete-file ambee filename-generated-svg amenn amenn
ambee copy-from-phrase-append-to-file loaded-svg-file ambee filename-generated-svg amenn amenn
ambee copy-text frame-number-to-generate frame-number-to-render amenn
ambee request-render-frame amenn
----
get-avars-from-avar-info-file-and-insert:
ambee generate-filename-avar-info amenn

combee
ambee put-into-phrase output-line filename avar info: amenn
ambee append-text filename-avar-info output-line amenn
ambee write-output-line-to-log-file amenn
comenn

ambee copy-text path-to-avar-info-files dashrep-path-prefix-for-file-reading amenn
ambee linewise-read-from-file-and-use-handler ambee filename-avar-info amenn get-filename-svg-keyframe-from-avar-info-file amenn
ambee load-svg-file amenn
ambee clear-phrase list-of-avar-ids-types-that-have-new-values amenn

ambee if-no-begin ambee yes-or-no-same-two-phrase-definitions svg-filename svg-filename-previous amenn amenn
    ambee clear-phrase list-of-avar-ids-types-keeping-unchanged amenn
ambee if-end amenn

ambee generate-positions-of-delimiter character-open-angle-bracket loaded-svg-file list-of-pointers-to-open-angle-brackets amenn
ambee copy-text path-to-avar-info-files dashrep-path-prefix-for-file-reading amenn
ambee linewise-read-from-file-and-use-handler ambee filename-avar-info amenn get-avar-info-from-avar-info-line amenn
ambee use-handler-with-each-word-in-phrase get-avar-value-new-and-insert-into-loaded-svg-file list-of-avar-ids-types-that-have-new-values amenn
ambee copy-words-found-only-in-first-list list-of-avar-ids-types-keeping-unchanged list-of-avar-ids-types-that-have-new-values list-of-avar-ids-types-keeping-unchanged amenn
ambee use-handler-with-each-word-in-phrase get-avar-value-new-and-insert-into-loaded-svg-file list-of-avar-ids-types-keeping-unchanged amenn
ambee append-text list-of-avar-ids-types-that-have-new-values list-of-avar-ids-types-keeping-unchanged amenn
ambee copy-words-unique-only list-of-avar-ids-types-keeping-unchanged list-of-avar-ids-types-keeping-unchanged amenn
----
get-filename-svg-keyframe-from-avar-info-file:
ambee copy-text linewise-input-line-from-file avar-info-line amenn

ambee if-yes-begin ambee yes-or-no-same-two-words 1 ambee get-count-of-words avar-info-line amenn amenn amenn
    ambee copy-word-at-position avar-info-line filename-svg-keyframe 1 amenn
ambee if-end amenn
----
get-avar-info-from-avar-info-line:
ambee copy-text linewise-input-line-from-file avar-info-line amenn

ambee if-no-begin ambee yes-or-no-same-two-words 1 ambee get-count-of-words avar-info-line amenn amenn amenn
    ambee get-avar-id-type-value-new-from-avar-info-line amenn
ambee if-end amenn
----
get-avar-id-type-value-new-from-avar-info-line
ambee copy-word-at-position avar-info-line avar-id 1 amenn
ambee copy-word-at-position avar-info-line avar-type 2 amenn
ambee copy-words-from-position-to-position avar-info-line avar-value-new 3 9999 amenn
ambee copy-text avar-id avar-id-type amenn
ambee append-text-no-space text-double-underscore avar-id-type amenn
ambee append-text-no-space avar-type avar-id-type amenn
ambee copy-text avar-value-new value-for-avar-id-type fenambee avar-id-type amenn amenn
ambee append-text avar-id-type list-of-avar-ids-types-that-have-new-values amenn

ambee put-into-phrase output-line avar info: amenn
ambee append-text avar-id output-line amenn
ambee append-text avar-type output-line amenn
ambee append-text avar-value-new output-line amenn
ambee write-output-line-to-log-file amenn
----
get-avar-value-new-and-insert-into-loaded-svg-file:
ambee copy-text word-to-use-in-handler avar-id-type amenn
ambee copy-and-replace avar-id-type avar-id-type-split text-double-underscore character-space amenn
ambee copy-word-at-position avar-id-type-split avar-id 1 amenn
ambee copy-word-at-position avar-id-type-split avar-type 2 amenn
ambee copy-text value-for-avar-id-type fenambee avar-id-type amenn avar-value-new amenn
ambee generate-positions-of-delimiter avar-id loaded-svg-file pointer-to-avar-id amenn
ambee copy-text pointer-to-avar-id integer-threshold amenn
ambee copy-text list-of-pointers-to-open-angle-brackets list-of-integers amenn
ambee find-nearest-integers-in-list amenn
ambee copy-text nearest-smaller-integer pointer-to-prior-open-angle-bracket amenn
ambee copy-text character-quotation text-to-find amenn
ambee generate-positions-of-first-matching-delimiter-after-listed-positions text-to-find loaded-svg-file pointer-to-prior-open-angle-bracket pointer-to-closing-delimiter amenn
ambee numeric-increment pointer-to-closing-delimiter amenn
ambee copy-text svg-location fenambee avar-type amenn svg-location amenn
ambee copy-word-at-position svg-location svg-location-word 1 amenn
ambee generate-positions-of-first-matching-delimiter-after-listed-positions svg-location-word loaded-svg-file pointer-to-closing-delimiter pointer-to-begin-next-location-word amenn
ambee put-into-phrase
    pointer-to-begin-next-location-word
    ambee numeric-add
        ambee pointer-to-begin-next-location-word amenn
        ambee get-count-of-characters svg-location-word amenn
    amenn
amenn
ambee copy-text pointer-to-begin-next-location-word pointer-to-previous-next-character-in-svg-avar-value amenn
ambee put-into-phrase word-count-for-svg-location ambee get-count-of-words svg-location amenn amenn
ambee generate-counts-from-integer-to-integer 2 ambee word-count-for-svg-location amenn list-of-pointers-to-svg-location-words amenn
ambee clear-phrase location-word-previous amenn
ambee use-handler-with-each-word-in-phrase point-to-one-svg-avar-value-using-next-svg-location-word list-of-pointers-to-svg-location-words amenn
ambee copy-text pointer-to-previous-next-character-in-svg-avar-value character-pointer-begin amenn
ambee copy-text pointer-to-next-next-character-in-svg-avar-value character-pointer-end amenn
ambee numeric-decrement character-pointer-end amenn
ambee copy-characters-from-position-to-position loaded-svg-file avar-value-old ambee character-pointer-begin amenn ambee character-pointer-end amenn amenn
ambee numeric-decrement character-pointer-begin amenn
ambee numeric-increment character-pointer-end amenn
ambee copy-characters-from-position-to-position loaded-svg-file loaded-svg-file-modified 1 ambee character-pointer-begin amenn amenn
ambee append-text-no-space avar-value-new loaded-svg-file-modified amenn
ambee copy-characters-from-position-to-position loaded-svg-file loaded-svg-file-part-two ambee character-pointer-end amenn 9999999 amenn
ambee append-text-no-space loaded-svg-file-part-two loaded-svg-file-modified amenn
ambee copy-text loaded-svg-file-modified loaded-svg-file amenn
----
handle-all-keyframes:
ambee initialize-lists-for-handle-all-keyframes amenn
ambee generate-counts-from-integer-to-integer 1 ambee script-keyframe-number amenn list-of-keyframe-numbers amenn
ambee use-handler-with-each-word-in-phrase handle-one-keyframe list-of-keyframe-numbers amenn
----
initialize-lists-for-handle-all-keyframes:
ambee use-handler-with-each-word-in-phrase clear-list-of-avar-ids-for-one-avar-type list-of-avar-types-involving-x amenn
ambee use-handler-with-each-word-in-phrase clear-list-of-avar-ids-for-one-avar-type list-of-avar-types-involving-y amenn
----
clear-list-of-avar-ids-for-one-avar-type:
ambee clear-phrase list-of-avar-ids-for-avar-type fenambee avar-type amenn amenn
----
list-of-avar-types-involving-x:
position-x
translate-x
----
list-of-avar-types-involving-y:
position-y
translate-y
----
handle-one-keyframe:
ambee copy-text word-to-use-in-handler script-keyframe-number amenn
ambee copy-text frame-number-for-keyframe-number fenambee script-keyframe-number amenn script-frame-number amenn
ambee copy-text filename-svg-keyframe-for-keyframe-number fenambee script-keyframe-number amenn filename-svg-keyframe amenn

    ambee put-into-phrase output-line keyframe info: amenn
    ambee append-text script-frame-number output-line amenn
    ambee append-text filename-svg-keyframe output-line amenn
    ambee write-output-line-to-log-file amenn

ambee handle-find-get-all-avars-in-one-svg-file amenn
ambee copy-text script-frame-number script-frame-number-minus-one amenn
ambee numeric-decrement script-frame-number-minus-one amenn

ambee if-yes-begin ambee yes-or-no-same-two-phrase-definitions script-frame-number-previous script-frame-number-minus-one amenn amenn
    ambee clear-phrase script-frame-number-previous amenn
ambee if-end amenn

ambee if-no-begin ambee yes-or-no-empty-phrase script-frame-number-previous amenn amenn
    ambee copy-text filename-svg-keyframe-for-keyframe-number fenambee script-frame-number-previous amenn filename-svg-keyframe amenn
    ambee handle-two-keyframes-needing-avar-changes amenn
ambee if-end amenn

ambee copy-text script-frame-number script-frame-number-previous amenn
ambee copy-text script-keyframe-number script-keyframe-number-previous amenn

    ambee put-into-phrase output-line done handling one keyframe amenn
    ambee write-output-line-to-log-file amenn
----
handle-two-keyframes-needing-avar-changes:
ambee copy-text script-frame-number-previous frame-number-for-avar-id-type-begin amenn
ambee copy-text script-frame-number frame-number-for-avar-id-type-end amenn
ambee generate-counts-from-integer-to-integer ambee frame-number-for-avar-id-type-begin amenn ambee frame-number-for-avar-id-type-end amenn list-of-frame-numbers-for-keyframe-pair amenn
ambee use-handler-with-each-word-in-phrase write-keyframe-filename-to-avar-info-file list-of-frame-numbers-for-keyframe-pair amenn

ambee put-into-phrase output-line wrote keyframe filenames to avar info files amenn
ambee write-output-line-to-log-file amenn

ambee copy-text frame-number-for-avar-id-type-begin avar-frame-begin amenn
ambee copy-text frame-number-for-avar-id-type-end avar-frame-end amenn
ambee copy-words-found-only-in-first-list list-of-avar-id-location-type-value-items-at-keyframe-number fenambee script-keyframe-number-previous amenn list-of-avar-id-location-type-value-items-at-keyframe-number fenambee script-keyframe-number amenn list-of-avars-begin amenn
ambee copy-words-found-only-in-first-list list-of-avar-id-location-type-value-items-at-keyframe-number fenambee script-keyframe-number amenn list-of-avar-id-location-type-value-items-at-keyframe-number fenambee script-keyframe-number-previous amenn list-of-avars-end amenn
ambee identify-avars-that-are-missing-x-or-y-component amenn

ambee put-into-phrase output-line avars before change: amenn
ambee append-text list-of-avars-begin output-line amenn
ambee write-output-line-to-log-file amenn
ambee put-into-phrase output-line avars after change: amenn
ambee append-text list-of-avars-end output-line amenn
ambee write-output-line-to-log-file amenn

ambee put-into-phrase output-line keyframe frame numbers begin and end: amenn
ambee append-text avar-frame-begin output-line amenn
ambee append-text avar-frame-end output-line amenn
ambee write-output-line-to-log-file amenn

ambee use-handler-with-each-word-in-phrase handle-one-avar-in-list-of-avars-begin list-of-avars-begin amenn
----
identify-avars-that-are-missing-x-or-y-component:
ambee clear-phrase list-of-avar-id-type-just-x-or-y-values amenn
ambee copy-words-that-contain-listed-words list-of-avars-begin  list-of-avars-just-x-or-just-y-values text-indicating-x-values amenn
ambee use-handler-with-each-word-in-phrase add-to-list-one-avar-id-type list-of-avars-just-x-or-just-y-values amenn
ambee copy-text list-of-avar-id-type-just-x-or-y-values list-of-avar-id-type-just-x-values amenn
ambee clear-phrase list-of-avar-id-type-just-x-or-y-values amenn
ambee copy-words-that-contain-listed-words list-of-avars-begin  list-of-avars-just-x-or-just-y-values text-indicating-y-values amenn
ambee use-handler-with-each-word-in-phrase add-to-list-one-avar-id-type list-of-avars-just-x-or-just-y-values amenn
ambee copy-text list-of-avar-id-type-just-x-or-y-values list-of-avar-id-type-just-y-values amenn
ambee copy-and-replace list-of-avar-id-type-just-x-values list-with-x-replaced-by-y hyphen-x hyphen-y amenn
ambee copy-and-replace list-of-avar-id-type-just-y-values list-with-y-replaced-by-x hyphen-y hyphen-x amenn
combee reminder: code here assumes that object id does not include "-x" or "-y" comenn
ambee copy-words-found-only-in-first-list list-with-y-replaced-by-x list-of-avar-id-type-just-x-values list-of-avar-id-type-have-x-but-y-missing amenn
ambee copy-words-found-only-in-first-list list-with-x-replaced-by-y list-of-avar-id-type-just-y-values list-of-avar-id-type-have-y-but-x-missing amenn
ambee copy-and-replace list-of-avar-id-type-have-x-but-y-missing list-with-x-replaced-by-y hyphen-y hyphen-x amenn
ambee copy-and-replace list-of-avar-id-type-just-y-values list-with-y-replaced-by-x hyphen-x hyphen-y amenn
ambee copy-text list-with-x-replaced-by-y list-of-avar-id-type-items-need-to-add amenn
ambee append-text list-with-y-replaced-by-x list-of-avar-id-type-items-need-to-add amenn
ambee append-text list-of-avar-id-type-have-y-but-x-missing list-of-avar-id-type-items-need-to-add amenn
ambee append-text list-of-avar-id-type-have-x-but-y-missing list-of-avar-id-type-items-need-to-add amenn
ambee copy-words-that-contain-listed-words list-of-avar-id-location-type-value-items-at-keyframe-number fenambee script-keyframe-number-previous amenn list-of-avar-id-type-value-items-need-to-add list-of-avar-id-type-items-need-to-add amenn
ambee append-text list-of-avar-id-type-value-items-need-to-add list-of-avars-begin amenn
ambee copy-words-that-contain-listed-words list-of-avar-id-location-type-value-items-at-keyframe-number fenambee script-keyframe-number amenn list-of-avar-id-type-value-items-need-to-add list-of-avar-id-type-items-need-to-add amenn
ambee append-text list-of-avar-id-type-value-items-need-to-add list-of-avars-end amenn
ambee copy-words-unique-only list-of-avars-begin list-of-avars-begin amenn
ambee copy-words-unique-only list-of-avars-end list-of-avars-end amenn
ambee copy-words-sort-alphabetic list-of-avars-begin list-of-avars-begin amenn
ambee copy-words-sort-alphabetic list-of-avars-end list-of-avars-end amenn

ambee put-into-phrase output-line involve x missing: amenn
ambee append-text list-of-avar-id-type-have-x-but-y-missing output-line amenn
ambee write-output-line-to-log-file amenn
ambee put-into-phrase output-line involve y missing: amenn
ambee append-text list-of-avar-id-type-have-y-but-x-missing output-line amenn
ambee write-output-line-to-log-file amenn
----
add-to-list-one-avar-id-type:
ambee copy-text word-to-use-in-handler avar-id-type-value amenn
ambee copy-and-replace avar-id-type-value avar-id-type-value-modified text-double-underscore character-space amenn
ambee copy-word-at-position avar-id-type-value-modified avar-id-type 1 amenn
ambee append-text-no-space text-double-underscore avar-id-type amenn
ambee copy-word-at-position avar-id-type-value-modified avar-type 2 amenn
ambee append-text-no-space avar-type avar-id-type amenn
ambee append-text avar-id-type list-of-avar-id-type-just-x-or-y-values amenn
----
text-indicating-x-values:
__center-x__
__translate-x__
----
text-indicating-y-values:
__center-y__
__translate-y__
----
hyphen-x:
-x
----
hyphen-y:
-y
----
write-keyframe-filename-to-avar-info-file:
ambee copy-text word-to-use-in-handler frame-number-for-avar-info-file amenn
ambee generate-filename-avar-info amenn
ambee copy-text path-to-avar-info-files dashrep-path-prefix-for-file-writing amenn
ambee delete-file ambee filename-avar-info amenn amenn
ambee copy-text filename-svg-keyframe avar-info-lines-to-write amenn
ambee write-avar-info-lines-to-write amenn
----
generate-filename-avar-info:
ambee copy-zero-pad-left-to-length frame-number-for-avar-info-file frame-number-zero-padded 7 amenn
ambee expand-text template-filename-avar-info filename-avar-info amenn
----
template-filename-avar-info:
frame_ no-space frame-number-zero-padded no-space _avar_info.txt no-space
----
write-avar-id-type-value-current-to-avar-info-file:
ambee copy-text avar-frame-current frame-number-for-avar-info-file amenn
ambee copy-text avar-id avar-info-lines-to-write amenn
ambee append-text avar-type avar-info-lines-to-write amenn
ambee append-text avar-value-current avar-info-lines-to-write amenn
ambee write-avar-info-lines-to-write amenn
----
write-avar-info-lines-to-write:
ambee generate-filename-avar-info amenn
ambee copy-text path-to-avar-info-files dashrep-path-prefix-for-file-writing amenn

combee
todo:
now disabled because now generates thousands of files!

ambee copy-from-phrase-append-to-file avar-info-lines-to-write ambee filename-avar-info amenn amenn

comenn

ambee copy-text filename-avar-info output-line amenn
ambee append-text avar-info-lines-to-write output-line amenn
ambee write-output-line-to-log-file amenn

combee reminder: info line is deleted here, so logging must be done above comenn
ambee clear-phrase avar-info-lines-to-write amenn
----
handle-one-avar-in-list-of-avars-begin:
ambee copy-text word-to-use-in-handler avar-id-type-value-begin amenn
ambee copy-and-replace avar-id-type-value-begin avar-id-type-value text-double-underscore character-space amenn
ambee copy-word-at-position avar-id-type-value avar-id 1 amenn
ambee copy-word-at-position avar-id-type-value avar-type 2 amenn
ambee copy-word-at-position avar-id-type-value avar-value-begin 3 amenn
ambee copy-text avar-id avar-id-type amenn
ambee append-text-no-space text-double-underscore avar-id-type amenn
ambee append-text-no-space avar-type avar-id-type amenn
ambee copy-words-that-begin-with-text list-of-avars-end avar-id-type-value-end avar-id-type amenn
ambee copy-and-replace avar-id-type-value-end avar-value-is-third-word text-double-underscore character-space amenn
ambee copy-word-at-position avar-value-is-third-word avar-value-end 3 amenn
ambee copy-words-that-contain-listed-words avar-id-type-value-end empty-if-not-involves-x-value text-indicating-x-values amenn
ambee get-transition-type-based-on-avar-id amenn
ambee ensure-transition-type-is-valid amenn
ambee copy-words-found-in-both-lists transition-type list-of-transition-types-that-handle-x-and-y-together empty-if-need-to-handle-x-and-y-together amenn
ambee put-into-phrase yes-or-no-can-handle-this-case no amenn

combee todo: debug this logic comenn
ambee if-yes-begin ambee yes-or-no-empty-phrase empty-if-not-involves-x-value amenn amenn
    ambee put-into-phrase yes-or-no-can-handle-this-case yes amenn
ambee if-end amenn

ambee if-no-begin ambee yes-or-no-empty-phrase empty-if-need-to-handle-x-and-y-together amenn amenn
    ambee put-into-phrase yes-or-no-can-handle-this-case yes amenn
ambee if-end amenn

ambee if-yes-begin ambee yes-or-no-empty-phrase avar-id-type-value-end amenn amenn
    ambee put-into-phrase yes-or-no-can-handle-this-case no amenn
ambee if-end amenn

ambee put-into-phrase output-line avar begin info: amenn
ambee append-text avar-id output-line amenn
ambee append-text avar-type output-line amenn
ambee append-text avar-value-begin output-line amenn
ambee append-text empty-if-not-involves-x-value output-line amenn
ambee append-text character-asterisk output-line amenn
ambee append-text empty-if-need-to-handle-x-and-y-together output-line amenn
ambee append-text character-asterisk output-line amenn
ambee append-text yes-or-no-can-handle-this-case output-line amenn
ambee write-output-line-to-log-file amenn

ambee if-yes-begin ambee yes-or-no-can-handle-this-case amenn amenn
    ambee handle-one-avar-have-avar-id-type-value-end amenn
ambee if-end amenn

ambee copy-text avar-value-begin possible-saved-x-avar-value-begin amenn
ambee copy-text avar-value-end possible-saved-x-avar-value-end amenn
ambee copy-text avar-id avar-id-for-saved-avar-values-begin-end amenn
----
handle-one-avar-have-avar-id-type-value-end:
ambee copy-and-replace avar-id-type-value-end avar-id-type-value text-double-underscore character-space amenn
ambee copy-word-at-position avar-id-type-value avar-id 1 amenn
ambee copy-word-at-position avar-id-type-value avar-type 2 amenn
ambee copy-word-at-position avar-id-type-value avar-value-end 3 amenn
ambee handle-one-avar-have-values-begin-and-end amenn
----
handle-one-avar-have-values-begin-and-end:
ambee copy-text avar-frame-begin avar-frame-at-value-begin amenn
ambee copy-text avar-frame-end avar-frame-at-value-end amenn
ambee write-one-avar-begin-end-to-avar-summary-file amenn

ambee put-into-phrase list-of-valid-dynamic-transition-types simple-linear move-normal amenn
ambee copy-words-found-in-both-lists transition-type list-of-valid-dynamic-transition-types possible-valid-dynamic-transition-type amenn

ambee if-yes-begin ambee yes-or-no-empty-phrase possible-valid-dynamic-transition-type amenn amenn
    ambee get-percent-times-and-percent-values-then-write-avar-values amenn
ambee if-else amenn
    ambee write-avar-values-for-dynamic-transition-type fenambee possible-valid-dynamic-transition-type amenn amenn
ambee if-end amenn
----
write-avar-values-for-dynamic-transition-type-simple-linear:


ambee put-into-phrase
    avar-frame-begin
    ambee numeric-minimum
        ambee avar-frame-begin amenn
        ambee avar-frame-end amenn
    amenn
amenn
ambee put-into-phrase
    avar-frame-at-value-begin
    ambee numeric-minimum
        ambee avar-frame-at-value-begin amenn
        ambee avar-frame-at-value-end amenn
    amenn
amenn
ambee put-into-phrase
    avar-frame-range
    ambee numeric-minus
        ambee avar-frame-at-value-end amenn
        ambee avar-frame-at-value-begin amenn
    amenn
amenn
ambee put-into-phrase
    avar-value-range
    ambee numeric-minus
        ambee avar-value-end amenn
        ambee avar-value-begin amenn
    amenn
amenn

combee
ambee put-into-phrase
    avar-frame-end
    ambee numeric-minimum
        ambee avar-frame-end amenn
        ambee interval-frames-maximum-duration-at-constant-speed amenn
    amenn
amenn
comenn

ambee generate-counts-from-integer-to-integer ambee avar-frame-at-value-begin amenn ambee avar-frame-at-value-end amenn list-of-frame-numbers amenn

ambee put-into-phrase output-line frame numbers, linear: amenn
ambee append-text list-of-frame-numbers output-line amenn
ambee write-output-line-to-log-file amenn

ambee use-handler-with-each-word-in-phrase write-one-avar-value-for-transition-type-linear list-of-frame-numbers amenn
----
write-one-avar-value-for-transition-type-linear:
ambee copy-text word-to-use-in-handler avar-frame-current amenn
ambee put-into-phrase
    avar-frame-range
    ambee numeric-maximum
        1
        ambee avar-frame-range amenn
    amenn
amenn
ambee put-into-phrase
    avar-value-current
    ambee numeric-add
        ambee avar-value-begin amenn
        ambee numeric-multiply
            ambee avar-value-range amenn
            ambee numeric-divide-by
                ambee numeric-minus
                    ambee avar-frame-current amenn
                    ambee avar-frame-at-value-begin amenn
                amenn
                ambee avar-frame-range amenn
            amenn
        amenn
    amenn
amenn
ambee write-avar-id-type-value-current-to-avar-info-file amenn
----
get-percent-times-and-percent-values-then-write-avar-values:
ambee get-percent-times-and-percent-values-for-transition-type amenn
ambee put-into-phrase
    avar-frame-end
    ambee numeric-minimum
        ambee avar-frame-end amenn
        ambee interval-frames-maximum-duration-at-constant-speed amenn
    amenn
amenn
ambee copy-text avar-frame-end avar-frame-at-value-end amenn
ambee put-into-phrase
    avar-frame-begin
    ambee numeric-minimum
        ambee avar-frame-begin amenn
        ambee avar-frame-end amenn
    amenn
amenn
ambee copy-text avar-frame-begin avar-frame-at-value-begin amenn
ambee generate-counts-from-integer-to-integer ambee avar-frame-begin amenn ambee avar-frame-end amenn list-of-frame-numbers amenn

combee
ambee put-into-phrase output-line frame numbers, percents: amenn
ambee append-text list-of-frame-numbers output-line amenn
ambee write-output-line-to-log-file amenn
comenn

ambee use-handler-with-each-word-in-phrase generate-write-one-avar-info-line-for-one-avar-using-percent-times-frames list-of-frame-numbers amenn
----
generate-write-one-avar-info-line-for-one-avar-using-percent-times-frames:
ambee copy-text word-to-use-in-handler avar-frame-current amenn
ambee clear-phrase avar-value-current amenn

ambee if-yes-begin ambee yes-or-no-same-two-phrase-definitions avar-value-begin avar-value-end amenn amenn
    ambee copy-text avar-value-begin avar-value-current amenn
ambee if-end amenn

ambee if-no-begin ambee yes-or-no-same-two-words greater ambee numeric-equal-greater-less-compare ambee avar-frame-current amenn ambee avar-frame-begin amenn amenn amenn amenn
    ambee copy-text avar-value-begin avar-value-current amenn
ambee if-end amenn

ambee if-no-begin ambee yes-or-no-same-two-words less ambee numeric-equal-greater-less-compare ambee avar-frame-current amenn ambee avar-frame-end amenn amenn amenn amenn
    ambee copy-text avar-value-end avar-value-current amenn
ambee if-end amenn

ambee if-yes-begin ambee yes-or-no-empty-phrase avar-value-current amenn amenn
    ambee calculate-one-avar-value-using-percent-times-and-percent-values amenn
ambee if-end amenn

ambee write-avar-id-type-value-current-to-avar-info-file amenn
----
get-transition-type-based-on-avar-id:
ambee generate-positions-of-listed-words substrings-indicating-transition-type avar-id pointers-to-matching-substring amenn

ambee if-no-begin ambee yes-or-no-empty-phrase pointers-to-matching-substring amenn amenn
    ambee copy-characters-from-position-to-position avar-id matching-substring ambee get-word-at-position pointers-to-matching-substring 1 amenn ambee get-word-at-position pointers-to-matching-substring 2 amenn amenn
    ambee copy-text transition-type-for-id-substring fenambee matching-substring amenn transition-type amenn
ambee if-end amenn

ambee if-yes-begin ambee yes-or-no-empty-phrase transition-type amenn amenn
    ambee put-into-phrase transition-type simple-linear amenn
ambee if-end amenn
----
ensure-transition-type-is-valid:
ambee copy-words-found-in-both-lists transition-type list-of-valid-transition-types valid-transition-type amenn

ambee if-yes-begin ambee yes-or-no-empty-phrase valid-transition-type amenn amenn
    ambee put-into-phrase output-line invalid transition type: amenn
    ambee append-text transition-type output-line amenn
    ambee write-output-line-to-log-file amenn
    ambee put-into-phrase valid-transition-type simple-linear amenn
ambee if-end amenn

ambee copy-text valid-transition-type transition-type amenn
----
get-percent-times-and-percent-values-for-transition-type:
ambee clear-phrase percent-times amenn
ambee clear-phrase percent-values amenn
ambee copy-text percent-times-for-transition-type fenambee valid-transition-type amenn percent-times amenn
ambee copy-text percent-values-for-transition-type fenambee valid-transition-type amenn percent-values amenn

ambee if-yes-begin ambee yes-or-no-empty-phrase percent-times amenn amenn
    ambee put-into-phrase percent-times 0 100 amenn
    ambee put-into-phrase percent-values 0 100 amenn
ambee if-end amenn

ambee if-yes-begin ambee yes-or-no-empty-phrase percent-values amenn amenn
    ambee put-into-phrase percent-times 0 100 amenn
    ambee put-into-phrase percent-values 0 100 amenn
ambee if-end amenn

combee
ambee put-into-phrase output-line percent-times and values: amenn
ambee append-text percent-times output-line amenn
ambee append-text percent-values output-line amenn
ambee write-output-line-to-log-file amenn
comenn
----
calculate-one-avar-value-using-percent-times-and-percent-values:
ambee clear-phrase matching-substring amenn
ambee copy-text avar-frame-begin frame-begin amenn
ambee copy-text avar-frame-end frame-end amenn
ambee copy-text avar-frame-current frame-current amenn
ambee calculate-percent-integer-from-frame-begin-end-current amenn
ambee copy-text percent-integer avar-frame-percent-current amenn
ambee copy-words-found-in-both-lists avar-frame-percent-current percent-times percent-time-at-transition-interval-edge amenn

combee
ambee put-into-phrase output-line avar-frame-current: amenn
ambee append-text avar-frame-current output-line amenn
ambee write-output-line-to-log-file amenn
comenn

ambee if-yes-begin ambee yes-or-no-empty-phrase percent-time-at-transition-interval-edge amenn amenn
    ambee copy-text avar-frame-percent-current integer-threshold amenn
    ambee copy-text percent-times list-of-integers amenn
    ambee find-nearest-integers-in-list amenn
    ambee copy-text nearest-smaller-integer transition-interval-frame-percent-begin amenn
    ambee copy-text nearest-larger-integer transition-interval-frame-percent-end amenn
ambee if-else amenn
    ambee copy-text percent-time-at-transition-interval-edge transition-interval-frame-percent-begin amenn
    ambee put-into-phrase pointer-to-nearby-integer ambee get-position-of-word percent-time-at-transition-interval-edge percent-times amenn amenn
    ambee numeric-increment pointer-to-nearby-integer amenn
    ambee copy-word-at-position percent-times transition-interval-frame-percent-end ambee pointer-to-nearby-integer amenn amenn
ambee if-end amenn

ambee put-into-phrase pointer-to-nearby-integer
    ambee get-position-of-word transition-interval-frame-percent-begin percent-times amenn amenn
ambee copy-word-at-position percent-values transition-interval-value-percent-begin ambee pointer-to-nearby-integer amenn amenn
ambee numeric-increment pointer-to-nearby-integer amenn
ambee copy-word-at-position percent-values transition-interval-value-percent-end ambee pointer-to-nearby-integer amenn amenn

ambee if-yes-begin ambee yes-or-no-same-two-words equal ambee numeric-equal-greater-less-compare ambee transition-interval-frame-percent-end amenn ambee transition-interval-frame-percent-begin amenn amenn amenn amenn
    ambee numeric-increment transition-interval-frame-percent-end amenn
ambee if-end amenn

ambee put-into-phrase
    transition-interval-value-decimal-current
    ambee numeric-divide-by
        ambee numeric-minus
            ambee avar-frame-percent-current amenn
            ambee transition-interval-frame-percent-begin amenn
        amenn
        ambee numeric-minus
            ambee transition-interval-frame-percent-end amenn
            ambee transition-interval-frame-percent-begin amenn
        amenn
    amenn
amenn
ambee put-into-phrase
    avar-value-range
    ambee numeric-minus
        ambee avar-value-end amenn
        ambee avar-value-begin amenn
    amenn
amenn
ambee put-into-phrase
    transition-interval-value-begin
    ambee numeric-add
        ambee avar-value-begin amenn
        ambee numeric-divide-by
            ambee numeric-multiply
                ambee transition-interval-value-percent-begin amenn
                ambee avar-value-range amenn
            amenn
            100
        amenn
    amenn
amenn

ambee if-yes-begin ambee yes-or-no-same-two-words equal ambee numeric-equal-greater-less-compare ambee transition-interval-value-percent-end amenn ambee avar-value-range amenn amenn amenn amenn
    ambee numeric-decrement transition-interval-value-percent-end amenn
ambee if-end amenn

ambee put-into-phrase
    transition-interval-value-end
    ambee numeric-add
        ambee avar-value-begin amenn
        ambee numeric-divide-by
            ambee numeric-multiply
                ambee transition-interval-value-percent-end amenn
                ambee avar-value-range amenn
            amenn
            100
        amenn
    amenn
amenn
ambee put-into-phrase
    transition-interval-value-range
    ambee numeric-minus
        ambee transition-interval-value-end amenn
        ambee transition-interval-value-begin amenn
    amenn
amenn
ambee put-into-phrase
    decimal-value
    ambee numeric-add
        ambee transition-interval-value-begin amenn
        ambee numeric-multiply
            ambee transition-interval-value-decimal-current amenn
            ambee transition-interval-value-range amenn
        amenn
    amenn
amenn
ambee round-decimal-value-to-four-digits amenn
ambee copy-text decimal-value avar-value-current amenn

combee
ambee put-into-phrase output-line fjskdlfjsdlk: amenn
ambee append-text avar-value-current output-line amenn
ambee write-output-line-to-log-file amenn
comenn
----
calculate-percent-integer-from-frame-begin-end-current:
ambee if-yes-begin ambee yes-or-no-same-two-words equal ambee numeric-equal-greater-less-compare ambee frame-begin amenn ambee frame-end amenn amenn amenn amenn
    ambee numeric-increment frame-end amenn
ambee if-end amenn

ambee put-into-phrase
    percent-integer
    ambee numeric-integer
        ambee numeric-divide-by
            ambee numeric-multiply
                100
                ambee numeric-minus
                    ambee frame-current amenn
                    ambee frame-begin amenn
                amenn
            amenn
            ambee numeric-minus
                ambee frame-end amenn
                ambee frame-begin amenn
            amenn
        amenn
    amenn
amenn

combee
ambee put-into-phrase output-line percent-integer: amenn
ambee append-text percent-integer output-line amenn
ambee write-output-line-to-log-file amenn
comenn
----
write-avar-values-for-dynamic-transition-type-move-normal:
ambee copy-text avar-frame-begin frame-number-for-avar-id-type-begin amenn
ambee copy-text avar-frame-end frame-number-for-avar-id-type-end amenn
ambee copy-text avar-value-begin avar-value-y-begin amenn
ambee copy-text avar-value-end avar-value-y-end amenn
ambee copy-text possible-saved-x-avar-value-begin avar-value-x-begin amenn
ambee copy-text possible-saved-x-avar-value-end avar-value-x-end amenn

ambee put-into-phrase output-line saved info: amenn
ambee append-text avar-id output-line amenn
ambee append-text avar-id-for-saved-avar-values-begin-end output-line amenn
ambee append-text avar-frame-begin output-line amenn
ambee append-text avar-frame-end output-line amenn
ambee append-text avar-value-begin output-line amenn
ambee append-text avar-value-end output-line amenn
ambee write-output-line-to-log-file amenn

ambee if-no-begin ambee yes-or-no-same-two-phrase-definitions avar-id avar-id-for-saved-avar-values-begin-end amenn amenn
    ambee copy-text avar-value-begin avar-value-end amenn
    ambee numeric-increment avar-value-end amenn
    ambee put-into-phrase output-line error! x and y values are for different avars, so incorrect movement for avar ids: amenn
    ambee append-text avar-id output-line amenn
    ambee append-text avar-id-for-saved-avar-values-begin-end output-line amenn
    ambee write-output-line-to-log-file amenn
ambee if-end amenn

ambee copy-text avar-value-x-begin avar-value-x-move-full-begin amenn
ambee copy-text avar-value-y-begin avar-value-y-move-full-begin amenn
ambee copy-text avar-value-x-end avar-value-x-move-full-end amenn
ambee copy-text avar-value-y-end avar-value-y-move-full-end amenn

combee
todo: fix starting here, generates thousands of frames!
comenn

ambee put-into-phrase output-line move normal frame begin and end: amenn
ambee append-text avar-frame-begin output-line amenn
ambee append-text avar-frame-end output-line amenn
ambee write-output-line-to-log-file amenn

ambee calculate-x-y-distance-for-move-normal amenn
ambee put-into-phrase
    distance-pixels-at-constant-speed
    ambee numeric-absolute
        ambee numeric-minus
            ambee numeric-integer
                ambee x-y-distance-for-move-normal amenn
            amenn
            ambee numeric-integer
                ambee distance-pixels-begin-plus-end-constant-speed amenn
            amenn
        amenn
    amenn
amenn

combee
ambee put-into-phrase output-line distance-pixels-at-constant-speed: amenn
ambee append-text x-y-distance-for-move-normal output-line amenn
ambee append-text distance-pixels-at-constant-speed output-line amenn
ambee append-text distance-pixels-begin-plus-end-constant-speed output-line amenn
ambee write-output-line-to-log-file amenn
comenn

ambee if-yes-begin ambee yes-or-no-same-two-words greater ambee numeric-equal-greater-less-compare ambee distance-pixels-at-constant-speed amenn 0 amenn amenn amenn
    ambee write-avar-values-for-before-during-after-constant-speed amenn
ambee if-else amenn
    ambee write-avar-values-for-transition-type-move-short amenn
ambee if-end amenn
----
write-avar-values-for-before-during-after-constant-speed:
ambee calculate-frame-numbers-for-before-during-after-constant-speed amenn

ambee if-yes-begin ambee yes-or-no-same-two-words equal ambee numeric-equal-greater-less-compare 0 ambee x-y-distance-for-move-normal amenn amenn amenn amenn
    ambee put-into-phrase x-y-distance-for-move-normal 0.0001 amenn
ambee if-end amenn

ambee put-into-phrase
    proportion-distance-start-per-full
    ambee numeric-divide-by
        ambee distance-pixels-at-begin-constant-speed amenn
        ambee x-y-distance-for-move-normal amenn
    amenn
amenn
ambee put-into-phrase
    proportion-distance-stop-per-full
    ambee numeric-divide-by
        ambee distance-pixels-at-end-constant-speed amenn
        ambee x-y-distance-for-move-normal amenn
    amenn
amenn
ambee put-into-phrase
    avar-value-x-move-full-begin-to-end
    ambee numeric-minus
        ambee avar-value-x-move-full-end amenn
        ambee avar-value-x-move-full-begin amenn
    amenn
amenn
ambee put-into-phrase
    avar-value-y-move-full-begin-to-end
    ambee numeric-minus
        ambee avar-value-y-move-end amenn
        ambee avar-value-y-move-begin amenn
    amenn
amenn
ambee put-into-phrase
    avar-value-x-move-start-distance
    ambee numeric-multiply
        ambee avar-value-x-move-full-begin-to-end amenn
        ambee proportion-distance-start-per-full amenn
    amenn
amenn
ambee put-into-phrase
    avar-value-y-move-start-distance
    ambee numeric-multiply
        ambee avar-value-y-move-full-begin-to-end amenn
        ambee proportion-distance-start-per-full amenn
    amenn
amenn
ambee put-into-phrase
    avar-value-x-move-stop-distance
    ambee numeric-multiply
        ambee avar-value-x-move-full-begin-to-end amenn
        ambee proportion-distance-start-per-full amenn
    amenn
amenn
ambee put-into-phrase
    avar-value-y-move-stop-distance
    ambee numeric-multiply
        ambee avar-value-y-move-full-begin-to-end amenn
        ambee proportion-distance-stop-per-full amenn
    amenn
amenn
ambee put-into-phrase
    avar-value-x-move-start-end
    ambee numeric-add
        ambee avar-value-x-move-full-begin amenn
        ambee avar-value-x-move-start-distance amenn
    amenn
amenn
ambee put-into-phrase
    avar-value-x-move-stop-begin
    ambee numeric-minus
        ambee avar-value-x-move-full-end amenn
        ambee avar-value-x-move-stop-distance amenn
    amenn
amenn
ambee put-into-phrase
    avar-value-y-move-start-end
    ambee numeric-add
        ambee avar-value-y-move-full-begin amenn
        ambee avar-value-y-move-start-distance amenn
    amenn
amenn
ambee put-into-phrase
    avar-value-y-move-stop-begin
    ambee numeric-minus
        ambee avar-value-y-move-full-end amenn
        ambee avar-value-y-move-stop-distance amenn
    amenn
amenn
ambee copy-text frame-number-for-avar-id-type-begin avar-frame-move-start-begin amenn
ambee copy-text frame-number-for-avar-id-type-end avar-frame-move-start-end amenn
ambee copy-text avar-value-x-move-full-begin avar-value-x-move-start-begin amenn
ambee copy-text avar-value-x-move-start-end avar-value-x-move-middle-begin amenn
ambee copy-text avar-value-x-move-stop-begin avar-value-x-move-middle-end amenn
ambee copy-text avar-value-x-move-full-end avar-value-x-move-stop-end amenn
ambee copy-text avar-value-y-move-full-begin avar-value-y-move-start-begin amenn
ambee copy-text avar-value-y-move-start-end avar-value-y-move-middle-begin amenn
ambee copy-text avar-value-y-move-stop-begin avar-value-y-move-middle-end amenn
ambee copy-text avar-value-y-move-full-end avar-value-y-move-stop-end amenn

ambee put-into-phrase output-line values x: amenn
ambee append-text avar-value-x-move-start-begin output-line amenn
ambee append-text avar-value-x-move-start-end output-line amenn
ambee append-text avar-value-x-move-middle-begin output-line amenn
ambee append-text avar-value-x-move-middle-end output-line amenn
ambee append-text avar-value-x-move-stop-begin output-line amenn
ambee append-text avar-value-x-move-stop-end output-line amenn
ambee write-output-line-to-log-file amenn

ambee put-into-phrase output-line values y: amenn
ambee append-text avar-value-y-move-start-begin output-line amenn
ambee append-text avar-value-y-move-start-end output-line amenn
ambee append-text avar-value-y-move-middle-begin output-line amenn
ambee append-text avar-value-y-move-middle-end output-line amenn
ambee append-text avar-value-y-move-stop-begin output-line amenn
ambee append-text avar-value-y-move-stop-end output-line amenn
ambee write-output-line-to-log-file amenn

ambee copy-text avar-frame-move-start-begin avar-frame-begin amenn
ambee copy-text avar-frame-move-start-begin avar-frame-at-value-begin amenn
ambee copy-text avar-frame-move-start-end avar-frame-end amenn
ambee copy-text avar-frame-move-start-end avar-frame-at-value-end amenn
ambee copy-text avar-value-x-move-start-begin avar-value-begin amenn
ambee copy-text avar-value-x-move-start-end avar-value-end amenn
ambee put-into-phrase transition-type move-start amenn
ambee get-percent-times-and-percent-values-then-write-avar-values amenn
ambee copy-text avar-value-y-move-start-begin avar-value-begin amenn
ambee copy-text avar-value-y-move-start-end avar-value-end amenn
ambee get-percent-times-and-percent-values-then-write-avar-values amenn

ambee copy-text avar-frame-move-middle-begin avar-frame-begin amenn
ambee numeric-increment avar-frame-begin amenn
ambee copy-text avar-frame-move-middle-begin avar-frame-at-value-begin amenn
ambee copy-text avar-frame-move-middle-end avar-frame-end amenn
ambee numeric-decrement avar-frame-end amenn
ambee copy-text avar-frame-move-middle-end avar-frame-at-value-end amenn
ambee copy-text avar-value-x-move-middle-begin avar-value-begin amenn
ambee copy-text avar-value-x-move-middle-end avar-value-end amenn
ambee put-into-phrase transition-type simple-linear amenn
ambee write-avar-values-for-dynamic-transition-type-simple-linear amenn
ambee copy-text avar-value-y-move-middle-begin avar-value-begin amenn
ambee copy-text avar-value-y-move-middle-end avar-value-end amenn
ambee write-avar-values-for-dynamic-transition-type-simple-linear amenn

ambee copy-text avar-frame-move-stop-begin avar-frame-begin amenn
ambee copy-text avar-frame-move-stop-begin avar-frame-at-value-begin amenn
ambee copy-text avar-frame-move-stop-end avar-frame-end amenn
ambee copy-text avar-frame-move-stop-end avar-frame-at-value-end amenn
ambee copy-text avar-value-x-move-stop-begin avar-value-begin amenn
ambee copy-text avar-value-x-move-stop-end avar-value-end amenn
ambee put-into-phrase transition-type move-stop amenn
ambee get-percent-times-and-percent-values-then-write-avar-values amenn
ambee copy-text avar-value-y-move-stop-begin avar-value-begin amenn
ambee copy-text avar-value-y-move-stop-end avar-value-end amenn
ambee get-percent-times-and-percent-values-then-write-avar-values amenn
----
calculate-frame-numbers-for-before-during-after-constant-speed:
ambee copy-text avar-frame-begin frame-number-for-avar-id-type-begin amenn
ambee copy-text avar-frame-end frame-number-for-avar-id-type-end amenn
ambee copy-text frame-number-for-avar-id-type-begin avar-frame-move-start-begin amenn
ambee put-into-phrase
    avar-frame-move-start-end
    ambee numeric-add
        ambee avar-frame-move-start-begin amenn
        ambee interval-frames-for-move-start amenn
    amenn
amenn
ambee copy-text avar-frame-move-start-end avar-frame-move-middle-begin amenn
ambee put-into-phrase
    avar-frame-move-middle-end
    ambee numeric-integer
        ambee numeric-add
            ambee avar-frame-move-middle-begin amenn
            ambee numeric-multiply
                ambee distance-pixels-at-constant-speed amenn
                ambee interval-frames-per-pixel-distance-at-constant-speed amenn
            amenn
        amenn
    amenn
amenn
ambee put-into-phrase
    avar-frame-move-middle-end
    ambee numeric-minimum
        ambee avar-frame-move-middle-end amenn
        ambee interval-frames-maximum-duration-at-constant-speed amenn
    amenn
amenn
ambee copy-text avar-frame-move-middle-end avar-frame-move-stop-begin amenn
ambee put-into-phrase
    avar-frame-move-stop-end
    ambee numeric-integer
        ambee numeric-add
            ambee avar-frame-move-stop-begin amenn
            ambee interval-frames-for-move-stop amenn
        amenn
    amenn
amenn
ambee copy-text avar-frame-move-stop-end avar-frame-end amenn
ambee copy-text avar-frame-end last-frame-number amenn

combee
ambee put-into-phrase output-line interval start stop frames: amenn
ambee append-text interval-frames-for-move-start output-line amenn
ambee append-text interval-frames-for-move-stop output-line amenn
ambee append-text interval-frames-per-pixel-distance-at-constant-speed output-line amenn
ambee write-output-line-to-log-file amenn
comenn

ambee put-into-phrase output-line frames move full: amenn
ambee append-text avar-frame-move-start-begin output-line amenn
ambee append-text avar-frame-move-start-end output-line amenn
ambee append-text avar-frame-move-middle-begin output-line amenn
ambee append-text avar-frame-move-middle-end output-line amenn
ambee append-text avar-frame-move-stop-begin output-line amenn
ambee append-text avar-frame-move-stop-end output-line amenn
ambee write-output-line-to-log-file amenn
----
write-avar-values-for-transition-type-move-short:
ambee put-into-phrase transition-type move-short amenn
ambee copy-text avar-value-x-move-full-begin avar-value-begin amenn
ambee copy-text avar-value-x-move-full-end avar-value-end amenn
ambee copy-text frame-number-for-avar-id-type-begin avar-frame-begin amenn
ambee copy-text frame-number-for-avar-id-type-end avar-frame-end amenn
ambee get-percent-times-and-percent-values-then-write-avar-values amenn
----
calculate-x-y-distance-for-move-normal:
ambee put-into-phrase
    x-distance-integer
    ambee numeric-integer
        ambee numeric-multiply
            10000
            ambee numeric-minus
                ambee avar-value-x-move-full-end amenn
                ambee avar-value-x-move-full-begin amenn
            amenn
        amenn
    amenn
amenn
ambee put-into-phrase
    y-distance-integer
    ambee numeric-integer
        ambee numeric-multiply
            10000
            ambee numeric-minus
                ambee avar-value-y-move-end amenn
                ambee avar-value-y-move-begin amenn
            amenn
        amenn
    amenn
amenn
ambee numeric-vectors-from-delta-values-calculate-distances x-distance-integer y-distance-integer distance-integer amenn
ambee put-into-phrase
    x-y-distance-for-move-normal
    ambee numeric-divide-by
        ambee distance-integer amenn
        ambee 10000 amenn
    amenn
amenn
----
handle-find-get-all-avars-in-one-svg-file:
ambee load-svg-file amenn

ambee if-yes-begin ambee yes-or-no-svg-file-found amenn amenn
    ambee point-to-all-svg-ids amenn
    ambee point-to-all-svg-avar-values amenn
    ambee use-handler-with-each-word-in-phrase delete-one-combined-svg-info-phrase list-of-character-pointers-for-combined-svg-info-to-delete amenn
ambee if-end amenn
----
delete-one-combined-svg-info-phrase:
ambee copy-text word-to-use-in-handler character-pointer amenn
ambee put-into-phrase phrase-name-to-delete svg-id-name-for-object-starting-at-svg-character-position amenn
ambee append-text-no-space character-hyphen phrase-name-to-delete amenn
ambee append-text-no-space character-pointer phrase-name-to-delete amenn
ambee delete-listed-phrases phrase-name-to-delete amenn
----
point-to-all-svg-ids:
combee
reminder: position in code for next line assumes that caption changes
(and anything else that will significantly affect the pointers to open
angle brackets) will be done AFTER all numeric changes
comenn
ambee generate-positions-of-delimiter character-open-angle-bracket loaded-svg-file list-of-pointers-to-open-angle-brackets amenn
ambee clear-phrase list-of-pointers-to-first-character-of-all-svg-ids amenn
ambee use-handler-with-each-word-in-phrase point-to-svg-avar-ids-of-one-id-type list-of-svg-location-id-types amenn
ambee copy-words-unique-only list-of-pointers-to-first-character-of-all-svg-ids list-of-pointers-to-first-character-of-all-svg-ids amenn
ambee copy-words-sort-numeric list-of-pointers-to-first-character-of-all-svg-ids list-of-pointers-to-first-character-of-all-svg-ids amenn
ambee copy-text character-quotation text-to-find amenn
ambee generate-positions-of-first-matching-delimiter-after-listed-positions text-to-find loaded-svg-file list-of-pointers-to-first-character-of-all-svg-ids list-of-pointers-to-closing-delimiter amenn
ambee numeric-vector-add-number list-of-pointers-to-closing-delimiter -1 list-of-pointers-to-last-character-of-all-svg-ids amenn
ambee copy-words-unique-only list-of-pointers-to-first-character-of-all-svg-ids list-of-pointers-to-first-character-of-all-svg-ids amenn
ambee copy-words-sort-numeric list-of-pointers-to-first-character-of-all-svg-ids list-of-pointers-to-first-character-of-all-svg-ids amenn
ambee copy-words-unique-only list-of-pointers-to-last-character-of-all-svg-ids list-of-pointers-to-last-character-of-all-svg-ids amenn
ambee copy-words-sort-numeric list-of-pointers-to-last-character-of-all-svg-ids list-of-pointers-to-last-character-of-all-svg-ids amenn
ambee generate-counts-from-integer-to-integer 1 ambee get-count-of-words list-of-pointers-to-first-character-of-all-svg-ids amenn list-of-pointers-to-pointers amenn
ambee use-handler-with-each-word-in-phrase handle-get-one-svg-id-name list-of-pointers-to-pointers amenn
----
point-to-svg-avar-ids-of-one-id-type:
ambee copy-text word-to-use-in-handler id-type amenn
ambee copy-text svg-location-id-type fenambee id-type amenn text-to-find amenn
ambee generate-positions-of-delimiter text-to-find loaded-svg-file list-of-pointers-to-id-type-begin amenn
ambee clear-phrase list-of-pointers-to-id-type-begin-modified amenn
ambee use-handler-with-each-word-in-phrase check-for-non-alpha-before-id-type list-of-pointers-to-id-type-begin amenn
ambee copy-text list-of-pointers-to-id-type-begin-modified list-of-pointers-to-id-type-begin amenn
ambee put-into-phrase offset-distance ambee numeric-add 1 ambee get-count-of-characters text-to-find amenn amenn amenn
ambee clear-phrase list-of-pointers-to-avar-ids-of-one-type amenn

ambee if-no-begin ambee yes-or-no-empty-phrase list-of-pointers-to-id-type-begin amenn amenn
    ambee numeric-vector-add-number list-of-pointers-to-id-type-begin ambee offset-distance amenn list-of-pointers-to-avar-ids-of-one-type amenn
    ambee append-text list-of-pointers-to-avar-ids-of-one-type list-of-pointers-to-first-character-of-all-svg-ids amenn
ambee if-end amenn
----
check-for-non-alpha-before-id-type:
ambee copy-text word-to-use-in-handler pointer-to-id-type amenn
ambee copy-text pointer-to-id-type pointer-to-character-before-id-type amenn
ambee numeric-decrement pointer-to-character-before-id-type amenn
ambee copy-characters-from-position-to-position loaded-svg-file possible-alpha ambee pointer-to-character-before-id-type amenn ambee pointer-to-character-before-id-type amenn amenn
ambee copy-words-found-in-both-lists possible-alpha letters-of-alphabet empty-if-not-alpha amenn

ambee if-yes-begin ambee yes-or-no-empty-phrase empty-if-not-alpha amenn amenn
    ambee append-text pointer-to-id-type list-of-pointers-to-id-type-begin-modified amenn
ambee if-end amenn
----
letters-of-alphabet:
a b c d e f g h i j k l m n o p q r s t u v w x y z
----
handle-get-one-svg-id-name:
ambee copy-text word-to-use-in-handler pointer-to-pointer amenn
ambee copy-word-at-position list-of-pointers-to-first-character-of-all-svg-ids character-pointer-begin ambee pointer-to-pointer amenn amenn
ambee copy-text character-pointer-begin integer-threshold amenn
ambee copy-text list-of-pointers-to-last-character-of-all-svg-ids list-of-integers amenn
ambee find-nearest-integers-in-list amenn
ambee copy-text nearest-larger-integer character-pointer-end amenn
ambee copy-characters-from-position-to-position loaded-svg-file svg-id-name ambee character-pointer-begin amenn ambee character-pointer-end amenn amenn
ambee copy-and-replace svg-id-name svg-id-name-with-replacements character-space character-at-sign amenn
ambee copy-text character-pointer-begin integer-threshold amenn
ambee copy-text list-of-pointers-to-open-angle-brackets list-of-integers amenn
ambee find-nearest-integers-in-list amenn
ambee copy-text nearest-smaller-integer pointer-to-prior-open-angle-bracket amenn
ambee copy-text svg-id-name-with-replacements svg-id-name-for-object-starting-at-svg-character-position fenambee pointer-to-prior-open-angle-bracket amenn amenn
ambee append-text pointer-to-prior-open-angle-bracket list-of-character-pointers-for-combined-svg-info-to-delete amenn
----
point-to-all-svg-avar-values:
ambee use-handler-with-each-word-in-phrase point-to-svg-avar-values-of-one-svg-location-type list-of-svg-location-types amenn
ambee generate-counts-from-integer-to-integer 1 ambee get-count-of-words list-of-pointers-to-begin-svg-avar-values amenn list-of-pointers-to-pointers amenn
----
point-to-svg-avar-values-of-one-svg-location-type:
ambee copy-text word-to-use-in-handler svg-location-type amenn
ambee copy-text svg-location fenambee svg-location-type amenn svg-location amenn
ambee copy-word-at-position svg-location svg-location-word 1 amenn
ambee copy-and-replace svg-location-word svg-location-word character-at-sign character-space amenn
ambee generate-positions-of-delimiter svg-location-word loaded-svg-file list-of-pointers-to-found-text amenn
ambee numeric-vector-add-number list-of-pointers-to-found-text ambee get-count-of-characters svg-location-word amenn list-of-pointers-to-next-character-in-svg-avar-value amenn
ambee put-into-phrase word-count-for-svg-location ambee get-count-of-words svg-location amenn amenn
ambee generate-counts-from-integer-to-integer 2 ambee word-count-for-svg-location amenn list-of-pointers-to-svg-location-words amenn
ambee use-handler-with-each-word-in-phrase point-to-one-svg-avar-value-for-case-found-first-word list-of-pointers-to-next-character-in-svg-avar-value amenn
----
point-to-one-svg-avar-value-for-case-found-first-word:
ambee copy-text word-to-use-in-handler pointer-to-previous-next-character-in-svg-avar-value amenn
ambee clear-phrase location-word-previous amenn
ambee use-handler-with-each-word-in-phrase point-to-one-svg-avar-value-using-next-svg-location-word list-of-pointers-to-svg-location-words amenn
ambee handle-one-found-svg-avar-value amenn
----
point-to-one-svg-avar-value-using-next-svg-location-word:
ambee copy-text word-to-use-in-handler pointer-to-svg-location-word amenn
ambee copy-word-at-position svg-location svg-location-word ambee pointer-to-svg-location-word amenn amenn
ambee put-into-phrase length-of-svg-location-word ambee get-count-of-characters svg-location-word amenn amenn

ambee if-yes-begin ambee yes-or-no-same-two-phrase-definitions location-word location-word-previous amenn amenn
    ambee put-into-phrase character-pointer-minus-one ambee numeric-minus ambee pointer-to-previous-next-character-in-svg-avar-value amenn 1 amenn amenn
ambee if-end amenn

ambee generate-positions-of-first-matching-delimiter-after-listed-positions svg-location-word loaded-svg-file character-pointer-minus-one pointer-to-next-next-character-in-svg-avar-value amenn

combee
ambee put-into-phrase output-line string: amenn
ambee append-text svg-location-word output-line amenn
ambee copy-characters-from-position-to-position loaded-svg-file text-string ambee pointer-to-previous-next-character-in-svg-avar-value amenn ambee pointer-to-next-next-character-in-svg-avar-value amenn amenn
ambee copy-and-replace text-string text-string character-newline character-at-sign amenn
ambee append-text text-string output-line amenn
ambee write-output-line-to-log-file amenn
comenn

ambee if-no-begin ambee yes-or-no-same-two-words ambee pointer-to-svg-location-word amenn ambee word-count-for-svg-location amenn amenn amenn
    ambee put-into-phrase
        pointer-to-previous-next-character-in-svg-avar-value
        ambee numeric-add
            ambee pointer-to-next-next-character-in-svg-avar-value amenn
            ambee length-of-svg-location-word amenn
        amenn
    amenn
    ambee copy-text location-word location-word-previous amenn
ambee if-end amenn
----
handle-one-found-svg-avar-value:
ambee copy-text pointer-to-previous-next-character-in-svg-avar-value character-pointer-begin amenn
ambee copy-text pointer-to-next-next-character-in-svg-avar-value character-pointer-end amenn
ambee numeric-decrement character-pointer-end amenn

ambee if-yes-begin ambee yes-or-no-same-two-words less ambee numeric-equal-greater-less-compare ambee character-pointer-begin amenn 1 amenn amenn amenn
    ambee put-into-phrase character-pointer-begin 1 amenn
ambee if-end amenn

ambee if-yes-begin ambee yes-or-no-same-two-words less ambee numeric-equal-greater-less-compare ambee character-pointer-end amenn ambee character-pointer-begin amenn amenn amenn amenn
    ambee copy-text character-pointer-begin character-pointer-end amenn
    ambee numeric-increment character-pointer-end amenn
ambee if-end amenn

ambee copy-characters-from-position-to-position loaded-svg-file svg-avar-value ambee character-pointer-begin amenn ambee character-pointer-end amenn amenn
ambee copy-characters-from-position-to-position svg-avar-value svg-avar-value 1 50 amenn
ambee copy-and-replace svg-avar-value svg-avar-value character-newline character-space amenn
ambee copy-without-extra-spaces svg-avar-value svg-avar-value amenn
ambee copy-text svg-avar-value possible-number amenn
ambee determine-yes-or-no-is-number-for-possible-number amenn

ambee if-yes-begin ambee yes-or-no-is-number amenn amenn
    ambee put-combined-svg-avar-id-name-type-value amenn
ambee if-else amenn
    combee
    ambee put-into-phrase output-line at svg location type, not a number: amenn
    ambee append-text svg-location-type output-line amenn
    ambee append-text svg-avar-value output-line amenn
    ambee write-output-line-to-log-file amenn
    comenn
ambee if-end amenn
----
put-combined-svg-avar-id-name-type-value:
ambee copy-text pointer-to-previous-next-character-in-svg-avar-value integer-threshold amenn
ambee copy-text list-of-pointers-to-open-angle-brackets list-of-integers amenn
ambee find-nearest-integers-in-list amenn
ambee copy-text svg-id-name-for-object-starting-at-svg-character-position fenambee nearest-smaller-integer amenn svg-id-name amenn
ambee copy-and-replace svg-avar-value svg-avar-value-without-spaces character-space character-at-sign amenn
ambee copy-text svg-id-name combined-svg-id-name-location-type-avar-value amenn
ambee append-text-no-space character-underscore combined-svg-id-name-location-type-avar-value amenn
ambee append-text-no-space character-underscore combined-svg-id-name-location-type-avar-value amenn
ambee append-text-no-space svg-location-type combined-svg-id-name-location-type-avar-value amenn
ambee append-text-no-space character-underscore combined-svg-id-name-location-type-avar-value amenn
ambee append-text-no-space character-underscore combined-svg-id-name-location-type-avar-value amenn
ambee append-text-no-space svg-avar-value-without-spaces combined-svg-id-name-location-type-avar-value amenn
ambee append-text combined-svg-id-name-location-type-avar-value list-of-avar-id-location-type-value-items-at-keyframe-number fenambee script-keyframe-number amenn amenn

combee
ambee put-into-phrase output-line combined text: amenn
ambee append-text combined-svg-id-name-location-type-avar-value output-line amenn
ambee write-output-line-to-log-file amenn
comenn
----
copy-from-loaded-svg-file-to-avar-value:
ambee if-yes-begin ambee yes-or-no-empty-phrase starting-pointer amenn amenn
    ambee put-into-phrase starting-pointer 1 amenn
ambee if-end amenn

ambee clear-phrase avar-value-current amenn
ambee clear-phrase list-of-starting-pointers amenn
ambee use-handler-with-each-word-in-phrase handle-one-svg-location-word svg-location amenn
ambee copy-words-order-reversed list-of-starting-pointers list-of-starting-pointers-reversed amenn
ambee copy-word-at-position list-of-starting-pointers-reversed pointer-end-value 1 amenn
ambee copy-word-at-position list-of-starting-pointers-reversed pointer-start-value 2 amenn
ambee put-into-phrase text-length ambee get-count-of-characters location-word-previous amenn amenn
ambee put-into-phrase
    pointer-start-value
    ambee numeric-add
        ambee pointer-start-value amenn
        ambee text-length amenn
    amenn
amenn
ambee numeric-decrement pointer-end-value amenn
ambee copy-characters-from-position-to-position loaded-svg-file avar-value-current ambee pointer-start-value amenn ambee pointer-end-value amenn amenn
----
handle-one-svg-location-word:
ambee copy-text location-word location-word-previous amenn
ambee copy-text word-to-use-in-handler location-word amenn
ambee generate-positions-of-first-matching-delimiter-after-listed-positions location-word loaded-svg-file starting-pointer next-starting-pointer amenn
ambee append-text next-starting-pointer list-of-starting-pointers amenn
ambee copy-text next-starting-pointer starting-pointer amenn

ambee put-into-phrase output-line getting avar value: amenn
ambee append-text location-word output-line amenn
ambee append-text list-of-starting-pointers output-line amenn
ambee write-output-line-to-log-file amenn
----
if-needed-convert-interval-seconds-into-frames:
ambee if-yes-begin ambee yes-or-no-empty-phrase yes-if-already-converted-seconds-into-frames amenn amenn
    ambee multiple-convert-interval-seconds-to-frames amenn
    ambee put-into-phrase yes-if-already-converted-seconds-into-frames yes amenn
ambee if-end amenn
----
read-and-process-script:
ambee load-script-file amenn
ambee parse-animation-script amenn

ambee put-into-phrase output-line script processed amenn
ambee write-output-line-to-log-file amenn
----
load-script-file:
ambee linewise-read-from-standard-input handle-read-one-line-of-script-file amenn
ambee copy-and-replace loaded-script-file loaded-script-file character-newline character-space amenn
ambee copy-without-extra-spaces loaded-script-file loaded-script-file amenn
----
handle-read-one-line-of-script-file:
ambee append-text linewise-input-line-from-file loaded-script-file amenn
----
parse-animation-script:
ambee use-handler-with-each-word-in-phrase parse-next-word-in-script loaded-script-file amenn
----
parse-next-word-in-script:
ambee copy-text word-to-use-in-handler word-in-script amenn
ambee copy-words-found-in-both-lists word-in-script list-of-valid-script-leading-word-single-value valid-script-leading-word-single-value amenn
ambee copy-words-found-in-both-lists word-in-script list-of-valid-script-leading-word-multiple-values valid-script-leading-word-multiple-values amenn
ambee copy-words-that-begin-with-listed-words word-in-script valid-allowed-phrase-name list-of-allowed-phrase-name-beginnings-for-multiple-values amenn
ambee copy-text valid-script-leading-word-single-value leading-word-any-type amenn
ambee append-text valid-script-leading-word-multiple-values leading-word-any-type amenn
ambee append-text valid-allowed-phrase-name leading-word-any-type amenn

ambee if-no-begin ambee yes-or-no-empty-phrase leading-word-any-type amenn amenn
    ambee copy-text word-in-script preceding-leading-word-in-script amenn
ambee if-else amenn
    ambee handle-script-word-not-leading-word amenn
ambee if-end amenn
----
list-of-allowed-phrase-name-beginnings-for-multiple-values:
interpolation-numbers-for-transition
----
handle-script-word-not-leading-word:
ambee copy-characters-from-position-to-position word-in-script word-prefix 1 8 amenn
ambee if-yes-begin ambee yes-or-no-same-two-phrase-definitions word-prefix word-keyframe amenn amenn
    ambee clear-phrase preceding-leading-word-in-script amenn
    ambee copy-text word-keyframe category-of-word-in-script amenn
    ambee handle-script-word-by-category amenn
ambee if-else amenn
    ambee handle-script-word-not-keyframe amenn
ambee if-end amenn
----
handle-script-word-not-keyframe:
ambee if-yes-begin ambee yes-or-no-empty-phrase preceding-leading-word-in-script amenn amenn
    ambee clear-phrase preceding-leading-word-in-script amenn
    ambee clear-phrase category-of-word-in-script amenn
    ambee handle-script-word-by-category amenn
ambee if-else amenn
    ambee handle-script-word-follows-leading-word amenn
ambee if-end amenn
----
handle-script-word-follows-leading-word:
ambee copy-words-found-in-both-lists preceding-leading-word-in-script list-of-valid-script-leading-word-single-value valid-script-leading-word-single-value amenn

ambee if-no-begin ambee yes-or-no-empty-phrase valid-script-leading-word-single-value amenn amenn
    ambee copy-text word-in-script ambee get-phrase-name-from-phrase valid-script-leading-word-single-value amenn amenn
    ambee clear-phrase preceding-leading-word-in-script amenn

ambee put-into-phrase output-line single case: amenn
ambee append-text valid-script-leading-word-single-value output-line amenn
ambee write-output-line-to-log-file amenn

ambee if-end amenn

ambee copy-words-found-in-both-lists preceding-leading-word-in-script list-of-valid-script-leading-word-multiple-values valid-script-leading-word-multiple-values amenn

ambee if-no-begin ambee yes-or-no-empty-phrase valid-script-leading-word-multiple-values amenn amenn
    ambee append-text word-in-script ambee get-phrase-name-from-phrase valid-script-leading-word-multiple-values amenn amenn

ambee put-into-phrase output-line multiple case: amenn
ambee append-text valid-script-leading-word-multiple-values output-line amenn
ambee write-output-line-to-log-file amenn

ambee if-end amenn

ambee copy-words-that-begin-with-listed-words preceding-leading-word-in-script valid-allowed-phrase-name list-of-allowed-phrase-name-beginnings-for-multiple-values amenn

ambee if-no-begin ambee yes-or-no-empty-phrase valid-allowed-phrase-name amenn amenn
    ambee append-text word-in-script ambee get-phrase-name-from-phrase valid-allowed-phrase-name amenn amenn

ambee put-into-phrase output-line begins with allowed: amenn
ambee append-text valid-allowed-phrase-name output-line amenn
ambee write-output-line-to-log-file amenn

ambee if-end amenn
----
handle-script-word-by-category:
ambee if-yes-begin ambee yes-or-no-same-two-phrase-definitions word-in-script character-open-square-bracket amenn amenn
    ambee put-into-phrase category-of-word-in-script caption-begin amenn
ambee if-end amenn

ambee if-yes-begin ambee yes-or-no-same-two-phrase-definitions word-in-script character-close-square-bracket amenn amenn
    ambee put-into-phrase category-of-word-in-script caption-end amenn
ambee if-end amenn

ambee copy-text word-in-script possible-number amenn
ambee determine-yes-or-no-is-number-for-possible-number amenn
ambee if-yes-begin ambee yes-or-no-is-number amenn amenn
    ambee put-into-phrase category-of-word-in-script is-number amenn
ambee if-end amenn

ambee copy-characters-from-position-to-position word-in-script word-prefix 1 8 amenn
ambee if-yes-begin ambee yes-or-no-same-two-phrase-definitions word-prefix word-keyframe amenn amenn
    ambee copy-text word-keyframe category-of-word-in-script amenn
    ambee if-needed-convert-interval-seconds-into-frames amenn
ambee if-end amenn

ambee copy-words-found-in-both-lists category-of-word-in-script list-of-valid-cases-for-word-in-script valid-category-of-word-in-script amenn

ambee if-no-begin ambee yes-or-no-empty-phrase valid-category-of-word-in-script amenn amenn
    ambee handle-script-word-case fenambee valid-category-of-word-in-script amenn amenn
ambee if-end amenn
----
list-of-valid-script-leading-word-multiple-values:
avars-skip
avars-only
----
list-of-valid-script-leading-word-single-value:
frames-per-second
path-to-current-folder
----
list-of-valid-cases-for-word-in-script:
keyframe
is-number
caption-begin
caption-text
caption-end
----
word-keyframe:
keyframe
----
handle-script-word-case-keyframe:
ambee numeric-increment script-keyframe-number amenn
ambee numeric-increment script-frame-number amenn
ambee copy-text script-frame-number frame-number-for-keyframe-number fenambee script-keyframe-number amenn amenn
ambee copy-text word-in-script filename-svg-keyframe-for-keyframe-number fenambee script-keyframe-number amenn amenn
ambee clear-phrase leading-word-in-script amenn
ambee copy-text script-frame-number last-frame-number amenn

ambee put-into-phrase output-line last frame number: amenn
ambee append-text last-frame-number output-line amenn
ambee write-output-line-to-log-file amenn

ambee copy-text script-frame-number output-line amenn
ambee append-text word-in-script output-line amenn
ambee append-text script-keyframe-number output-line amenn
ambee write-output-line-to-log-file amenn
----
handle-script-word-case-caption-text:
ambee append-text word-in-script caption-text-number fenambee caption-number amenn amenn
----
handle-script-word-case-caption-begin:
ambee numeric-increment caption-number amenn
ambee clear-phrase leading-word-in-script amenn
----
handle-script-word-case-caption-end:
ambee expand-text caption-text-number fenambee caption-number amenn expanded-text amenn
ambee copy-zero-pad-left-to-length script-frame-number script-frame-number-zero-padded 7 amenn
ambee copy-text expanded-text at-frame fenambee script-frame-number-zero-padded amennfen new-caption amenn
ambee clear-phrase leading-word-in-script amenn

ambee copy-text script-frame-number output-line amenn
ambee append-text expanded-text output-line amenn
ambee write-output-line-to-log-file amenn

ambee put-into-phrase
    script-frame-number
    ambee numeric-add
        ambee script-frame-number amenn
        ambee interval-frames-duration-for-caption-default amenn
    amenn
amenn
----
italics-begin:
<ib> no-space
----
italics-end:
no-space <ie>
----
handle-script-word-case-is-number:
ambee copy-text word-in-script interval-seconds amenn
ambee convert-interval-seconds-to-frames amenn
ambee put-into-phrase
    script-frame-number
    ambee numeric-add
        ambee interval-frames amenn
        ambee script-frame-number amenn
    amenn
amenn
ambee clear-phrase leading-word-in-script amenn

ambee copy-text script-frame-number output-line amenn
ambee write-output-line-to-log-file amenn
----
frames-per-second:
30
----
inkscape-height-pixels:
720
----
inkscape-width-pixels:
1280
----
video-width-pixels:
640
----
video-height-pixels:
360
----
frame-number-end-scene:
0
----
folder-keyframe-files:
keyframe_files
----
folder-avar-info-files:
avar_info_files
----
folder-generated-images:
images
----
folder-generated-svg-files:
generated_svg_files
----
filename-generated-batch-commands-do-render:
generated_batch_file_do_render.txt
----
filename-batch-file-do-render-begin:
template_batch_file_begin.txt
----
filename-batch-file-do-render-end:
template_batch_file_end.txt
----
template-command-do-render:
%InkscapePath%inkscape character-hyphen no-space character-hyphen no-space file= template-filename-generated-svg character-hyphen no-space character-hyphen no-space export-png= filename-image-png-template > output_from_inkscape.txt new-line
----
template-filename-generated-svg:
output_svg_generated_image_ no-space frame-number-zero-padded no-space .svg
----
filename-image-png-template:
generated_image_png_ no-space frame-number-zero-padded no-space .txt
----
filename-list-of-image-png-filenames:
generated_list_of_png_files_for_video_converter.txt
----
character-at-sign:
@
----
character-quotation:
"
----
character-open-angle-bracket:
<
----
list-of-svg-location-id-types:
label
id
----
svg-location-id-type-label:
label=
----
svg-location-id-type-id:
id=
combee
other code checks for space, so that xyzid= does not match
comenn
----
list-of-svg-location-types:
position-x
position-y
center-x
center-y
radius-x
radius-y
translate-x
translate-y
height
width
height-percent
width-percent
transform-matrix-value-a
transform-matrix-value-b
transform-matrix-value-c
transform-matrix-value-d
transform-matrix-value-e
transform-matrix-value-f
opacity
opacity-fill
----
svg-location-width:
width= " "
----
svg-location-height:
height= " "
----
svg-location-width-percent:
width= " %"
----
svg-location-height-percent:
height= " %"
----
svg-location-radius-x:
rx= " "
----
svg-location-radius-y:
ry= " "
----
svg-location-center-x:
cx= " "
----
svg-location-center-y:
cy= " "
----
svg-location-position-x:
@x= " "
----
svg-location-position-y:
@y= " "
----
svg-location-translate-x:
transform="translate ( ,
----
svg-location-translate-y:
transform="translate ( , )
----
svg-location-transform-matrix-value-a:
transform="matrix ( ,
----
svg-location-transform-matrix-value-b:
transform="matrix ( , ,
----
svg-location-transform-matrix-value-c:
transform="matrix ( , , ,
----
svg-location-transform-matrix-value-d:
transform="matrix ( , , , ,
----
svg-location-transform-matrix-value-e:
transform="matrix ( , , , , ,
----
svg-location-transform-matrix-value-f:
transform="matrix ( , , , , , )
----
svg-location-of-opacity:
style="opacity : ;
----
svg-location-of-opacity-fill:
fill-opacity : ;
----
svg-location-of-caption-text:
caption text " "
----
svg-location-of-caption-opacity:
caption opacity " %"
----
svg-location-of-big-text:
big_text text " "
----
svg-location-of-big-text-opacity:
big_text opacity " %"
----
initialize-file-info:
ambee clear-phrase dashrep-path-prefix-for-file-reading amenn
ambee clear-phrase dashrep-path-prefix-for-file-writing amenn
ambee put-into-phrase output-filename-log-file  output_animation_log.txt  amenn
ambee delete-file ambee output-filename-log-file amenn amenn
ambee copy-text folder-generated-svg-files folder-name amenn
ambee generate-full-path-using-folder-name amenn
ambee copy-text full-path path-to-generated-svg-files amenn
ambee copy-text folder-avar-info-files folder-name amenn
ambee generate-full-path-using-folder-name amenn
ambee copy-text full-path path-to-avar-info-files amenn
ambee copy-text folder-keyframe-files folder-name amenn
ambee generate-full-path-using-folder-name amenn
ambee copy-text full-path path-to-keyframe-files amenn
ambee copy-text folder-generated-images folder-name amenn
ambee generate-full-path-using-folder-name amenn
ambee copy-text full-path path-to-generated-images amenn
ambee clear-phrase dashrep-path-prefix-for-file-reading amenn
ambee clear-phrase dashrep-path-prefix-for-file-writing amenn
ambee delete-file ambee filename-list-of-image-png-filenames amenn amenn
ambee delete-file ambee filename-generated-batch-commands-do-render amenn amenn
ambee put-into-phrase output-line file initialization done amenn
ambee write-output-line-to-log-file amenn
----
generate-full-path-using-folder-name:
ambee copy-text path-to-current-folder full-path amenn
ambee append-text-no-space folder-name full-path amenn
ambee copy-characters-from-position-to-position full-path last-character ambee get-count-of-characters full-path amenn 9999 amenn

ambee if-yes-begin ambee yes-or-no-empty-phrase full-path amenn amenn
    ambee copy-text operating-system-slash-or-backslash last-character amenn
ambee if-end amenn

ambee if-no-begin ambee yes-or-no-same-two-phrase-definitions last-character operating-system-slash-or-backslash amenn amenn
    ambee append-text-no-space operating-system-slash-or-backslash full-path amenn
ambee if-end amenn
----
write-generated-files:
ambee clear-phrase dashrep-path-prefix-for-file-reading amenn
ambee clear-phrase dashrep-path-prefix-for-file-writing amenn
ambee copy-from-phrase-append-to-file list-of-files-for-png-to-video-converter ambee filename-list-of-image-png-filenames amenn amenn
ambee copy-from-file-to-phrase ambee filename-batch-file-do-render-begin amenn batch-commands-do-render-begin amenn
ambee copy-from-file-to-phrase ambee filename-batch-file-do-render-end amenn batch-commands-do-render-end amenn
ambee copy-text batch-commands-do-render-begin batch-commands-do-render-all amenn
ambee append-new-line batch-commands-do-render-all amenn
ambee append-text-no-space generated-batch-commands-do-render batch-commands-do-render-all amenn
ambee append-text-no-space batch-commands-do-render-end batch-commands-do-render-all amenn
ambee clear-phrase dashrep-path-prefix-for-file-writing amenn
ambee copy-from-phrase-append-to-file batch-commands-do-render-all ambee filename-generated-batch-commands-do-render amenn amenn
ambee put-into-phrase output-line output files written amenn
ambee write-output-line-to-log-file amenn
----
load-svg-file:
ambee clear-phrase loaded-svg-file amenn
ambee copy-text path-to-keyframe-files dashrep-path-prefix-for-file-reading amenn

ambee if-no-begin ambee yes-or-no-empty-phrase filename-svg-keyframe amenn amenn
ambee copy-from-file-to-phrase ambee filename-svg-keyframe amenn loaded-svg-file amenn
ambee if-end amenn

ambee put-into-phrase length-of-loaded-svg-file ambee get-count-of-characters loaded-svg-file amenn amenn

ambee if-yes-begin ambee yes-or-no-same-two-words greater ambee numeric-equal-greater-less-compare ambee length-of-loaded-svg-file amenn 100 amenn amenn amenn
    ambee put-into-phrase yes-or-no-svg-file-found yes amenn
    ambee put-into-phrase output-line svg file found: amenn
ambee if-else amenn
    ambee put-into-phrase yes-or-no-svg-file-found no amenn
    ambee put-into-phrase output-line warning, file not found: amenn
ambee if-end amenn
ambee append-text dashrep-path-prefix-for-file-reading output-line amenn
ambee append-text filename-svg-keyframe output-line amenn
ambee write-output-line-to-log-file amenn
----
scale-size:
3.5
----
convert-rotation-size-move-into-transform-coefficients:
ambee copy-text rotation-angle-degrees angle-degrees amenn
ambee convert-degrees-into-radians amenn
ambee put-into-phrase transform-coefficient-a ambee numeric-multiply ambee scale-size amenn ambee numeric-sine ambee angle-radians amenn amenn amenn amenn
ambee put-into-phrase transform-coefficient-b ambee numeric-multiply ambee scale-size amenn ambee numeric-cosine ambee angle-radians amenn amenn amenn amenn
ambee put-into-phrase transform-coefficient-c ambee numeric-minus 0 ambee numeric-multiply ambee scale-size amenn ambee numeric-cosine ambee angle-radians amenn amenn amenn amenn amenn
ambee put-into-phrase transform-coefficient-d ambee numeric-multiply ambee scale-size amenn ambee numeric-sine ambee angle-radians amenn amenn amenn amenn
ambee put-into-phrase transform-coefficient-e ambee x-move-pixels amenn amenn
ambee put-into-phrase transform-coefficient-f ambee y-move-pixels amenn amenn

combee
x = Ax + Cy + E
y = Bx + Dy + F
A = D = sin(theta)
B = -C = cos(theta)
transform="matrix(1.0,0.0,0.0,1.0,0.2,0.2)"
transform="matrix(0.22274221,-0.04554339,0.11351611,0.0893656,299.46521,747.88773)"
comenn

ambee clear-phrase output-line amenn
ambee put-into-phrase output-line transform: amenn
ambee append-text angle-radians output-line amenn
ambee append-text transform-coefficient-a output-line amenn
ambee append-text transform-coefficient-b output-line amenn
ambee append-text transform-coefficient-c output-line amenn
ambee append-text transform-coefficient-d output-line amenn
ambee append-text transform-coefficient-e output-line amenn
ambee append-text transform-coefficient-f output-line amenn
ambee write-output-line-to-log-file amenn
----
convert-degrees-into-radians:
ambee put-into-phrase angle-radians ambee numeric-multiply ambee angle-degrees amenn ambee numeric-divide-by ambee numeric-pi amenn 180 amenn amenn amenn
----
numeric-pi:
3.14159
----
get-phrase-names-that-begin-with-phrase-name-prefix:
ambee copy-and-replace phrase-name-prefix phrase-name-prefix character-space character-hyphen amenn
ambee append-text-no-space character-hyphen phrase-name-prefix amenn
ambee generate-list-of-all-dashrep-phrases list-of-all-phrase-names amenn
ambee copy-words-that-begin-with-text list-of-all-phrase-names list-of-phrase-names-beginning-with-prefix phrase-name-prefix amenn
ambee copy-and-replace list-of-phrase-names-beginning-with-prefix list-of-phrase-names-suffix phrase-name-prefix empty-text amenn
----
interval-seconds-for-seconds-one:
1
----
interval-seconds-for-seconds-two:
2
----
multiple-convert-interval-seconds-to-frames:
ambee put-into-phrase phrase-name-prefix interval seconds amenn
ambee get-phrase-names-that-begin-with-phrase-name-prefix amenn
ambee use-handler-with-each-word-in-phrase handle-one-convert-interval-seconds-to-frames list-of-phrase-names-suffix amenn

ambee put-into-phrase output-line generated interval seconds phrases amenn
ambee write-output-line-to-log-file amenn
----
handle-one-convert-interval-seconds-to-frames:
ambee copy-text word-to-use-in-handler phrase-name-suffix amenn
ambee copy-text interval-seconds-for fenambee phrase-name-suffix amenn interval-seconds amenn
ambee convert-interval-seconds-to-frames amenn
ambee copy-text interval-frames interval-frames fenambee phrase-name-suffix amenn amenn
----
convert-interval-seconds-to-frames:
ambee put-into-phrase
    interval-frames
    ambee numeric-integer
        ambee numeric-multiply
            ambee frames-per-second amenn
            ambee interval-seconds amenn
        amenn
    amenn
amenn
----
test-convert-x-y-move-percent-to-x-y-move-pixels:
ambee put-into-phrase x-move-percent 20 amenn
ambee put-into-phrase y-move-percent 20 amenn
ambee convert-x-y-move-percent-to-x-y-move-pixels amenn
----
convert-x-y-move-percent-to-x-y-move-pixels:

combee todo: debug this code comenn

ambee put-into-phrase
    x-move-pixels 
    ambee numeric-integer
        ambee numeric-divide-by
            ambee numeric-multiply
                ambee x-move-percent amenn
                ambee inkscape-width-pixels amenn
            amenn
            100
        amenn
    amenn
amenn
ambee put-into-phrase
    y-move-pixels 
    ambee numeric-integer
        ambee numeric-minus
            100
            ambee numeric-divide-by
                ambee numeric-multiply
                    ambee y-move-percent amenn
                    ambee inkscape-height-pixels amenn
                amenn
                100
            amenn
        amenn
    amenn
amenn
----
convert-x-y-percent-to-x-y-pixels:
ambee put-into-phrase
    x-pixels 
    ambee numeric-integer
        ambee numeric-divide-by
            ambee numeric-multiply
                ambee numeric-minus
                    100
                    ambee x-percent amenn
                amenn
                ambee inkscape-width-pixels amenn
            amenn
            100
        amenn
    amenn
amenn
ambee put-into-phrase
    y-pixels 
    ambee numeric-integer
        ambee numeric-divide-by
            ambee numeric-multiply
                ambee y-percent amenn
                ambee inkscape-height-pixels amenn
            amenn
            100
        amenn
    amenn
amenn
combee
ambee clear-phrase output-line amenn
ambee put-into-phrase output-line x y percent and pixels: amenn
ambee append-text x-percent output-line amenn
ambee append-text inkscape-width-pixels output-line amenn
ambee append-text x-pixels output-line amenn
ambee append-text y-percent output-line amenn
ambee append-text inkscape-height-pixels output-line amenn
ambee append-text y-pixels output-line amenn
ambee write-output-line-to-log-file amenn
comenn
----
determine-yes-or-no-is-number-for-possible-number:
ambee copy-characters-from-position-to-position possible-number possible-minus-sign 1 1 amenn

ambee if-yes-begin ambee yes-or-no-same-two-phrase-definitions possible-minus-sign character-hyphen amenn amenn
    ambee copy-characters-from-position-to-position possible-number possible-number-positive 2 9999 amenn
ambee if-else amenn
    ambee copy-text possible-number possible-number-positive amenn
ambee if-end amenn

ambee if-yes-begin ambee yes-or-no-empty-phrase possible-number-positive amenn amenn
    ambee copy-text character-underscore possible-number-positive amenn
ambee if-end amenn

ambee copy-and-replace possible-number-positive is-number-if-only-asterisks character-asterisk character-underscore amenn
ambee copy-and-replace-using-paired-listed-words is-number-if-only-asterisks is-number-if-only-asterisks replacement-pairs-valid-numeric-characters-to-asterisk amenn
ambee copy-and-replace is-number-if-only-asterisks is-number-if-empty character-asterisk character-space amenn

ambee if-yes-begin ambee yes-or-no-empty-phrase is-number-if-empty amenn amenn
    ambee put-into-phrase yes-or-no-is-number yes amenn
ambee if-else amenn
    ambee put-into-phrase yes-or-no-is-number no amenn
ambee if-end amenn
----
replacement-pairs-valid-numeric-characters-to-asterisk:
0 * 1 * 2 * 3 * 4 * 5 * 6 * 7 * 8 * 9 * . *
----
character-nine:
9
----
character-asterisk:
*
----
test-find-nearest-integers-in-list:
ambee put-into-phrase integer-threshold 50 amenn
ambee put-into-phrase list-of-integers -3 7 24 52 61 85 99 100 amenn
ambee find-nearest-integers-in-list amenn

ambee put-into-phrase output-line largest smallest etc: amenn
ambee append-text nearest-smaller-integer output-line amenn
ambee append-text nearest-larger-integer output-line amenn
ambee write-output-line-to-log-file amenn
----
find-nearest-integers-in-list:
ambee copy-word-at-position list-of-integers nearest-smaller-integer 1 amenn
ambee copy-word-at-position list-of-integers nearest-larger-integer 9999999 amenn
ambee use-handler-with-each-word-in-phrase handle-check-for-nearest-integer-in-list list-of-integers amenn
----
handle-check-for-nearest-integer-in-list:
ambee copy-text word-to-use-in-handler next-integer amenn
ambee put-into-phrase yes-or-no-greater-than-threshold no amenn
ambee put-into-phrase yes-or-no-less-than-threshold no amenn
ambee put-into-phrase yes-or-no-greater-than-nearest-smaller no amenn
ambee put-into-phrase yes-or-no-less-than-nearest-larger no amenn

ambee if-yes-begin ambee yes-or-no-same-two-words greater ambee numeric-equal-greater-less-compare ambee next-integer amenn ambee integer-threshold amenn amenn amenn amenn
    ambee put-into-phrase yes-or-no-greater-than-threshold yes amenn
ambee if-end amenn

ambee if-yes-begin ambee yes-or-no-same-two-words less ambee numeric-equal-greater-less-compare ambee next-integer amenn ambee integer-threshold amenn amenn amenn amenn
    ambee put-into-phrase yes-or-no-less-than-threshold yes amenn
ambee if-end amenn

ambee if-yes-begin ambee yes-or-no-same-two-words greater ambee numeric-equal-greater-less-compare ambee next-integer amenn ambee nearest-smaller-integer amenn amenn amenn amenn
    ambee put-into-phrase yes-or-no-greater-than-nearest-smaller yes amenn
ambee if-end amenn

ambee if-yes-begin ambee yes-or-no-same-two-words less ambee numeric-equal-greater-less-compare ambee next-integer amenn ambee nearest-larger-integer amenn amenn amenn amenn
    ambee put-into-phrase yes-or-no-less-than-nearest-larger yes amenn
ambee if-end amenn

ambee if-yes-begin ambee yes-if-all-yes ambee yes-or-no-less-than-threshold amenn ambee yes-or-no-greater-than-nearest-smaller amenn amenn amenn
    ambee copy-text next-integer nearest-smaller-integer amenn
ambee if-end amenn

ambee if-yes-begin ambee yes-if-all-yes ambee yes-or-no-greater-than-threshold amenn ambee yes-or-no-less-than-nearest-larger amenn amenn amenn
    ambee copy-text next-integer nearest-larger-integer amenn
ambee if-end amenn

combee
ambee clear-phrase output-line amenn
ambee put-into-phrase output-line info: amenn
ambee append-text next-integer output-line amenn
ambee append-text nearest-smaller-integer output-line amenn
ambee append-text nearest-larger-integer output-line amenn
ambee append-text yes-or-no-greater-than-threshold output-line amenn
ambee append-text yes-or-no-less-than-threshold output-line amenn
ambee append-text yes-or-no-greater-than-nearest-smaller output-line amenn
ambee append-text yes-or-no-less-than-nearest-larger output-line amenn
ambee write-output-line-to-log-file amenn
comenn
----
round-decimal-value-to-four-digits:
ambee put-into-phrase
    decimal-value
    ambee numeric-divide-by
        ambee numeric-integer
            ambee numeric-multiply
                ambee decimal-value amenn
                1000
            amenn
        amenn
        1000
    amenn
amenn
----

interval-seconds-default-caption-duration:
2
----
interval-seconds-duration-for-caption-default:
2
----
interval-seconds-caption-fade-in:
0.3
----
interval-seconds-caption-fade-out:
0.4
----
avar-id-caption-text:
caption_text
----
avar-id-caption-background:
caption_background
----
list-of-avar-ids-exclude-from-interpolation:
avar-caption-text
----
handle-all-captions:
ambee calculate-frame-numbers-for-captions amenn
ambee generate-caption-directives amenn

ambee put-into-phrase output-line success, handled all captions amenn
ambee write-output-line-to-log-file amenn
----
calculate-frame-numbers-for-captions:

combee
todo: integrate this older code with new script approach and new transition approach.
ambee copy-words-found-in-both-lists list-of-source-code-words list-of-phrase-names-beginning-with-prefix list-of-phrase-names-beginning-with-prefix amenn
comenn

ambee put-into-phrase phrase-name-prefix text for caption amenn
ambee copy-and-replace phrase-name-prefix phrase-name-prefix character-space character-hyphen amenn
ambee append-text-no-space character-hyphen phrase-name-prefix amenn
ambee generate-list-of-all-dashrep-phrases list-of-all-phrase-names amenn
ambee copy-words-that-begin-with-text list-of-all-phrase-names list-of-phrase-names-beginning-with-prefix phrase-name-prefix amenn

ambee copy-and-replace list-of-phrase-names-beginning-with-prefix list-of-caption-names phrase-name-prefix empty-text amenn

ambee use-handler-with-each-word-in-phrase handle-calculate-frame-numbers-for-one-caption list-of-caption-names amenn
----
handle-calculate-frame-numbers-for-one-caption:
ambee copy-text word-to-use-in-handler caption-name amenn

ambee if-no-begin ambee yes-or-no-empty-phrase interval-frames-duration-for-caption fenambee caption-name amenn amenn amenn
    ambee copy-text interval-frames-duration-for-caption fenambee caption-name amenn frame-count-for-current-caption amenn
ambee if-else amenn
    ambee copy-text interval-frames-duration-for-caption-default frame-count-for-current-caption amenn
ambee if-end amenn

ambee if-yes-begin ambee yes-or-no-empty-phrase interval-frames-at-begin-caption fenambee caption-name amenn amenn amenn
    ambee copy-text interval-frames-at-end-caption fenambee previous-caption-name amenn interval-frames-at-begin-caption fenambee caption-name amenn amenn
    ambee numeric-increment interval-frames-at-begin-caption fenambee caption-name amenn amenn
ambee if-end amenn

ambee put-into-phrase
    interval-frames-at-end-caption fenambee caption-name amenn
    ambee numeric-add
        ambee interval-frames-at-begin-caption fenambee caption-name amenn amenn
        ambee frame-count-for-current-caption amenn
    amenn
amenn
ambee numeric-increment interval-frames-at-end-caption fenambee caption-name amenn amenn
ambee copy-text caption-name previous-caption-name amenn
----
generate-caption-directives:
ambee put-into-phrase frame-number-zero-padded 0000 amenn
ambee put-into-phrase value-at-frame fenambee frame-number-zero-padded amennfen for-avar-caption-opacity 0.0 amenn
ambee clear-phrase value-at-frame fenambee frame-number-zero-padded amennfen for-avar-caption-text amenn
ambee use-handler-with-each-word-in-phrase generate-directives-for-one-caption list-of-caption-names amenn
----
generate-directives-for-one-caption:
ambee copy-text word-to-use-in-handler caption-name amenn

ambee if-yes-begin ambee yes-or-no-empty-phrase interval-frames-at-begin-caption fenambee caption-name amenn amenn amenn
    ambee numeric-increment frame-caption-end amenn
    ambee copy-text frame-caption-end interval-frames-at-begin-caption fenambee caption-name amenn amenn
ambee if-end amenn

ambee copy-text interval-frames-at-begin-caption fenambee caption-name amenn frame-caption-begin amenn
ambee copy-text interval-frames-at-end-caption fenambee caption-name amenn frame-caption-end amenn
ambee copy-zero-pad-left-to-length frame-caption-begin frame-number-zero-padded 4 amenn
ambee copy-text text-for-caption fenambee caption-name amenn value-at-frame fenambee frame-number-zero-padded amennfen for-avar-caption-text amenn
ambee put-into-phrase value-at-frame fenambee frame-number-zero-padded amennfen for-avar-caption-opacity 0.0 amenn
ambee copy-zero-pad-left-to-length frame-caption-end frame-number-zero-padded 4 amenn
ambee put-into-phrase value-at-frame fenambee frame-number-zero-padded amennfen for-avar-caption-opacity 0.0 amenn
ambee put-into-phrase
    frame-caption-end-fade-in
    ambee numeric-add
        ambee frame-caption-begin amenn
        ambee interval-frames-caption-fade-in amenn
    amenn
amenn
ambee copy-zero-pad-left-to-length frame-caption-end-fade-in frame-number-zero-padded 4 amenn
ambee put-into-phrase value-at-frame fenambee frame-number-zero-padded amennfen for-avar-caption-opacity 1.0 amenn
ambee put-into-phrase
    frame-caption-begin-fade-out
    ambee numeric-minus
        ambee frame-caption-end amenn
        ambee interval-frames-caption-fade-in amenn
    amenn
amenn
ambee copy-zero-pad-left-to-length frame-caption-begin-fade-out frame-number-zero-padded 4 amenn
ambee put-into-phrase value-at-frame fenambee frame-number-zero-padded amennfen for-avar-caption-opacity 1.0 amenn

combee
ambee clear-phrase output-line amenn
ambee put-into-phrase output-line fade out: amenn
ambee append-text frame-number-zero-padded output-line amenn
ambee write-output-line-to-log-file amenn
comenn
----
request-render-frame:
ambee copy-zero-pad-left-to-length frame-number-to-render frame-number-zero-padded 4 amenn
ambee expand-text template-filename-generated-svg filename-generated-svg amenn
ambee add-png-filename-to-list-of-files-for-png-to-video-converter amenn
ambee expand-text template-command-do-render command-do-render amenn
ambee append-text-no-space command-do-render generated-batch-commands-do-render amenn
----
add-png-filename-to-list-of-files-for-png-to-video-converter:
ambee expand-text filename-image-png-template filename-png-rendered amenn
ambee put-into-phrase file-line-for-video-converter file amenn
ambee append-text path-to-generated-images file-line-for-video-converter amenn
ambee append-text-no-space filename-png-rendered file-line-for-video-converter amenn
ambee append-new-line file-line-for-video-converter amenn
ambee append-text-no-space file-line-for-video-converter list-of-files-for-png-to-video-converter amenn
----
write-one-avar-begin-end-to-avar-summary-file:
ambee copy-text avar-id avar-summary-line amenn
ambee append-text avar-type avar-summary-line amenn
ambee append-text transition-type avar-summary-line amenn
ambee append-text avar-value-begin avar-summary-line amenn
ambee append-text avar-value-end avar-summary-line amenn
ambee append-text avar-frame-begin avar-summary-line amenn
ambee append-text avar-frame-at-value-begin avar-summary-line amenn
ambee append-text avar-frame-at-value-end avar-summary-line amenn
ambee append-text avar-frame-end avar-summary-line amenn
ambee expand-text template-filename-avar-summary filename-avar-summary amenn
ambee copy-text path-to-avar-info-files dashrep-path-prefix-for-file-writing amenn
ambee copy-from-phrase-append-to-file avar-summary-line ambee filename-avar-summary amenn amenn

ambee put-into-phrase output-line ******* amenn
ambee append-text avar-summary-line output-line amenn
ambee write-output-line-to-log-file amenn
----
template-filename-avar-summary:
avar_summary_info.txt no-space
----
write-output-line-to-log-file:
ambee clear-phrase dashrep-path-prefix-for-file-writing amenn
ambee copy-from-phrase-append-to-file output-line ambee output-filename-log-file amenn amenn
----
got-here:
ambee put-into-phrase output-line got here: amenn
ambee append-text got-here-value output-line amenn
ambee write-output-line-to-log-file amenn
----
get-all-phrase-names:
ambee generate-list-of-all-dashrep-phrases list-of-all-phrase-names amenn
----
show-all-phrase-names:
ambee get-all-phrase-names amenn
ambee clear-phrase output-line amenn
ambee put-into-phrase output-line all phrases: amenn
ambee append-text list-of-all-phrase-names output-line amenn
ambee write-output-line-to-log-file amenn
----
